219 INFO  [2012-06-10 00:06:09,642 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
235 INFO  [2012-06-10 00:06:09,658 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
235 INFO  [2012-06-10 00:06:09,658 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
241 INFO  [2012-06-10 00:06:09,664 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
249 DEBUG [2012-06-10 00:06:09,672 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
249 INFO  [2012-06-10 00:06:09,672 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
319 DEBUG [2012-06-10 00:06:09,742 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
333 DEBUG [2012-06-10 00:06:09,756 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
337 DEBUG [2012-06-10 00:06:09,760 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
338 DEBUG [2012-06-10 00:06:09,761 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
434 DEBUG [2012-06-10 00:06:09,857 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
446 DEBUG [2012-06-10 00:06:09,869 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
447 DEBUG [2012-06-10 00:06:09,870 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
451 DEBUG [2012-06-10 00:06:09,874 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
455 DEBUG [2012-06-10 00:06:09,878 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
456 DEBUG [2012-06-10 00:06:09,879 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
459 DEBUG [2012-06-10 00:06:09,882 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
460 DEBUG [2012-06-10 00:06:09,883 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
462 DEBUG [2012-06-10 00:06:09,885 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
463 DEBUG [2012-06-10 00:06:09,886 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
464 INFO  [2012-06-10 00:06:09,887 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 196 ms. Total beans: 7
553 DEBUG [2012-06-10 00:06:09,976 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
555 DEBUG [2012-06-10 00:06:09,978 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
596 INFO  [2012-06-10 00:06:10,019 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
599 DEBUG [2012-06-10 00:06:10,022 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
600 DEBUG [2012-06-10 00:06:10,023 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
607 INFO  [2012-06-10 00:06:10,030 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1046 DEBUG [2012-06-10 00:06:10,469 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1047 DEBUG [2012-06-10 00:06:10,470 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1199 INFO  [2012-06-10 00:06:10,622 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 129 ms. Total entities: 9
1206 DEBUG [2012-06-10 00:06:10,629 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1206 DEBUG [2012-06-10 00:06:10,629 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1206 DEBUG [2012-06-10 00:06:10,629 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1207 DEBUG [2012-06-10 00:06:10,630 main] jodd.db.DbSession#debug:36 - Creating new db session
1233 DEBUG [2012-06-10 00:06:10,656 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1235 DEBUG [2012-06-10 00:06:10,658 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1239 DEBUG [2012-06-10 00:06:10,662 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1240 DEBUG [2012-06-10 00:06:10,663 main] jodd.db.DbSession#debug:36 - Closing db session
1240 INFO  [2012-06-10 00:06:10,663 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1241 DEBUG [2012-06-10 00:06:10,664 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1242 DEBUG [2012-06-10 00:06:10,665 main] jodd.db.DbSession#debug:36 - Creating new db session
1243 DEBUG [2012-06-10 00:06:10,666 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1243 DEBUG [2012-06-10 00:06:10,666 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1244 DEBUG [2012-06-10 00:06:10,667 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1244 DEBUG [2012-06-10 00:06:10,667 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1244 DEBUG [2012-06-10 00:06:10,667 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1245 DEBUG [2012-06-10 00:06:10,668 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1245 DEBUG [2012-06-10 00:06:10,668 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1246 DEBUG [2012-06-10 00:06:10,669 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1246 DEBUG [2012-06-10 00:06:10,669 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1246 DEBUG [2012-06-10 00:06:10,669 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1247 DEBUG [2012-06-10 00:06:10,670 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1247 DEBUG [2012-06-10 00:06:10,670 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1248 DEBUG [2012-06-10 00:06:10,671 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1248 DEBUG [2012-06-10 00:06:10,671 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1248 DEBUG [2012-06-10 00:06:10,671 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1249 DEBUG [2012-06-10 00:06:10,672 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1249 DEBUG [2012-06-10 00:06:10,672 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1249 DEBUG [2012-06-10 00:06:10,672 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1250 DEBUG [2012-06-10 00:06:10,673 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1250 DEBUG [2012-06-10 00:06:10,673 main] jodd.db.DbSession#debug:36 - Closing db session
1250 INFO  [2012-06-10 00:06:10,673 main] c.b.r.install.DbInstaller#info:46 - Database reset
1251 INFO  [2012-06-10 00:06:10,674 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1251 DEBUG [2012-06-10 00:06:10,674 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1253 DEBUG [2012-06-10 00:06:10,676 main] jodd.db.DbSession#debug:36 - Creating new db session
1253 DEBUG [2012-06-10 00:06:10,676 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1254 DEBUG [2012-06-10 00:06:10,677 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1255 DEBUG [2012-06-10 00:06:10,678 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1255 DEBUG [2012-06-10 00:06:10,678 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1255 DEBUG [2012-06-10 00:06:10,678 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1256 DEBUG [2012-06-10 00:06:10,679 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1257 DEBUG [2012-06-10 00:06:10,680 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1257 DEBUG [2012-06-10 00:06:10,680 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1257 DEBUG [2012-06-10 00:06:10,680 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1258 DEBUG [2012-06-10 00:06:10,681 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1258 DEBUG [2012-06-10 00:06:10,681 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1258 DEBUG [2012-06-10 00:06:10,681 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1259 DEBUG [2012-06-10 00:06:10,682 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1259 DEBUG [2012-06-10 00:06:10,682 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1260 DEBUG [2012-06-10 00:06:10,683 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1260 DEBUG [2012-06-10 00:06:10,683 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1261 DEBUG [2012-06-10 00:06:10,684 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1261 DEBUG [2012-06-10 00:06:10,684 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1262 DEBUG [2012-06-10 00:06:10,685 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1262 DEBUG [2012-06-10 00:06:10,685 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1263 DEBUG [2012-06-10 00:06:10,686 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1263 DEBUG [2012-06-10 00:06:10,686 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1264 DEBUG [2012-06-10 00:06:10,687 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1264 DEBUG [2012-06-10 00:06:10,687 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1264 DEBUG [2012-06-10 00:06:10,687 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1265 DEBUG [2012-06-10 00:06:10,688 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1265 DEBUG [2012-06-10 00:06:10,688 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1266 DEBUG [2012-06-10 00:06:10,689 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1266 DEBUG [2012-06-10 00:06:10,689 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1266 DEBUG [2012-06-10 00:06:10,689 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1267 DEBUG [2012-06-10 00:06:10,690 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1267 DEBUG [2012-06-10 00:06:10,690 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1268 DEBUG [2012-06-10 00:06:10,691 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1268 DEBUG [2012-06-10 00:06:10,691 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1269 DEBUG [2012-06-10 00:06:10,692 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1269 DEBUG [2012-06-10 00:06:10,692 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1270 DEBUG [2012-06-10 00:06:10,693 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1270 DEBUG [2012-06-10 00:06:10,693 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1270 DEBUG [2012-06-10 00:06:10,693 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1271 DEBUG [2012-06-10 00:06:10,694 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1272 DEBUG [2012-06-10 00:06:10,695 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1272 DEBUG [2012-06-10 00:06:10,695 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1273 DEBUG [2012-06-10 00:06:10,696 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1273 DEBUG [2012-06-10 00:06:10,696 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1274 DEBUG [2012-06-10 00:06:10,697 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1274 DEBUG [2012-06-10 00:06:10,697 main] jodd.db.DbSession#debug:36 - Closing db session
1275 INFO  [2012-06-10 00:06:10,698 main] c.b.r.install.DbInstaller#info:46 - Database created.
1275 INFO  [2012-06-10 00:06:10,698 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1291 DEBUG [2012-06-10 00:06:10,714 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1293 DEBUG [2012-06-10 00:06:10,716 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1334 DEBUG [2012-06-10 00:06:10,757 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1337 DEBUG [2012-06-10 00:06:10,760 main] jodd.db.DbSession#debug:36 - Creating new db session
1338 DEBUG [2012-06-10 00:06:10,761 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
22343 DEBUG [2012-06-10 00:06:31,766 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
22347 DEBUG [2012-06-10 00:06:31,770 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
22347 DEBUG [2012-06-10 00:06:31,770 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
22347 DEBUG [2012-06-10 00:06:31,770 main] jodd.db.DbSession#debug:36 - Closing db session
22348 DEBUG [2012-06-10 00:06:31,771 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
22348 DEBUG [2012-06-10 00:06:31,771 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
22350 DEBUG [2012-06-10 00:06:31,773 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
22350 DEBUG [2012-06-10 00:06:31,773 main] jodd.db.DbSession#debug:36 - Creating new db session
22351 DEBUG [2012-06-10 00:06:31,774 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
22474 DEBUG [2012-06-10 00:06:31,897 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
22474 DEBUG [2012-06-10 00:06:31,897 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
22475 DEBUG [2012-06-10 00:06:31,898 main] jodd.db.DbSession#debug:36 - Closing db session
220 INFO  [2012-06-10 00:13:04,593 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
225 INFO  [2012-06-10 00:13:04,598 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
226 INFO  [2012-06-10 00:13:04,599 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
231 INFO  [2012-06-10 00:13:04,604 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
239 DEBUG [2012-06-10 00:13:04,612 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
240 INFO  [2012-06-10 00:13:04,613 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
315 DEBUG [2012-06-10 00:13:04,688 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
330 DEBUG [2012-06-10 00:13:04,703 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
334 DEBUG [2012-06-10 00:13:04,707 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
334 DEBUG [2012-06-10 00:13:04,707 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
451 DEBUG [2012-06-10 00:13:04,824 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
459 DEBUG [2012-06-10 00:13:04,832 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
470 DEBUG [2012-06-10 00:13:04,843 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
474 DEBUG [2012-06-10 00:13:04,847 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
483 DEBUG [2012-06-10 00:13:04,856 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
484 DEBUG [2012-06-10 00:13:04,857 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
487 DEBUG [2012-06-10 00:13:04,860 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
487 DEBUG [2012-06-10 00:13:04,860 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
489 DEBUG [2012-06-10 00:13:04,862 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
490 DEBUG [2012-06-10 00:13:04,863 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
491 INFO  [2012-06-10 00:13:04,864 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 227 ms. Total beans: 7
562 DEBUG [2012-06-10 00:13:04,935 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
563 DEBUG [2012-06-10 00:13:04,936 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
599 INFO  [2012-06-10 00:13:04,972 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
602 DEBUG [2012-06-10 00:13:04,975 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
603 DEBUG [2012-06-10 00:13:04,976 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
609 INFO  [2012-06-10 00:13:04,982 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1027 DEBUG [2012-06-10 00:13:05,400 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1029 DEBUG [2012-06-10 00:13:05,402 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1152 INFO  [2012-06-10 00:13:05,525 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 106 ms. Total entities: 9
1157 DEBUG [2012-06-10 00:13:05,530 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1158 DEBUG [2012-06-10 00:13:05,531 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1159 DEBUG [2012-06-10 00:13:05,532 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1159 DEBUG [2012-06-10 00:13:05,532 main] jodd.db.DbSession#debug:36 - Creating new db session
1163 DEBUG [2012-06-10 00:13:05,536 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1166 DEBUG [2012-06-10 00:13:05,539 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1169 DEBUG [2012-06-10 00:13:05,542 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1170 DEBUG [2012-06-10 00:13:05,543 main] jodd.db.DbSession#debug:36 - Closing db session
1170 INFO  [2012-06-10 00:13:05,543 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1171 DEBUG [2012-06-10 00:13:05,544 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1172 DEBUG [2012-06-10 00:13:05,545 main] jodd.db.DbSession#debug:36 - Creating new db session
1173 DEBUG [2012-06-10 00:13:05,546 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1173 DEBUG [2012-06-10 00:13:05,546 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1174 DEBUG [2012-06-10 00:13:05,547 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1175 DEBUG [2012-06-10 00:13:05,548 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1175 DEBUG [2012-06-10 00:13:05,548 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1176 DEBUG [2012-06-10 00:13:05,549 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1176 DEBUG [2012-06-10 00:13:05,549 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1176 DEBUG [2012-06-10 00:13:05,549 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1177 DEBUG [2012-06-10 00:13:05,550 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1177 DEBUG [2012-06-10 00:13:05,550 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1178 DEBUG [2012-06-10 00:13:05,551 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1178 DEBUG [2012-06-10 00:13:05,551 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1179 DEBUG [2012-06-10 00:13:05,552 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1180 DEBUG [2012-06-10 00:13:05,553 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1180 DEBUG [2012-06-10 00:13:05,553 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1181 DEBUG [2012-06-10 00:13:05,554 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1181 DEBUG [2012-06-10 00:13:05,554 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1181 DEBUG [2012-06-10 00:13:05,554 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1182 DEBUG [2012-06-10 00:13:05,555 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1182 DEBUG [2012-06-10 00:13:05,555 main] jodd.db.DbSession#debug:36 - Closing db session
1183 INFO  [2012-06-10 00:13:05,556 main] c.b.r.install.DbInstaller#info:46 - Database reset
1183 INFO  [2012-06-10 00:13:05,556 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1184 DEBUG [2012-06-10 00:13:05,557 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1185 DEBUG [2012-06-10 00:13:05,558 main] jodd.db.DbSession#debug:36 - Creating new db session
1186 DEBUG [2012-06-10 00:13:05,559 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1186 DEBUG [2012-06-10 00:13:05,559 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1187 DEBUG [2012-06-10 00:13:05,560 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1187 DEBUG [2012-06-10 00:13:05,560 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1188 DEBUG [2012-06-10 00:13:05,561 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1189 DEBUG [2012-06-10 00:13:05,562 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1190 DEBUG [2012-06-10 00:13:05,563 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1190 DEBUG [2012-06-10 00:13:05,563 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1191 DEBUG [2012-06-10 00:13:05,564 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1191 DEBUG [2012-06-10 00:13:05,564 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1192 DEBUG [2012-06-10 00:13:05,565 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1192 DEBUG [2012-06-10 00:13:05,565 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1193 DEBUG [2012-06-10 00:13:05,566 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1193 DEBUG [2012-06-10 00:13:05,566 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1194 DEBUG [2012-06-10 00:13:05,567 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1194 DEBUG [2012-06-10 00:13:05,567 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1195 DEBUG [2012-06-10 00:13:05,568 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1195 DEBUG [2012-06-10 00:13:05,568 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1196 DEBUG [2012-06-10 00:13:05,569 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1197 DEBUG [2012-06-10 00:13:05,570 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1197 DEBUG [2012-06-10 00:13:05,570 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1198 DEBUG [2012-06-10 00:13:05,571 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1199 DEBUG [2012-06-10 00:13:05,572 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1199 DEBUG [2012-06-10 00:13:05,572 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1200 DEBUG [2012-06-10 00:13:05,573 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1201 DEBUG [2012-06-10 00:13:05,574 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1202 DEBUG [2012-06-10 00:13:05,575 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1202 DEBUG [2012-06-10 00:13:05,575 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1203 DEBUG [2012-06-10 00:13:05,576 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1205 DEBUG [2012-06-10 00:13:05,578 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1206 DEBUG [2012-06-10 00:13:05,579 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1206 DEBUG [2012-06-10 00:13:05,579 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1207 DEBUG [2012-06-10 00:13:05,580 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1208 DEBUG [2012-06-10 00:13:05,581 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1208 DEBUG [2012-06-10 00:13:05,581 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1209 DEBUG [2012-06-10 00:13:05,582 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1209 DEBUG [2012-06-10 00:13:05,582 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1210 DEBUG [2012-06-10 00:13:05,583 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1210 DEBUG [2012-06-10 00:13:05,583 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1211 DEBUG [2012-06-10 00:13:05,584 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1212 DEBUG [2012-06-10 00:13:05,585 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1213 DEBUG [2012-06-10 00:13:05,586 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1213 DEBUG [2012-06-10 00:13:05,586 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1213 DEBUG [2012-06-10 00:13:05,586 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1214 DEBUG [2012-06-10 00:13:05,587 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1214 DEBUG [2012-06-10 00:13:05,587 main] jodd.db.DbSession#debug:36 - Closing db session
1214 INFO  [2012-06-10 00:13:05,587 main] c.b.r.install.DbInstaller#info:46 - Database created.
1215 INFO  [2012-06-10 00:13:05,588 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1238 DEBUG [2012-06-10 00:13:05,611 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1241 DEBUG [2012-06-10 00:13:05,614 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1268 DEBUG [2012-06-10 00:13:05,641 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1270 DEBUG [2012-06-10 00:13:05,643 main] jodd.db.DbSession#debug:36 - Creating new db session
1271 DEBUG [2012-06-10 00:13:05,644 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1399 DEBUG [2012-06-10 00:13:05,772 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1401 DEBUG [2012-06-10 00:13:05,774 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1402 DEBUG [2012-06-10 00:13:05,775 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1402 DEBUG [2012-06-10 00:13:05,775 main] jodd.db.DbSession#debug:36 - Closing db session
1403 DEBUG [2012-06-10 00:13:05,776 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1403 DEBUG [2012-06-10 00:13:05,776 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1405 DEBUG [2012-06-10 00:13:05,778 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1405 DEBUG [2012-06-10 00:13:05,778 main] jodd.db.DbSession#debug:36 - Creating new db session
1405 DEBUG [2012-06-10 00:13:05,778 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1508 DEBUG [2012-06-10 00:13:05,881 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1516 DEBUG [2012-06-10 00:13:05,889 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1517 DEBUG [2012-06-10 00:13:05,890 main] jodd.db.DbSession#debug:36 - Closing db session
213 INFO  [2012-06-10 00:15:35,567 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:15:35,572 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:15:35,572 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
224 INFO  [2012-06-10 00:15:35,578 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
232 DEBUG [2012-06-10 00:15:35,586 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
232 INFO  [2012-06-10 00:15:35,586 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
307 DEBUG [2012-06-10 00:15:35,661 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
319 DEBUG [2012-06-10 00:15:35,673 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
323 DEBUG [2012-06-10 00:15:35,677 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
324 DEBUG [2012-06-10 00:15:35,678 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
465 DEBUG [2012-06-10 00:15:35,819 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
473 DEBUG [2012-06-10 00:15:35,827 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
480 DEBUG [2012-06-10 00:15:35,834 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
483 DEBUG [2012-06-10 00:15:35,837 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
493 DEBUG [2012-06-10 00:15:35,847 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
494 DEBUG [2012-06-10 00:15:35,848 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
498 DEBUG [2012-06-10 00:15:35,852 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
498 DEBUG [2012-06-10 00:15:35,852 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
500 DEBUG [2012-06-10 00:15:35,854 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
501 DEBUG [2012-06-10 00:15:35,855 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
502 INFO  [2012-06-10 00:15:35,856 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 249 ms. Total beans: 7
598 DEBUG [2012-06-10 00:15:35,952 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
600 DEBUG [2012-06-10 00:15:35,954 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
647 INFO  [2012-06-10 00:15:36,001 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
652 DEBUG [2012-06-10 00:15:36,006 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
653 DEBUG [2012-06-10 00:15:36,007 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
660 INFO  [2012-06-10 00:15:36,014 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1094 DEBUG [2012-06-10 00:15:36,448 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1095 DEBUG [2012-06-10 00:15:36,449 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1210 INFO  [2012-06-10 00:15:36,564 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 102 ms. Total entities: 9
1215 DEBUG [2012-06-10 00:15:36,569 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1216 DEBUG [2012-06-10 00:15:36,570 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1216 DEBUG [2012-06-10 00:15:36,570 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1217 DEBUG [2012-06-10 00:15:36,571 main] jodd.db.DbSession#debug:36 - Creating new db session
1221 DEBUG [2012-06-10 00:15:36,575 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1223 DEBUG [2012-06-10 00:15:36,577 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1227 DEBUG [2012-06-10 00:15:36,581 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1228 DEBUG [2012-06-10 00:15:36,582 main] jodd.db.DbSession#debug:36 - Closing db session
1228 INFO  [2012-06-10 00:15:36,582 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1229 DEBUG [2012-06-10 00:15:36,583 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1230 DEBUG [2012-06-10 00:15:36,584 main] jodd.db.DbSession#debug:36 - Creating new db session
1231 DEBUG [2012-06-10 00:15:36,585 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1231 DEBUG [2012-06-10 00:15:36,585 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1232 DEBUG [2012-06-10 00:15:36,586 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1232 DEBUG [2012-06-10 00:15:36,586 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1233 DEBUG [2012-06-10 00:15:36,587 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1233 DEBUG [2012-06-10 00:15:36,587 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1234 DEBUG [2012-06-10 00:15:36,588 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1234 DEBUG [2012-06-10 00:15:36,588 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1234 DEBUG [2012-06-10 00:15:36,588 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1235 DEBUG [2012-06-10 00:15:36,589 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1235 DEBUG [2012-06-10 00:15:36,589 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1236 DEBUG [2012-06-10 00:15:36,590 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1236 DEBUG [2012-06-10 00:15:36,590 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1237 DEBUG [2012-06-10 00:15:36,591 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1237 DEBUG [2012-06-10 00:15:36,591 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1237 DEBUG [2012-06-10 00:15:36,591 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1238 DEBUG [2012-06-10 00:15:36,592 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1238 DEBUG [2012-06-10 00:15:36,592 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1239 DEBUG [2012-06-10 00:15:36,593 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1239 DEBUG [2012-06-10 00:15:36,593 main] jodd.db.DbSession#debug:36 - Closing db session
1239 INFO  [2012-06-10 00:15:36,593 main] c.b.r.install.DbInstaller#info:46 - Database reset
1240 INFO  [2012-06-10 00:15:36,594 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1240 DEBUG [2012-06-10 00:15:36,594 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1241 DEBUG [2012-06-10 00:15:36,595 main] jodd.db.DbSession#debug:36 - Creating new db session
1242 DEBUG [2012-06-10 00:15:36,596 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1242 DEBUG [2012-06-10 00:15:36,596 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1243 DEBUG [2012-06-10 00:15:36,597 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1244 DEBUG [2012-06-10 00:15:36,598 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1244 DEBUG [2012-06-10 00:15:36,598 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1244 DEBUG [2012-06-10 00:15:36,598 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1245 DEBUG [2012-06-10 00:15:36,599 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1246 DEBUG [2012-06-10 00:15:36,600 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1246 DEBUG [2012-06-10 00:15:36,600 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1247 DEBUG [2012-06-10 00:15:36,601 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1247 DEBUG [2012-06-10 00:15:36,601 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1247 DEBUG [2012-06-10 00:15:36,601 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1248 DEBUG [2012-06-10 00:15:36,602 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1248 DEBUG [2012-06-10 00:15:36,602 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1249 DEBUG [2012-06-10 00:15:36,603 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1249 DEBUG [2012-06-10 00:15:36,603 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1250 DEBUG [2012-06-10 00:15:36,604 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1250 DEBUG [2012-06-10 00:15:36,604 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1251 DEBUG [2012-06-10 00:15:36,605 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1251 DEBUG [2012-06-10 00:15:36,605 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1252 DEBUG [2012-06-10 00:15:36,606 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1252 DEBUG [2012-06-10 00:15:36,606 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1253 DEBUG [2012-06-10 00:15:36,607 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1253 DEBUG [2012-06-10 00:15:36,607 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1254 DEBUG [2012-06-10 00:15:36,608 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1254 DEBUG [2012-06-10 00:15:36,608 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1255 DEBUG [2012-06-10 00:15:36,609 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1255 DEBUG [2012-06-10 00:15:36,609 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1256 DEBUG [2012-06-10 00:15:36,610 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1256 DEBUG [2012-06-10 00:15:36,610 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1257 DEBUG [2012-06-10 00:15:36,611 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1257 DEBUG [2012-06-10 00:15:36,611 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1258 DEBUG [2012-06-10 00:15:36,612 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1258 DEBUG [2012-06-10 00:15:36,612 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1259 DEBUG [2012-06-10 00:15:36,613 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1259 DEBUG [2012-06-10 00:15:36,613 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1260 DEBUG [2012-06-10 00:15:36,614 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1260 DEBUG [2012-06-10 00:15:36,614 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1260 DEBUG [2012-06-10 00:15:36,614 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1261 DEBUG [2012-06-10 00:15:36,615 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1266 DEBUG [2012-06-10 00:15:36,620 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1266 DEBUG [2012-06-10 00:15:36,620 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1267 DEBUG [2012-06-10 00:15:36,621 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1267 DEBUG [2012-06-10 00:15:36,621 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1268 DEBUG [2012-06-10 00:15:36,622 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1268 DEBUG [2012-06-10 00:15:36,622 main] jodd.db.DbSession#debug:36 - Closing db session
1268 INFO  [2012-06-10 00:15:36,622 main] c.b.r.install.DbInstaller#info:46 - Database created.
1269 INFO  [2012-06-10 00:15:36,623 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1281 DEBUG [2012-06-10 00:15:36,635 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1284 DEBUG [2012-06-10 00:15:36,638 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1303 DEBUG [2012-06-10 00:15:36,657 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1303 DEBUG [2012-06-10 00:15:36,657 main] jodd.db.DbSession#debug:36 - Creating new db session
1304 DEBUG [2012-06-10 00:15:36,658 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1415 DEBUG [2012-06-10 00:15:36,769 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1418 DEBUG [2012-06-10 00:15:36,772 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1419 DEBUG [2012-06-10 00:15:36,773 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1419 DEBUG [2012-06-10 00:15:36,773 main] jodd.db.DbSession#debug:36 - Closing db session
1420 DEBUG [2012-06-10 00:15:36,774 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1420 DEBUG [2012-06-10 00:15:36,774 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1421 DEBUG [2012-06-10 00:15:36,775 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1421 DEBUG [2012-06-10 00:15:36,775 main] jodd.db.DbSession#debug:36 - Creating new db session
1422 DEBUG [2012-06-10 00:15:36,776 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1483 DEBUG [2012-06-10 00:15:36,837 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1494 DEBUG [2012-06-10 00:15:36,848 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1495 DEBUG [2012-06-10 00:15:36,849 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1495 DEBUG [2012-06-10 00:15:36,849 main] jodd.db.DbSession#debug:36 - Closing db session
1496 DEBUG [2012-06-10 00:15:36,850 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1496 DEBUG [2012-06-10 00:15:36,850 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1497 DEBUG [2012-06-10 00:15:36,851 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1497 DEBUG [2012-06-10 00:15:36,851 main] jodd.db.DbSession#debug:36 - Creating new db session
1498 DEBUG [2012-06-10 00:15:36,852 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1666 DEBUG [2012-06-10 00:15:37,020 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1667 DEBUG [2012-06-10 00:15:37,021 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1667 DEBUG [2012-06-10 00:15:37,021 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1668 DEBUG [2012-06-10 00:15:37,022 main] jodd.db.DbSession#debug:36 - Closing db session
1672 DEBUG [2012-06-10 00:15:37,026 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1673 DEBUG [2012-06-10 00:15:37,027 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1673 DEBUG [2012-06-10 00:15:37,027 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1673 DEBUG [2012-06-10 00:15:37,027 main] jodd.db.DbSession#debug:36 - Creating new db session
1674 DEBUG [2012-06-10 00:15:37,028 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1676 DEBUG [2012-06-10 00:15:37,030 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1677 DEBUG [2012-06-10 00:15:37,031 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1677 DEBUG [2012-06-10 00:15:37,031 main] jodd.db.DbSession#debug:36 - Closing db session
194 INFO  [2012-06-10 00:16:12,336 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
199 INFO  [2012-06-10 00:16:12,341 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
199 INFO  [2012-06-10 00:16:12,341 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
204 INFO  [2012-06-10 00:16:12,346 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
211 DEBUG [2012-06-10 00:16:12,353 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
212 INFO  [2012-06-10 00:16:12,354 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
280 DEBUG [2012-06-10 00:16:12,422 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
291 DEBUG [2012-06-10 00:16:12,433 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
295 DEBUG [2012-06-10 00:16:12,437 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
296 DEBUG [2012-06-10 00:16:12,438 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
397 DEBUG [2012-06-10 00:16:12,539 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
404 DEBUG [2012-06-10 00:16:12,546 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
415 DEBUG [2012-06-10 00:16:12,557 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
418 DEBUG [2012-06-10 00:16:12,560 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
431 DEBUG [2012-06-10 00:16:12,573 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
432 DEBUG [2012-06-10 00:16:12,574 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
436 DEBUG [2012-06-10 00:16:12,578 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
438 DEBUG [2012-06-10 00:16:12,580 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
440 DEBUG [2012-06-10 00:16:12,582 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
441 DEBUG [2012-06-10 00:16:12,583 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
442 INFO  [2012-06-10 00:16:12,584 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 208 ms. Total beans: 7
532 DEBUG [2012-06-10 00:16:12,674 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
534 DEBUG [2012-06-10 00:16:12,676 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
569 INFO  [2012-06-10 00:16:12,711 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
572 DEBUG [2012-06-10 00:16:12,714 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
573 DEBUG [2012-06-10 00:16:12,715 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
578 INFO  [2012-06-10 00:16:12,720 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
923 DEBUG [2012-06-10 00:16:13,065 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
924 DEBUG [2012-06-10 00:16:13,066 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1044 INFO  [2012-06-10 00:16:13,186 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 106 ms. Total entities: 9
1050 DEBUG [2012-06-10 00:16:13,192 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1050 DEBUG [2012-06-10 00:16:13,192 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1050 DEBUG [2012-06-10 00:16:13,192 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1051 DEBUG [2012-06-10 00:16:13,193 main] jodd.db.DbSession#debug:36 - Creating new db session
1054 DEBUG [2012-06-10 00:16:13,196 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1056 DEBUG [2012-06-10 00:16:13,198 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1060 DEBUG [2012-06-10 00:16:13,202 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1060 DEBUG [2012-06-10 00:16:13,202 main] jodd.db.DbSession#debug:36 - Closing db session
1061 INFO  [2012-06-10 00:16:13,203 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1061 DEBUG [2012-06-10 00:16:13,203 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1063 DEBUG [2012-06-10 00:16:13,205 main] jodd.db.DbSession#debug:36 - Creating new db session
1063 DEBUG [2012-06-10 00:16:13,205 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1063 DEBUG [2012-06-10 00:16:13,205 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1064 DEBUG [2012-06-10 00:16:13,206 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1064 DEBUG [2012-06-10 00:16:13,206 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1065 DEBUG [2012-06-10 00:16:13,207 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1065 DEBUG [2012-06-10 00:16:13,207 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1065 DEBUG [2012-06-10 00:16:13,207 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1066 DEBUG [2012-06-10 00:16:13,208 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1066 DEBUG [2012-06-10 00:16:13,208 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1066 DEBUG [2012-06-10 00:16:13,208 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1067 DEBUG [2012-06-10 00:16:13,209 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1067 DEBUG [2012-06-10 00:16:13,209 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1068 DEBUG [2012-06-10 00:16:13,210 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1068 DEBUG [2012-06-10 00:16:13,210 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1068 DEBUG [2012-06-10 00:16:13,210 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1069 DEBUG [2012-06-10 00:16:13,211 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1069 DEBUG [2012-06-10 00:16:13,211 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1070 DEBUG [2012-06-10 00:16:13,212 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1070 DEBUG [2012-06-10 00:16:13,212 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1070 DEBUG [2012-06-10 00:16:13,212 main] jodd.db.DbSession#debug:36 - Closing db session
1071 INFO  [2012-06-10 00:16:13,213 main] c.b.r.install.DbInstaller#info:46 - Database reset
1071 INFO  [2012-06-10 00:16:13,213 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1071 DEBUG [2012-06-10 00:16:13,213 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1072 DEBUG [2012-06-10 00:16:13,214 main] jodd.db.DbSession#debug:36 - Creating new db session
1073 DEBUG [2012-06-10 00:16:13,215 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1073 DEBUG [2012-06-10 00:16:13,215 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1074 DEBUG [2012-06-10 00:16:13,216 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1074 DEBUG [2012-06-10 00:16:13,216 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1075 DEBUG [2012-06-10 00:16:13,217 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1075 DEBUG [2012-06-10 00:16:13,217 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1076 DEBUG [2012-06-10 00:16:13,218 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1077 DEBUG [2012-06-10 00:16:13,219 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1077 DEBUG [2012-06-10 00:16:13,219 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1078 DEBUG [2012-06-10 00:16:13,220 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1078 DEBUG [2012-06-10 00:16:13,220 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1078 DEBUG [2012-06-10 00:16:13,220 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1079 DEBUG [2012-06-10 00:16:13,221 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1079 DEBUG [2012-06-10 00:16:13,221 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1080 DEBUG [2012-06-10 00:16:13,222 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1080 DEBUG [2012-06-10 00:16:13,222 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1080 DEBUG [2012-06-10 00:16:13,222 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1081 DEBUG [2012-06-10 00:16:13,223 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1082 DEBUG [2012-06-10 00:16:13,224 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1082 DEBUG [2012-06-10 00:16:13,224 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1082 DEBUG [2012-06-10 00:16:13,224 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1083 DEBUG [2012-06-10 00:16:13,225 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1083 DEBUG [2012-06-10 00:16:13,225 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1083 DEBUG [2012-06-10 00:16:13,225 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1084 DEBUG [2012-06-10 00:16:13,226 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1084 DEBUG [2012-06-10 00:16:13,226 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1085 DEBUG [2012-06-10 00:16:13,227 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1085 DEBUG [2012-06-10 00:16:13,227 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1086 DEBUG [2012-06-10 00:16:13,228 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1086 DEBUG [2012-06-10 00:16:13,228 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1087 DEBUG [2012-06-10 00:16:13,229 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1087 DEBUG [2012-06-10 00:16:13,229 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1088 DEBUG [2012-06-10 00:16:13,230 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1088 DEBUG [2012-06-10 00:16:13,230 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1089 DEBUG [2012-06-10 00:16:13,231 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1089 DEBUG [2012-06-10 00:16:13,231 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1090 DEBUG [2012-06-10 00:16:13,232 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1090 DEBUG [2012-06-10 00:16:13,232 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1090 DEBUG [2012-06-10 00:16:13,232 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1091 DEBUG [2012-06-10 00:16:13,233 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1092 DEBUG [2012-06-10 00:16:13,234 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1092 DEBUG [2012-06-10 00:16:13,234 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1093 DEBUG [2012-06-10 00:16:13,235 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1093 DEBUG [2012-06-10 00:16:13,235 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1094 DEBUG [2012-06-10 00:16:13,236 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1094 DEBUG [2012-06-10 00:16:13,236 main] jodd.db.DbSession#debug:36 - Closing db session
1095 INFO  [2012-06-10 00:16:13,237 main] c.b.r.install.DbInstaller#info:46 - Database created.
1095 INFO  [2012-06-10 00:16:13,237 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1110 DEBUG [2012-06-10 00:16:13,252 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1113 DEBUG [2012-06-10 00:16:13,255 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1130 DEBUG [2012-06-10 00:16:13,272 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1131 DEBUG [2012-06-10 00:16:13,273 main] jodd.db.DbSession#debug:36 - Creating new db session
1132 DEBUG [2012-06-10 00:16:13,274 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1217 DEBUG [2012-06-10 00:16:13,359 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1220 DEBUG [2012-06-10 00:16:13,362 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1220 DEBUG [2012-06-10 00:16:13,362 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1221 DEBUG [2012-06-10 00:16:13,363 main] jodd.db.DbSession#debug:36 - Closing db session
1221 DEBUG [2012-06-10 00:16:13,363 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1222 DEBUG [2012-06-10 00:16:13,364 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1223 DEBUG [2012-06-10 00:16:13,365 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1223 DEBUG [2012-06-10 00:16:13,365 main] jodd.db.DbSession#debug:36 - Creating new db session
1223 DEBUG [2012-06-10 00:16:13,365 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1261 DEBUG [2012-06-10 00:16:13,403 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1262 DEBUG [2012-06-10 00:16:13,404 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1262 DEBUG [2012-06-10 00:16:13,404 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1263 DEBUG [2012-06-10 00:16:13,405 main] jodd.db.DbSession#debug:36 - Closing db session
1263 DEBUG [2012-06-10 00:16:13,405 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1264 DEBUG [2012-06-10 00:16:13,406 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1265 DEBUG [2012-06-10 00:16:13,407 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1265 DEBUG [2012-06-10 00:16:13,407 main] jodd.db.DbSession#debug:36 - Creating new db session
1265 DEBUG [2012-06-10 00:16:13,407 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1380 DEBUG [2012-06-10 00:16:13,522 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1381 DEBUG [2012-06-10 00:16:13,523 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1382 DEBUG [2012-06-10 00:16:13,524 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1382 DEBUG [2012-06-10 00:16:13,524 main] jodd.db.DbSession#debug:36 - Closing db session
1385 DEBUG [2012-06-10 00:16:13,527 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1385 DEBUG [2012-06-10 00:16:13,527 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1386 DEBUG [2012-06-10 00:16:13,528 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1386 DEBUG [2012-06-10 00:16:13,528 main] jodd.db.DbSession#debug:36 - Creating new db session
1387 DEBUG [2012-06-10 00:16:13,529 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1389 DEBUG [2012-06-10 00:16:13,531 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1389 DEBUG [2012-06-10 00:16:13,531 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1390 DEBUG [2012-06-10 00:16:13,532 main] jodd.db.DbSession#debug:36 - Closing db session
186 INFO  [2012-06-10 00:16:35,533 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
192 INFO  [2012-06-10 00:16:35,539 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
193 INFO  [2012-06-10 00:16:35,540 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
198 INFO  [2012-06-10 00:16:35,545 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
204 DEBUG [2012-06-10 00:16:35,551 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
205 INFO  [2012-06-10 00:16:35,552 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
263 DEBUG [2012-06-10 00:16:35,610 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
277 DEBUG [2012-06-10 00:16:35,624 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
281 DEBUG [2012-06-10 00:16:35,628 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
282 DEBUG [2012-06-10 00:16:35,629 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
376 DEBUG [2012-06-10 00:16:35,723 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
383 DEBUG [2012-06-10 00:16:35,730 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
391 DEBUG [2012-06-10 00:16:35,738 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
394 DEBUG [2012-06-10 00:16:35,741 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
398 DEBUG [2012-06-10 00:16:35,745 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
399 DEBUG [2012-06-10 00:16:35,746 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
402 DEBUG [2012-06-10 00:16:35,749 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
402 DEBUG [2012-06-10 00:16:35,749 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
404 DEBUG [2012-06-10 00:16:35,751 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
405 DEBUG [2012-06-10 00:16:35,752 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
405 INFO  [2012-06-10 00:16:35,752 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 180 ms. Total beans: 7
481 DEBUG [2012-06-10 00:16:35,828 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
482 DEBUG [2012-06-10 00:16:35,829 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
512 INFO  [2012-06-10 00:16:35,859 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
515 DEBUG [2012-06-10 00:16:35,862 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
515 DEBUG [2012-06-10 00:16:35,862 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
520 INFO  [2012-06-10 00:16:35,867 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
856 DEBUG [2012-06-10 00:16:36,203 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
859 DEBUG [2012-06-10 00:16:36,206 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
961 INFO  [2012-06-10 00:16:36,308 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 89 ms. Total entities: 9
967 DEBUG [2012-06-10 00:16:36,314 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
967 DEBUG [2012-06-10 00:16:36,314 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
967 DEBUG [2012-06-10 00:16:36,314 main] c.b.r.install.DbInstaller#debug:36 - Check database.
968 DEBUG [2012-06-10 00:16:36,315 main] jodd.db.DbSession#debug:36 - Creating new db session
972 DEBUG [2012-06-10 00:16:36,319 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
974 DEBUG [2012-06-10 00:16:36,321 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
978 DEBUG [2012-06-10 00:16:36,325 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
979 DEBUG [2012-06-10 00:16:36,326 main] jodd.db.DbSession#debug:36 - Closing db session
979 INFO  [2012-06-10 00:16:36,326 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
979 DEBUG [2012-06-10 00:16:36,326 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
981 DEBUG [2012-06-10 00:16:36,328 main] jodd.db.DbSession#debug:36 - Creating new db session
981 DEBUG [2012-06-10 00:16:36,328 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
981 DEBUG [2012-06-10 00:16:36,328 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
982 DEBUG [2012-06-10 00:16:36,329 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
982 DEBUG [2012-06-10 00:16:36,329 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
983 DEBUG [2012-06-10 00:16:36,330 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
983 DEBUG [2012-06-10 00:16:36,330 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
984 DEBUG [2012-06-10 00:16:36,331 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
984 DEBUG [2012-06-10 00:16:36,331 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
985 DEBUG [2012-06-10 00:16:36,332 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
985 DEBUG [2012-06-10 00:16:36,332 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
985 DEBUG [2012-06-10 00:16:36,332 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
986 DEBUG [2012-06-10 00:16:36,333 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
986 DEBUG [2012-06-10 00:16:36,333 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
987 DEBUG [2012-06-10 00:16:36,334 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
987 DEBUG [2012-06-10 00:16:36,334 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
987 DEBUG [2012-06-10 00:16:36,334 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
988 DEBUG [2012-06-10 00:16:36,335 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
988 DEBUG [2012-06-10 00:16:36,335 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
989 DEBUG [2012-06-10 00:16:36,336 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
989 DEBUG [2012-06-10 00:16:36,336 main] jodd.db.DbSession#debug:36 - Closing db session
989 INFO  [2012-06-10 00:16:36,336 main] c.b.r.install.DbInstaller#info:46 - Database reset
990 INFO  [2012-06-10 00:16:36,337 main] c.b.r.install.DbInstaller#info:46 - Creating database...
990 DEBUG [2012-06-10 00:16:36,337 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
991 DEBUG [2012-06-10 00:16:36,338 main] jodd.db.DbSession#debug:36 - Creating new db session
992 DEBUG [2012-06-10 00:16:36,339 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
992 DEBUG [2012-06-10 00:16:36,339 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
993 DEBUG [2012-06-10 00:16:36,340 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
993 DEBUG [2012-06-10 00:16:36,340 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
994 DEBUG [2012-06-10 00:16:36,341 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
994 DEBUG [2012-06-10 00:16:36,341 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
995 DEBUG [2012-06-10 00:16:36,342 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
996 DEBUG [2012-06-10 00:16:36,343 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
996 DEBUG [2012-06-10 00:16:36,343 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
996 DEBUG [2012-06-10 00:16:36,343 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
997 DEBUG [2012-06-10 00:16:36,344 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
997 DEBUG [2012-06-10 00:16:36,344 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
997 DEBUG [2012-06-10 00:16:36,344 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
997 DEBUG [2012-06-10 00:16:36,344 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
998 DEBUG [2012-06-10 00:16:36,345 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
998 DEBUG [2012-06-10 00:16:36,345 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
999 DEBUG [2012-06-10 00:16:36,346 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
999 DEBUG [2012-06-10 00:16:36,346 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1000 DEBUG [2012-06-10 00:16:36,347 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1000 DEBUG [2012-06-10 00:16:36,347 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1001 DEBUG [2012-06-10 00:16:36,348 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1001 DEBUG [2012-06-10 00:16:36,348 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1001 DEBUG [2012-06-10 00:16:36,348 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1002 DEBUG [2012-06-10 00:16:36,349 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1002 DEBUG [2012-06-10 00:16:36,349 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1003 DEBUG [2012-06-10 00:16:36,350 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1005 DEBUG [2012-06-10 00:16:36,352 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1005 DEBUG [2012-06-10 00:16:36,352 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1005 DEBUG [2012-06-10 00:16:36,352 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1006 DEBUG [2012-06-10 00:16:36,353 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1006 DEBUG [2012-06-10 00:16:36,353 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1007 DEBUG [2012-06-10 00:16:36,354 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1007 DEBUG [2012-06-10 00:16:36,354 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1008 DEBUG [2012-06-10 00:16:36,355 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1008 DEBUG [2012-06-10 00:16:36,355 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1009 DEBUG [2012-06-10 00:16:36,356 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1009 DEBUG [2012-06-10 00:16:36,356 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1009 DEBUG [2012-06-10 00:16:36,356 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1010 DEBUG [2012-06-10 00:16:36,357 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1010 DEBUG [2012-06-10 00:16:36,357 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1011 DEBUG [2012-06-10 00:16:36,358 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1012 DEBUG [2012-06-10 00:16:36,359 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1012 DEBUG [2012-06-10 00:16:36,359 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1013 DEBUG [2012-06-10 00:16:36,360 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1013 DEBUG [2012-06-10 00:16:36,360 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1013 DEBUG [2012-06-10 00:16:36,360 main] jodd.db.DbSession#debug:36 - Closing db session
1014 INFO  [2012-06-10 00:16:36,361 main] c.b.r.install.DbInstaller#info:46 - Database created.
1014 INFO  [2012-06-10 00:16:36,361 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1030 DEBUG [2012-06-10 00:16:36,377 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1032 DEBUG [2012-06-10 00:16:36,379 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1050 DEBUG [2012-06-10 00:16:36,397 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1051 DEBUG [2012-06-10 00:16:36,398 main] jodd.db.DbSession#debug:36 - Creating new db session
1052 DEBUG [2012-06-10 00:16:36,399 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1146 DEBUG [2012-06-10 00:16:36,493 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1149 DEBUG [2012-06-10 00:16:36,496 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1150 DEBUG [2012-06-10 00:16:36,497 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1150 DEBUG [2012-06-10 00:16:36,497 main] jodd.db.DbSession#debug:36 - Closing db session
1151 DEBUG [2012-06-10 00:16:36,498 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1151 DEBUG [2012-06-10 00:16:36,498 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1153 DEBUG [2012-06-10 00:16:36,500 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1153 DEBUG [2012-06-10 00:16:36,500 main] jodd.db.DbSession#debug:36 - Creating new db session
1154 DEBUG [2012-06-10 00:16:36,501 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1187 DEBUG [2012-06-10 00:16:36,534 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1188 DEBUG [2012-06-10 00:16:36,535 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1188 DEBUG [2012-06-10 00:16:36,535 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1189 DEBUG [2012-06-10 00:16:36,536 main] jodd.db.DbSession#debug:36 - Closing db session
1190 DEBUG [2012-06-10 00:16:36,537 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1190 DEBUG [2012-06-10 00:16:36,537 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1192 DEBUG [2012-06-10 00:16:36,539 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1192 DEBUG [2012-06-10 00:16:36,539 main] jodd.db.DbSession#debug:36 - Creating new db session
1193 DEBUG [2012-06-10 00:16:36,540 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1346 DEBUG [2012-06-10 00:16:36,693 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1348 DEBUG [2012-06-10 00:16:36,695 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1349 DEBUG [2012-06-10 00:16:36,696 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1349 DEBUG [2012-06-10 00:16:36,696 main] jodd.db.DbSession#debug:36 - Closing db session
1352 DEBUG [2012-06-10 00:16:36,699 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1353 DEBUG [2012-06-10 00:16:36,700 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1353 DEBUG [2012-06-10 00:16:36,700 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1354 DEBUG [2012-06-10 00:16:36,701 main] jodd.db.DbSession#debug:36 - Creating new db session
1354 DEBUG [2012-06-10 00:16:36,701 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1356 DEBUG [2012-06-10 00:16:36,703 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1357 DEBUG [2012-06-10 00:16:36,704 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1357 DEBUG [2012-06-10 00:16:36,704 main] jodd.db.DbSession#debug:36 - Closing db session
231 INFO  [2012-06-10 00:17:35,837 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
236 INFO  [2012-06-10 00:17:35,842 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
237 INFO  [2012-06-10 00:17:35,843 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
243 INFO  [2012-06-10 00:17:35,849 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
251 DEBUG [2012-06-10 00:17:35,857 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
251 INFO  [2012-06-10 00:17:35,857 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
323 DEBUG [2012-06-10 00:17:35,929 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
334 DEBUG [2012-06-10 00:17:35,940 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
338 DEBUG [2012-06-10 00:17:35,944 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
339 DEBUG [2012-06-10 00:17:35,945 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
455 DEBUG [2012-06-10 00:17:36,061 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
463 DEBUG [2012-06-10 00:17:36,069 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
478 DEBUG [2012-06-10 00:17:36,084 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
481 DEBUG [2012-06-10 00:17:36,087 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
494 DEBUG [2012-06-10 00:17:36,100 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
496 DEBUG [2012-06-10 00:17:36,102 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
498 DEBUG [2012-06-10 00:17:36,104 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
499 DEBUG [2012-06-10 00:17:36,105 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
502 DEBUG [2012-06-10 00:17:36,108 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
503 DEBUG [2012-06-10 00:17:36,109 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
504 INFO  [2012-06-10 00:17:36,110 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 229 ms. Total beans: 7
590 DEBUG [2012-06-10 00:17:36,196 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
602 DEBUG [2012-06-10 00:17:36,208 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
650 INFO  [2012-06-10 00:17:36,256 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
653 DEBUG [2012-06-10 00:17:36,259 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
654 DEBUG [2012-06-10 00:17:36,260 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
659 INFO  [2012-06-10 00:17:36,265 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1064 DEBUG [2012-06-10 00:17:36,670 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1066 DEBUG [2012-06-10 00:17:36,672 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1206 INFO  [2012-06-10 00:17:36,812 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 114 ms. Total entities: 9
1213 DEBUG [2012-06-10 00:17:36,819 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1214 DEBUG [2012-06-10 00:17:36,820 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1214 DEBUG [2012-06-10 00:17:36,820 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1215 DEBUG [2012-06-10 00:17:36,821 main] jodd.db.DbSession#debug:36 - Creating new db session
1220 DEBUG [2012-06-10 00:17:36,826 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1224 DEBUG [2012-06-10 00:17:36,830 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1228 DEBUG [2012-06-10 00:17:36,834 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1229 DEBUG [2012-06-10 00:17:36,835 main] jodd.db.DbSession#debug:36 - Closing db session
1229 INFO  [2012-06-10 00:17:36,835 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1230 DEBUG [2012-06-10 00:17:36,836 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1233 DEBUG [2012-06-10 00:17:36,839 main] jodd.db.DbSession#debug:36 - Creating new db session
1233 DEBUG [2012-06-10 00:17:36,839 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1234 DEBUG [2012-06-10 00:17:36,840 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1234 DEBUG [2012-06-10 00:17:36,840 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1235 DEBUG [2012-06-10 00:17:36,841 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1236 DEBUG [2012-06-10 00:17:36,842 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1236 DEBUG [2012-06-10 00:17:36,842 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1237 DEBUG [2012-06-10 00:17:36,843 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1237 DEBUG [2012-06-10 00:17:36,843 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1238 DEBUG [2012-06-10 00:17:36,844 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1238 DEBUG [2012-06-10 00:17:36,844 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1239 DEBUG [2012-06-10 00:17:36,845 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1239 DEBUG [2012-06-10 00:17:36,845 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1240 DEBUG [2012-06-10 00:17:36,846 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1240 DEBUG [2012-06-10 00:17:36,846 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1241 DEBUG [2012-06-10 00:17:36,847 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1242 DEBUG [2012-06-10 00:17:36,848 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1243 DEBUG [2012-06-10 00:17:36,849 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1243 DEBUG [2012-06-10 00:17:36,849 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1243 DEBUG [2012-06-10 00:17:36,849 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1244 DEBUG [2012-06-10 00:17:36,850 main] jodd.db.DbSession#debug:36 - Closing db session
1244 INFO  [2012-06-10 00:17:36,850 main] c.b.r.install.DbInstaller#info:46 - Database reset
1244 INFO  [2012-06-10 00:17:36,850 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1245 DEBUG [2012-06-10 00:17:36,851 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1246 DEBUG [2012-06-10 00:17:36,852 main] jodd.db.DbSession#debug:36 - Creating new db session
1247 DEBUG [2012-06-10 00:17:36,853 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1247 DEBUG [2012-06-10 00:17:36,853 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1248 DEBUG [2012-06-10 00:17:36,854 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1248 DEBUG [2012-06-10 00:17:36,854 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1249 DEBUG [2012-06-10 00:17:36,855 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1249 DEBUG [2012-06-10 00:17:36,855 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1250 DEBUG [2012-06-10 00:17:36,856 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1251 DEBUG [2012-06-10 00:17:36,857 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1251 DEBUG [2012-06-10 00:17:36,857 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1252 DEBUG [2012-06-10 00:17:36,858 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1252 DEBUG [2012-06-10 00:17:36,858 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1253 DEBUG [2012-06-10 00:17:36,859 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1253 DEBUG [2012-06-10 00:17:36,859 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1254 DEBUG [2012-06-10 00:17:36,860 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1254 DEBUG [2012-06-10 00:17:36,860 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1254 DEBUG [2012-06-10 00:17:36,860 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1255 DEBUG [2012-06-10 00:17:36,861 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1255 DEBUG [2012-06-10 00:17:36,861 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1256 DEBUG [2012-06-10 00:17:36,862 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1257 DEBUG [2012-06-10 00:17:36,863 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1257 DEBUG [2012-06-10 00:17:36,863 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1258 DEBUG [2012-06-10 00:17:36,864 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1258 DEBUG [2012-06-10 00:17:36,864 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1258 DEBUG [2012-06-10 00:17:36,864 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1259 DEBUG [2012-06-10 00:17:36,865 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1260 DEBUG [2012-06-10 00:17:36,866 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1261 DEBUG [2012-06-10 00:17:36,867 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1261 DEBUG [2012-06-10 00:17:36,867 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1261 DEBUG [2012-06-10 00:17:36,867 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1262 DEBUG [2012-06-10 00:17:36,868 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1263 DEBUG [2012-06-10 00:17:36,869 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1263 DEBUG [2012-06-10 00:17:36,869 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1264 DEBUG [2012-06-10 00:17:36,870 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1264 DEBUG [2012-06-10 00:17:36,870 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1265 DEBUG [2012-06-10 00:17:36,871 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1265 DEBUG [2012-06-10 00:17:36,871 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1266 DEBUG [2012-06-10 00:17:36,872 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1266 DEBUG [2012-06-10 00:17:36,872 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1266 DEBUG [2012-06-10 00:17:36,872 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1267 DEBUG [2012-06-10 00:17:36,873 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1268 DEBUG [2012-06-10 00:17:36,874 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1268 DEBUG [2012-06-10 00:17:36,874 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1269 DEBUG [2012-06-10 00:17:36,875 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1269 DEBUG [2012-06-10 00:17:36,875 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1270 DEBUG [2012-06-10 00:17:36,876 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1270 DEBUG [2012-06-10 00:17:36,876 main] jodd.db.DbSession#debug:36 - Closing db session
1271 INFO  [2012-06-10 00:17:36,877 main] c.b.r.install.DbInstaller#info:46 - Database created.
1271 INFO  [2012-06-10 00:17:36,877 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1291 DEBUG [2012-06-10 00:17:36,897 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1292 DEBUG [2012-06-10 00:17:36,898 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1316 DEBUG [2012-06-10 00:17:36,922 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1317 DEBUG [2012-06-10 00:17:36,923 main] jodd.db.DbSession#debug:36 - Creating new db session
1318 DEBUG [2012-06-10 00:17:36,924 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
15079 DEBUG [2012-06-10 00:17:50,685 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
15082 DEBUG [2012-06-10 00:17:50,688 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
15082 DEBUG [2012-06-10 00:17:50,688 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
15083 DEBUG [2012-06-10 00:17:50,689 main] jodd.db.DbSession#debug:36 - Closing db session
15083 DEBUG [2012-06-10 00:17:50,689 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
15084 DEBUG [2012-06-10 00:17:50,690 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
15085 DEBUG [2012-06-10 00:17:50,691 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
15085 DEBUG [2012-06-10 00:17:50,691 main] jodd.db.DbSession#debug:36 - Creating new db session
15086 DEBUG [2012-06-10 00:17:50,692 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
15139 DEBUG [2012-06-10 00:17:50,745 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
15141 DEBUG [2012-06-10 00:17:50,747 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
15141 DEBUG [2012-06-10 00:17:50,747 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
15142 DEBUG [2012-06-10 00:17:50,748 main] jodd.db.DbSession#debug:36 - Closing db session
15142 DEBUG [2012-06-10 00:17:50,748 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
15143 DEBUG [2012-06-10 00:17:50,749 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
15144 DEBUG [2012-06-10 00:17:50,750 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
15145 DEBUG [2012-06-10 00:17:50,751 main] jodd.db.DbSession#debug:36 - Creating new db session
15145 DEBUG [2012-06-10 00:17:50,751 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
15269 DEBUG [2012-06-10 00:17:50,875 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
15270 DEBUG [2012-06-10 00:17:50,876 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
15270 DEBUG [2012-06-10 00:17:50,876 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
15271 DEBUG [2012-06-10 00:17:50,877 main] jodd.db.DbSession#debug:36 - Closing db session
15274 DEBUG [2012-06-10 00:17:50,880 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
15275 DEBUG [2012-06-10 00:17:50,881 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
15275 DEBUG [2012-06-10 00:17:50,881 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
15275 DEBUG [2012-06-10 00:17:50,881 main] jodd.db.DbSession#debug:36 - Creating new db session
15276 DEBUG [2012-06-10 00:17:50,882 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
16934 DEBUG [2012-06-10 00:17:52,540 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
16936 DEBUG [2012-06-10 00:17:52,542 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
16937 DEBUG [2012-06-10 00:17:52,543 main] jodd.db.DbSession#debug:36 - Closing db session
230 INFO  [2012-06-10 00:18:00,511 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
235 INFO  [2012-06-10 00:18:00,516 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
235 INFO  [2012-06-10 00:18:00,516 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
241 INFO  [2012-06-10 00:18:00,522 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
249 DEBUG [2012-06-10 00:18:00,530 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
249 INFO  [2012-06-10 00:18:00,530 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
327 DEBUG [2012-06-10 00:18:00,608 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
341 DEBUG [2012-06-10 00:18:00,622 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
346 DEBUG [2012-06-10 00:18:00,627 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
347 DEBUG [2012-06-10 00:18:00,628 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
460 DEBUG [2012-06-10 00:18:00,741 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
469 DEBUG [2012-06-10 00:18:00,750 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
488 DEBUG [2012-06-10 00:18:00,769 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
491 DEBUG [2012-06-10 00:18:00,772 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
496 DEBUG [2012-06-10 00:18:00,777 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
503 DEBUG [2012-06-10 00:18:00,784 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
506 DEBUG [2012-06-10 00:18:00,787 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
507 DEBUG [2012-06-10 00:18:00,788 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
513 DEBUG [2012-06-10 00:18:00,794 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
513 DEBUG [2012-06-10 00:18:00,794 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
514 INFO  [2012-06-10 00:18:00,795 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 242 ms. Total beans: 7
611 DEBUG [2012-06-10 00:18:00,892 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
621 DEBUG [2012-06-10 00:18:00,902 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
673 INFO  [2012-06-10 00:18:00,954 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
676 DEBUG [2012-06-10 00:18:00,957 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
678 DEBUG [2012-06-10 00:18:00,959 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
684 INFO  [2012-06-10 00:18:00,965 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1168 DEBUG [2012-06-10 00:18:01,449 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1169 DEBUG [2012-06-10 00:18:01,450 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1282 INFO  [2012-06-10 00:18:01,563 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 98 ms. Total entities: 9
1288 DEBUG [2012-06-10 00:18:01,569 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1288 DEBUG [2012-06-10 00:18:01,569 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1289 DEBUG [2012-06-10 00:18:01,570 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1289 DEBUG [2012-06-10 00:18:01,570 main] jodd.db.DbSession#debug:36 - Creating new db session
1293 DEBUG [2012-06-10 00:18:01,574 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1296 DEBUG [2012-06-10 00:18:01,577 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1300 DEBUG [2012-06-10 00:18:01,581 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1300 DEBUG [2012-06-10 00:18:01,581 main] jodd.db.DbSession#debug:36 - Closing db session
1301 INFO  [2012-06-10 00:18:01,582 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1301 DEBUG [2012-06-10 00:18:01,582 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1303 DEBUG [2012-06-10 00:18:01,584 main] jodd.db.DbSession#debug:36 - Creating new db session
1303 DEBUG [2012-06-10 00:18:01,584 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1303 DEBUG [2012-06-10 00:18:01,584 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1304 DEBUG [2012-06-10 00:18:01,585 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1304 DEBUG [2012-06-10 00:18:01,585 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1305 DEBUG [2012-06-10 00:18:01,586 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1305 DEBUG [2012-06-10 00:18:01,586 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1306 DEBUG [2012-06-10 00:18:01,587 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1306 DEBUG [2012-06-10 00:18:01,587 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1307 DEBUG [2012-06-10 00:18:01,588 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1307 DEBUG [2012-06-10 00:18:01,588 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1308 DEBUG [2012-06-10 00:18:01,589 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1308 DEBUG [2012-06-10 00:18:01,589 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1309 DEBUG [2012-06-10 00:18:01,590 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1309 DEBUG [2012-06-10 00:18:01,590 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1310 DEBUG [2012-06-10 00:18:01,591 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1310 DEBUG [2012-06-10 00:18:01,591 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1310 DEBUG [2012-06-10 00:18:01,591 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1311 DEBUG [2012-06-10 00:18:01,592 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1311 DEBUG [2012-06-10 00:18:01,592 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1312 DEBUG [2012-06-10 00:18:01,593 main] jodd.db.DbSession#debug:36 - Closing db session
1312 INFO  [2012-06-10 00:18:01,593 main] c.b.r.install.DbInstaller#info:46 - Database reset
1312 INFO  [2012-06-10 00:18:01,593 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1312 DEBUG [2012-06-10 00:18:01,593 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1314 DEBUG [2012-06-10 00:18:01,595 main] jodd.db.DbSession#debug:36 - Creating new db session
1314 DEBUG [2012-06-10 00:18:01,595 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1315 DEBUG [2012-06-10 00:18:01,596 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1316 DEBUG [2012-06-10 00:18:01,597 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1316 DEBUG [2012-06-10 00:18:01,597 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1317 DEBUG [2012-06-10 00:18:01,598 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1317 DEBUG [2012-06-10 00:18:01,598 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1319 DEBUG [2012-06-10 00:18:01,600 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1319 DEBUG [2012-06-10 00:18:01,600 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1319 DEBUG [2012-06-10 00:18:01,600 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1320 DEBUG [2012-06-10 00:18:01,601 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1320 DEBUG [2012-06-10 00:18:01,601 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1321 DEBUG [2012-06-10 00:18:01,602 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1321 DEBUG [2012-06-10 00:18:01,602 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1322 DEBUG [2012-06-10 00:18:01,603 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1322 DEBUG [2012-06-10 00:18:01,603 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1323 DEBUG [2012-06-10 00:18:01,604 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1323 DEBUG [2012-06-10 00:18:01,604 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1324 DEBUG [2012-06-10 00:18:01,605 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1325 DEBUG [2012-06-10 00:18:01,606 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1326 DEBUG [2012-06-10 00:18:01,607 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1327 DEBUG [2012-06-10 00:18:01,608 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1327 DEBUG [2012-06-10 00:18:01,608 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1327 DEBUG [2012-06-10 00:18:01,608 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1328 DEBUG [2012-06-10 00:18:01,609 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1329 DEBUG [2012-06-10 00:18:01,610 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1329 DEBUG [2012-06-10 00:18:01,610 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1330 DEBUG [2012-06-10 00:18:01,611 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1330 DEBUG [2012-06-10 00:18:01,611 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1330 DEBUG [2012-06-10 00:18:01,611 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1331 DEBUG [2012-06-10 00:18:01,612 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1332 DEBUG [2012-06-10 00:18:01,613 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1332 DEBUG [2012-06-10 00:18:01,613 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1333 DEBUG [2012-06-10 00:18:01,614 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1333 DEBUG [2012-06-10 00:18:01,614 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1334 DEBUG [2012-06-10 00:18:01,615 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1334 DEBUG [2012-06-10 00:18:01,615 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1335 DEBUG [2012-06-10 00:18:01,616 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1335 DEBUG [2012-06-10 00:18:01,616 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1336 DEBUG [2012-06-10 00:18:01,617 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1336 DEBUG [2012-06-10 00:18:01,617 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1337 DEBUG [2012-06-10 00:18:01,618 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1337 DEBUG [2012-06-10 00:18:01,618 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1338 DEBUG [2012-06-10 00:18:01,619 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1339 DEBUG [2012-06-10 00:18:01,620 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1340 DEBUG [2012-06-10 00:18:01,621 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1340 DEBUG [2012-06-10 00:18:01,621 main] jodd.db.DbSession#debug:36 - Closing db session
1341 INFO  [2012-06-10 00:18:01,622 main] c.b.r.install.DbInstaller#info:46 - Database created.
1341 INFO  [2012-06-10 00:18:01,622 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1357 DEBUG [2012-06-10 00:18:01,638 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1359 DEBUG [2012-06-10 00:18:01,640 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1385 DEBUG [2012-06-10 00:18:01,666 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1390 DEBUG [2012-06-10 00:18:01,671 main] jodd.db.DbSession#debug:36 - Creating new db session
1391 DEBUG [2012-06-10 00:18:01,672 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
5266 DEBUG [2012-06-10 00:18:05,547 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
5269 DEBUG [2012-06-10 00:18:05,550 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
5270 DEBUG [2012-06-10 00:18:05,551 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
5270 DEBUG [2012-06-10 00:18:05,551 main] jodd.db.DbSession#debug:36 - Closing db session
5271 DEBUG [2012-06-10 00:18:05,552 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
5271 DEBUG [2012-06-10 00:18:05,552 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
5272 DEBUG [2012-06-10 00:18:05,553 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
5273 DEBUG [2012-06-10 00:18:05,554 main] jodd.db.DbSession#debug:36 - Creating new db session
5273 DEBUG [2012-06-10 00:18:05,554 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
5319 DEBUG [2012-06-10 00:18:05,600 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
5320 DEBUG [2012-06-10 00:18:05,601 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
5320 DEBUG [2012-06-10 00:18:05,601 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
5321 DEBUG [2012-06-10 00:18:05,602 main] jodd.db.DbSession#debug:36 - Closing db session
5321 DEBUG [2012-06-10 00:18:05,602 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
5322 DEBUG [2012-06-10 00:18:05,603 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
5323 DEBUG [2012-06-10 00:18:05,604 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
5323 DEBUG [2012-06-10 00:18:05,604 main] jodd.db.DbSession#debug:36 - Creating new db session
5324 DEBUG [2012-06-10 00:18:05,605 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
5429 DEBUG [2012-06-10 00:18:05,710 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
5430 DEBUG [2012-06-10 00:18:05,711 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
5430 DEBUG [2012-06-10 00:18:05,711 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
5431 DEBUG [2012-06-10 00:18:05,712 main] jodd.db.DbSession#debug:36 - Closing db session
5434 DEBUG [2012-06-10 00:18:05,715 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
5435 DEBUG [2012-06-10 00:18:05,716 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
5435 DEBUG [2012-06-10 00:18:05,716 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
5435 DEBUG [2012-06-10 00:18:05,716 main] jodd.db.DbSession#debug:36 - Creating new db session
5436 DEBUG [2012-06-10 00:18:05,717 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
218 INFO  [2012-06-10 00:18:57,220 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
223 INFO  [2012-06-10 00:18:57,225 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
224 INFO  [2012-06-10 00:18:57,226 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
229 INFO  [2012-06-10 00:18:57,231 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
237 DEBUG [2012-06-10 00:18:57,239 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
237 INFO  [2012-06-10 00:18:57,239 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
307 DEBUG [2012-06-10 00:18:57,309 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
319 DEBUG [2012-06-10 00:18:57,321 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
323 DEBUG [2012-06-10 00:18:57,325 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
324 DEBUG [2012-06-10 00:18:57,326 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
432 DEBUG [2012-06-10 00:18:57,434 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
440 DEBUG [2012-06-10 00:18:57,442 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
454 DEBUG [2012-06-10 00:18:57,456 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
457 DEBUG [2012-06-10 00:18:57,459 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
462 DEBUG [2012-06-10 00:18:57,464 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
463 DEBUG [2012-06-10 00:18:57,465 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
467 DEBUG [2012-06-10 00:18:57,469 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
468 DEBUG [2012-06-10 00:18:57,470 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
470 DEBUG [2012-06-10 00:18:57,472 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
471 DEBUG [2012-06-10 00:18:57,473 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
472 INFO  [2012-06-10 00:18:57,474 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 214 ms. Total beans: 7
563 DEBUG [2012-06-10 00:18:57,565 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
564 DEBUG [2012-06-10 00:18:57,566 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
601 INFO  [2012-06-10 00:18:57,603 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
603 DEBUG [2012-06-10 00:18:57,605 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
604 DEBUG [2012-06-10 00:18:57,606 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
610 INFO  [2012-06-10 00:18:57,612 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1043 DEBUG [2012-06-10 00:18:58,045 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1045 DEBUG [2012-06-10 00:18:58,047 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1179 INFO  [2012-06-10 00:18:58,181 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 108 ms. Total entities: 9
1186 DEBUG [2012-06-10 00:18:58,188 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1186 DEBUG [2012-06-10 00:18:58,188 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1187 DEBUG [2012-06-10 00:18:58,189 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1187 DEBUG [2012-06-10 00:18:58,189 main] jodd.db.DbSession#debug:36 - Creating new db session
1191 DEBUG [2012-06-10 00:18:58,193 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1194 DEBUG [2012-06-10 00:18:58,196 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1198 DEBUG [2012-06-10 00:18:58,200 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1198 DEBUG [2012-06-10 00:18:58,200 main] jodd.db.DbSession#debug:36 - Closing db session
1199 INFO  [2012-06-10 00:18:58,201 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1199 DEBUG [2012-06-10 00:18:58,201 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1201 DEBUG [2012-06-10 00:18:58,203 main] jodd.db.DbSession#debug:36 - Creating new db session
1201 DEBUG [2012-06-10 00:18:58,203 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1201 DEBUG [2012-06-10 00:18:58,203 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1202 DEBUG [2012-06-10 00:18:58,204 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1202 DEBUG [2012-06-10 00:18:58,204 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1203 DEBUG [2012-06-10 00:18:58,205 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1203 DEBUG [2012-06-10 00:18:58,205 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1204 DEBUG [2012-06-10 00:18:58,206 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1204 DEBUG [2012-06-10 00:18:58,206 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1205 DEBUG [2012-06-10 00:18:58,207 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1205 DEBUG [2012-06-10 00:18:58,207 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1205 DEBUG [2012-06-10 00:18:58,207 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1206 DEBUG [2012-06-10 00:18:58,208 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1206 DEBUG [2012-06-10 00:18:58,208 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1207 DEBUG [2012-06-10 00:18:58,209 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1207 DEBUG [2012-06-10 00:18:58,209 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1208 DEBUG [2012-06-10 00:18:58,210 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1208 DEBUG [2012-06-10 00:18:58,210 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1208 DEBUG [2012-06-10 00:18:58,210 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1209 DEBUG [2012-06-10 00:18:58,211 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1209 DEBUG [2012-06-10 00:18:58,211 main] jodd.db.DbSession#debug:36 - Closing db session
1210 INFO  [2012-06-10 00:18:58,212 main] c.b.r.install.DbInstaller#info:46 - Database reset
1210 INFO  [2012-06-10 00:18:58,212 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1210 DEBUG [2012-06-10 00:18:58,212 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1212 DEBUG [2012-06-10 00:18:58,214 main] jodd.db.DbSession#debug:36 - Creating new db session
1212 DEBUG [2012-06-10 00:18:58,214 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1212 DEBUG [2012-06-10 00:18:58,214 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1213 DEBUG [2012-06-10 00:18:58,215 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1214 DEBUG [2012-06-10 00:18:58,216 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1214 DEBUG [2012-06-10 00:18:58,216 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1215 DEBUG [2012-06-10 00:18:58,217 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1216 DEBUG [2012-06-10 00:18:58,218 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1216 DEBUG [2012-06-10 00:18:58,218 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1217 DEBUG [2012-06-10 00:18:58,219 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1217 DEBUG [2012-06-10 00:18:58,219 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1217 DEBUG [2012-06-10 00:18:58,219 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1218 DEBUG [2012-06-10 00:18:58,220 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1218 DEBUG [2012-06-10 00:18:58,220 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1219 DEBUG [2012-06-10 00:18:58,221 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1219 DEBUG [2012-06-10 00:18:58,221 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1219 DEBUG [2012-06-10 00:18:58,221 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1220 DEBUG [2012-06-10 00:18:58,222 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1220 DEBUG [2012-06-10 00:18:58,222 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1221 DEBUG [2012-06-10 00:18:58,223 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1222 DEBUG [2012-06-10 00:18:58,224 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1222 DEBUG [2012-06-10 00:18:58,224 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1223 DEBUG [2012-06-10 00:18:58,225 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1223 DEBUG [2012-06-10 00:18:58,225 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1223 DEBUG [2012-06-10 00:18:58,225 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1224 DEBUG [2012-06-10 00:18:58,226 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1224 DEBUG [2012-06-10 00:18:58,226 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1225 DEBUG [2012-06-10 00:18:58,227 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1225 DEBUG [2012-06-10 00:18:58,227 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1226 DEBUG [2012-06-10 00:18:58,228 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1226 DEBUG [2012-06-10 00:18:58,228 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1227 DEBUG [2012-06-10 00:18:58,229 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1227 DEBUG [2012-06-10 00:18:58,229 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1228 DEBUG [2012-06-10 00:18:58,230 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1228 DEBUG [2012-06-10 00:18:58,230 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1229 DEBUG [2012-06-10 00:18:58,231 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1230 DEBUG [2012-06-10 00:18:58,232 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1231 DEBUG [2012-06-10 00:18:58,233 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1233 DEBUG [2012-06-10 00:18:58,235 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1234 DEBUG [2012-06-10 00:18:58,236 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1235 DEBUG [2012-06-10 00:18:58,237 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1236 DEBUG [2012-06-10 00:18:58,238 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1236 DEBUG [2012-06-10 00:18:58,238 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1237 DEBUG [2012-06-10 00:18:58,239 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1238 DEBUG [2012-06-10 00:18:58,240 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1239 DEBUG [2012-06-10 00:18:58,241 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1240 DEBUG [2012-06-10 00:18:58,242 main] jodd.db.DbSession#debug:36 - Closing db session
1240 INFO  [2012-06-10 00:18:58,242 main] c.b.r.install.DbInstaller#info:46 - Database created.
1241 INFO  [2012-06-10 00:18:58,243 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1257 DEBUG [2012-06-10 00:18:58,259 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1259 DEBUG [2012-06-10 00:18:58,261 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1290 DEBUG [2012-06-10 00:18:58,292 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1290 DEBUG [2012-06-10 00:18:58,292 main] jodd.db.DbSession#debug:36 - Creating new db session
1292 DEBUG [2012-06-10 00:18:58,294 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
6136 DEBUG [2012-06-10 00:19:03,138 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
6140 DEBUG [2012-06-10 00:19:03,142 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
6140 DEBUG [2012-06-10 00:19:03,142 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
6141 DEBUG [2012-06-10 00:19:03,143 main] jodd.db.DbSession#debug:36 - Closing db session
6141 DEBUG [2012-06-10 00:19:03,143 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
6142 DEBUG [2012-06-10 00:19:03,144 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
6143 DEBUG [2012-06-10 00:19:03,145 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
6143 DEBUG [2012-06-10 00:19:03,145 main] jodd.db.DbSession#debug:36 - Creating new db session
6144 DEBUG [2012-06-10 00:19:03,146 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
6193 DEBUG [2012-06-10 00:19:03,195 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
6194 DEBUG [2012-06-10 00:19:03,196 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
6194 DEBUG [2012-06-10 00:19:03,196 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
6195 DEBUG [2012-06-10 00:19:03,197 main] jodd.db.DbSession#debug:36 - Closing db session
6195 DEBUG [2012-06-10 00:19:03,197 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
6195 DEBUG [2012-06-10 00:19:03,197 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
6197 DEBUG [2012-06-10 00:19:03,199 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
6197 DEBUG [2012-06-10 00:19:03,199 main] jodd.db.DbSession#debug:36 - Creating new db session
6197 DEBUG [2012-06-10 00:19:03,199 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
6295 DEBUG [2012-06-10 00:19:03,297 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
6295 DEBUG [2012-06-10 00:19:03,297 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
6296 DEBUG [2012-06-10 00:19:03,298 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
6296 DEBUG [2012-06-10 00:19:03,298 main] jodd.db.DbSession#debug:36 - Closing db session
6299 DEBUG [2012-06-10 00:19:03,301 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
6299 DEBUG [2012-06-10 00:19:03,301 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
6300 DEBUG [2012-06-10 00:19:03,302 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
6300 DEBUG [2012-06-10 00:19:03,302 main] jodd.db.DbSession#debug:36 - Creating new db session
6300 DEBUG [2012-06-10 00:19:03,302 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
222 INFO  [2012-06-10 00:19:10,349 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
227 INFO  [2012-06-10 00:19:10,354 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
228 INFO  [2012-06-10 00:19:10,355 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
234 INFO  [2012-06-10 00:19:10,361 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
242 DEBUG [2012-06-10 00:19:10,369 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
242 INFO  [2012-06-10 00:19:10,369 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
317 DEBUG [2012-06-10 00:19:10,444 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
330 DEBUG [2012-06-10 00:19:10,457 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
334 DEBUG [2012-06-10 00:19:10,461 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
335 DEBUG [2012-06-10 00:19:10,462 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
448 DEBUG [2012-06-10 00:19:10,575 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
456 DEBUG [2012-06-10 00:19:10,583 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
471 DEBUG [2012-06-10 00:19:10,598 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
474 DEBUG [2012-06-10 00:19:10,601 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
482 DEBUG [2012-06-10 00:19:10,609 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
483 DEBUG [2012-06-10 00:19:10,610 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
487 DEBUG [2012-06-10 00:19:10,614 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
488 DEBUG [2012-06-10 00:19:10,615 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
490 DEBUG [2012-06-10 00:19:10,617 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
491 DEBUG [2012-06-10 00:19:10,618 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
492 INFO  [2012-06-10 00:19:10,619 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 226 ms. Total beans: 7
595 DEBUG [2012-06-10 00:19:10,722 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
603 DEBUG [2012-06-10 00:19:10,730 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
652 INFO  [2012-06-10 00:19:10,779 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
655 DEBUG [2012-06-10 00:19:10,782 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
656 DEBUG [2012-06-10 00:19:10,783 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
662 INFO  [2012-06-10 00:19:10,789 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1105 DEBUG [2012-06-10 00:19:11,232 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1106 DEBUG [2012-06-10 00:19:11,233 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1223 INFO  [2012-06-10 00:19:11,350 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 100 ms. Total entities: 9
1229 DEBUG [2012-06-10 00:19:11,356 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1230 DEBUG [2012-06-10 00:19:11,357 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1230 DEBUG [2012-06-10 00:19:11,357 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1231 DEBUG [2012-06-10 00:19:11,358 main] jodd.db.DbSession#debug:36 - Creating new db session
1235 DEBUG [2012-06-10 00:19:11,362 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1238 DEBUG [2012-06-10 00:19:11,365 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1242 DEBUG [2012-06-10 00:19:11,369 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1243 DEBUG [2012-06-10 00:19:11,370 main] jodd.db.DbSession#debug:36 - Closing db session
1244 INFO  [2012-06-10 00:19:11,371 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1244 DEBUG [2012-06-10 00:19:11,371 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1246 DEBUG [2012-06-10 00:19:11,373 main] jodd.db.DbSession#debug:36 - Creating new db session
1246 DEBUG [2012-06-10 00:19:11,373 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1247 DEBUG [2012-06-10 00:19:11,374 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1247 DEBUG [2012-06-10 00:19:11,374 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1248 DEBUG [2012-06-10 00:19:11,375 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1248 DEBUG [2012-06-10 00:19:11,375 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1249 DEBUG [2012-06-10 00:19:11,376 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1249 DEBUG [2012-06-10 00:19:11,376 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1249 DEBUG [2012-06-10 00:19:11,376 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1250 DEBUG [2012-06-10 00:19:11,377 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1250 DEBUG [2012-06-10 00:19:11,377 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1251 DEBUG [2012-06-10 00:19:11,378 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1251 DEBUG [2012-06-10 00:19:11,378 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1252 DEBUG [2012-06-10 00:19:11,379 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1252 DEBUG [2012-06-10 00:19:11,379 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1253 DEBUG [2012-06-10 00:19:11,380 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1253 DEBUG [2012-06-10 00:19:11,380 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1253 DEBUG [2012-06-10 00:19:11,380 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1254 DEBUG [2012-06-10 00:19:11,381 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1254 DEBUG [2012-06-10 00:19:11,381 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1255 DEBUG [2012-06-10 00:19:11,382 main] jodd.db.DbSession#debug:36 - Closing db session
1255 INFO  [2012-06-10 00:19:11,382 main] c.b.r.install.DbInstaller#info:46 - Database reset
1255 INFO  [2012-06-10 00:19:11,382 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1256 DEBUG [2012-06-10 00:19:11,383 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1257 DEBUG [2012-06-10 00:19:11,384 main] jodd.db.DbSession#debug:36 - Creating new db session
1258 DEBUG [2012-06-10 00:19:11,385 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1258 DEBUG [2012-06-10 00:19:11,385 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1259 DEBUG [2012-06-10 00:19:11,386 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1260 DEBUG [2012-06-10 00:19:11,387 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1260 DEBUG [2012-06-10 00:19:11,387 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1261 DEBUG [2012-06-10 00:19:11,388 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1262 DEBUG [2012-06-10 00:19:11,389 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1262 DEBUG [2012-06-10 00:19:11,389 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1263 DEBUG [2012-06-10 00:19:11,390 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1263 DEBUG [2012-06-10 00:19:11,390 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1264 DEBUG [2012-06-10 00:19:11,391 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1264 DEBUG [2012-06-10 00:19:11,391 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1264 DEBUG [2012-06-10 00:19:11,391 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1265 DEBUG [2012-06-10 00:19:11,392 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1265 DEBUG [2012-06-10 00:19:11,392 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1266 DEBUG [2012-06-10 00:19:11,393 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1266 DEBUG [2012-06-10 00:19:11,393 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1267 DEBUG [2012-06-10 00:19:11,394 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1268 DEBUG [2012-06-10 00:19:11,395 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1268 DEBUG [2012-06-10 00:19:11,395 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1269 DEBUG [2012-06-10 00:19:11,396 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1269 DEBUG [2012-06-10 00:19:11,396 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1269 DEBUG [2012-06-10 00:19:11,396 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1270 DEBUG [2012-06-10 00:19:11,397 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1271 DEBUG [2012-06-10 00:19:11,398 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1271 DEBUG [2012-06-10 00:19:11,398 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1272 DEBUG [2012-06-10 00:19:11,399 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1272 DEBUG [2012-06-10 00:19:11,399 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1273 DEBUG [2012-06-10 00:19:11,400 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1273 DEBUG [2012-06-10 00:19:11,400 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1274 DEBUG [2012-06-10 00:19:11,401 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1274 DEBUG [2012-06-10 00:19:11,401 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1275 DEBUG [2012-06-10 00:19:11,402 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1276 DEBUG [2012-06-10 00:19:11,403 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1277 DEBUG [2012-06-10 00:19:11,404 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1278 DEBUG [2012-06-10 00:19:11,405 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1279 DEBUG [2012-06-10 00:19:11,406 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1279 DEBUG [2012-06-10 00:19:11,406 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1280 DEBUG [2012-06-10 00:19:11,407 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1280 DEBUG [2012-06-10 00:19:11,407 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1281 DEBUG [2012-06-10 00:19:11,408 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1282 DEBUG [2012-06-10 00:19:11,409 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1283 DEBUG [2012-06-10 00:19:11,410 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1283 DEBUG [2012-06-10 00:19:11,410 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1284 DEBUG [2012-06-10 00:19:11,411 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1284 DEBUG [2012-06-10 00:19:11,411 main] jodd.db.DbSession#debug:36 - Closing db session
1285 INFO  [2012-06-10 00:19:11,412 main] c.b.r.install.DbInstaller#info:46 - Database created.
1285 INFO  [2012-06-10 00:19:11,412 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1302 DEBUG [2012-06-10 00:19:11,429 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1304 DEBUG [2012-06-10 00:19:11,431 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1334 DEBUG [2012-06-10 00:19:11,461 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1334 DEBUG [2012-06-10 00:19:11,461 main] jodd.db.DbSession#debug:36 - Creating new db session
1335 DEBUG [2012-06-10 00:19:11,462 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
215 INFO  [2012-06-10 00:20:05,462 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
221 INFO  [2012-06-10 00:20:05,468 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
221 INFO  [2012-06-10 00:20:05,468 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
227 INFO  [2012-06-10 00:20:05,474 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
234 DEBUG [2012-06-10 00:20:05,481 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
235 INFO  [2012-06-10 00:20:05,482 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
318 DEBUG [2012-06-10 00:20:05,565 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
334 DEBUG [2012-06-10 00:20:05,581 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
338 DEBUG [2012-06-10 00:20:05,585 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
339 DEBUG [2012-06-10 00:20:05,586 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
447 DEBUG [2012-06-10 00:20:05,694 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
456 DEBUG [2012-06-10 00:20:05,703 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
469 DEBUG [2012-06-10 00:20:05,716 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
472 DEBUG [2012-06-10 00:20:05,719 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
480 DEBUG [2012-06-10 00:20:05,727 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
489 DEBUG [2012-06-10 00:20:05,736 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
491 DEBUG [2012-06-10 00:20:05,738 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
492 DEBUG [2012-06-10 00:20:05,739 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
494 DEBUG [2012-06-10 00:20:05,741 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
495 DEBUG [2012-06-10 00:20:05,742 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
495 INFO  [2012-06-10 00:20:05,742 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 235 ms. Total beans: 7
593 DEBUG [2012-06-10 00:20:05,840 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
594 DEBUG [2012-06-10 00:20:05,841 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
632 INFO  [2012-06-10 00:20:05,879 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
648 DEBUG [2012-06-10 00:20:05,895 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
650 DEBUG [2012-06-10 00:20:05,897 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
667 INFO  [2012-06-10 00:20:05,914 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1114 DEBUG [2012-06-10 00:20:06,361 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1115 DEBUG [2012-06-10 00:20:06,362 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1230 INFO  [2012-06-10 00:20:06,477 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 101 ms. Total entities: 9
1236 DEBUG [2012-06-10 00:20:06,483 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1237 DEBUG [2012-06-10 00:20:06,484 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1237 DEBUG [2012-06-10 00:20:06,484 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1238 DEBUG [2012-06-10 00:20:06,485 main] jodd.db.DbSession#debug:36 - Creating new db session
1241 DEBUG [2012-06-10 00:20:06,488 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1244 DEBUG [2012-06-10 00:20:06,491 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1248 DEBUG [2012-06-10 00:20:06,495 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1249 DEBUG [2012-06-10 00:20:06,496 main] jodd.db.DbSession#debug:36 - Closing db session
1249 INFO  [2012-06-10 00:20:06,496 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1250 DEBUG [2012-06-10 00:20:06,497 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1253 DEBUG [2012-06-10 00:20:06,500 main] jodd.db.DbSession#debug:36 - Creating new db session
1254 DEBUG [2012-06-10 00:20:06,501 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1255 DEBUG [2012-06-10 00:20:06,502 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1255 DEBUG [2012-06-10 00:20:06,502 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1256 DEBUG [2012-06-10 00:20:06,503 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1256 DEBUG [2012-06-10 00:20:06,503 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1257 DEBUG [2012-06-10 00:20:06,504 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1258 DEBUG [2012-06-10 00:20:06,505 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1258 DEBUG [2012-06-10 00:20:06,505 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1259 DEBUG [2012-06-10 00:20:06,506 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1259 DEBUG [2012-06-10 00:20:06,506 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1260 DEBUG [2012-06-10 00:20:06,507 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1260 DEBUG [2012-06-10 00:20:06,507 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1261 DEBUG [2012-06-10 00:20:06,508 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1261 DEBUG [2012-06-10 00:20:06,508 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1262 DEBUG [2012-06-10 00:20:06,509 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1262 DEBUG [2012-06-10 00:20:06,509 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1263 DEBUG [2012-06-10 00:20:06,510 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1263 DEBUG [2012-06-10 00:20:06,510 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1264 DEBUG [2012-06-10 00:20:06,511 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1264 DEBUG [2012-06-10 00:20:06,511 main] jodd.db.DbSession#debug:36 - Closing db session
1265 INFO  [2012-06-10 00:20:06,512 main] c.b.r.install.DbInstaller#info:46 - Database reset
1265 INFO  [2012-06-10 00:20:06,512 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1266 DEBUG [2012-06-10 00:20:06,513 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1267 DEBUG [2012-06-10 00:20:06,514 main] jodd.db.DbSession#debug:36 - Creating new db session
1268 DEBUG [2012-06-10 00:20:06,515 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1268 DEBUG [2012-06-10 00:20:06,515 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1270 DEBUG [2012-06-10 00:20:06,517 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1270 DEBUG [2012-06-10 00:20:06,517 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1271 DEBUG [2012-06-10 00:20:06,518 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1271 DEBUG [2012-06-10 00:20:06,518 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1272 DEBUG [2012-06-10 00:20:06,519 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1273 DEBUG [2012-06-10 00:20:06,520 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1273 DEBUG [2012-06-10 00:20:06,520 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1274 DEBUG [2012-06-10 00:20:06,521 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1275 DEBUG [2012-06-10 00:20:06,522 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1275 DEBUG [2012-06-10 00:20:06,522 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1276 DEBUG [2012-06-10 00:20:06,523 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1276 DEBUG [2012-06-10 00:20:06,523 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1277 DEBUG [2012-06-10 00:20:06,524 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1277 DEBUG [2012-06-10 00:20:06,524 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1278 DEBUG [2012-06-10 00:20:06,525 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1278 DEBUG [2012-06-10 00:20:06,525 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1279 DEBUG [2012-06-10 00:20:06,526 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1280 DEBUG [2012-06-10 00:20:06,527 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1281 DEBUG [2012-06-10 00:20:06,528 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1282 DEBUG [2012-06-10 00:20:06,529 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1283 DEBUG [2012-06-10 00:20:06,530 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1284 DEBUG [2012-06-10 00:20:06,531 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1285 DEBUG [2012-06-10 00:20:06,532 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1285 DEBUG [2012-06-10 00:20:06,532 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1286 DEBUG [2012-06-10 00:20:06,533 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1286 DEBUG [2012-06-10 00:20:06,533 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1287 DEBUG [2012-06-10 00:20:06,534 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1288 DEBUG [2012-06-10 00:20:06,535 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1288 DEBUG [2012-06-10 00:20:06,535 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1289 DEBUG [2012-06-10 00:20:06,536 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1290 DEBUG [2012-06-10 00:20:06,537 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1290 DEBUG [2012-06-10 00:20:06,537 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1291 DEBUG [2012-06-10 00:20:06,538 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1291 DEBUG [2012-06-10 00:20:06,538 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1292 DEBUG [2012-06-10 00:20:06,539 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1293 DEBUG [2012-06-10 00:20:06,540 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1293 DEBUG [2012-06-10 00:20:06,540 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1294 DEBUG [2012-06-10 00:20:06,541 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1295 DEBUG [2012-06-10 00:20:06,542 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1295 DEBUG [2012-06-10 00:20:06,542 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1296 DEBUG [2012-06-10 00:20:06,543 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1296 DEBUG [2012-06-10 00:20:06,543 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1297 DEBUG [2012-06-10 00:20:06,544 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1298 DEBUG [2012-06-10 00:20:06,545 main] jodd.db.DbSession#debug:36 - Closing db session
1298 INFO  [2012-06-10 00:20:06,545 main] c.b.r.install.DbInstaller#info:46 - Database created.
1299 INFO  [2012-06-10 00:20:06,546 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1316 DEBUG [2012-06-10 00:20:06,563 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1318 DEBUG [2012-06-10 00:20:06,565 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1353 DEBUG [2012-06-10 00:20:06,600 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1355 DEBUG [2012-06-10 00:20:06,602 main] jodd.db.DbSession#debug:36 - Creating new db session
1356 DEBUG [2012-06-10 00:20:06,603 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
5830 DEBUG [2012-06-10 00:20:11,077 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
5833 DEBUG [2012-06-10 00:20:11,080 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
5833 DEBUG [2012-06-10 00:20:11,080 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
5834 DEBUG [2012-06-10 00:20:11,081 main] jodd.db.DbSession#debug:36 - Closing db session
5835 DEBUG [2012-06-10 00:20:11,082 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
5835 DEBUG [2012-06-10 00:20:11,082 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
5837 DEBUG [2012-06-10 00:20:11,084 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
5837 DEBUG [2012-06-10 00:20:11,084 main] jodd.db.DbSession#debug:36 - Creating new db session
5837 DEBUG [2012-06-10 00:20:11,084 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
5869 DEBUG [2012-06-10 00:20:11,116 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
5870 DEBUG [2012-06-10 00:20:11,117 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
5871 DEBUG [2012-06-10 00:20:11,118 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
5871 DEBUG [2012-06-10 00:20:11,118 main] jodd.db.DbSession#debug:36 - Closing db session
5872 DEBUG [2012-06-10 00:20:11,119 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
5873 DEBUG [2012-06-10 00:20:11,120 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
5874 DEBUG [2012-06-10 00:20:11,121 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
5875 DEBUG [2012-06-10 00:20:11,122 main] jodd.db.DbSession#debug:36 - Creating new db session
5875 DEBUG [2012-06-10 00:20:11,122 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
6001 DEBUG [2012-06-10 00:20:11,248 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
6003 DEBUG [2012-06-10 00:20:11,250 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
6003 DEBUG [2012-06-10 00:20:11,250 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
6003 DEBUG [2012-06-10 00:20:11,250 main] jodd.db.DbSession#debug:36 - Closing db session
6007 DEBUG [2012-06-10 00:20:11,254 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
6007 DEBUG [2012-06-10 00:20:11,254 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
6008 DEBUG [2012-06-10 00:20:11,255 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
6009 DEBUG [2012-06-10 00:20:11,256 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
223 INFO  [2012-06-10 00:20:45,789 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
229 INFO  [2012-06-10 00:20:45,795 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
229 INFO  [2012-06-10 00:20:45,795 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
235 INFO  [2012-06-10 00:20:45,801 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
243 DEBUG [2012-06-10 00:20:45,809 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
243 INFO  [2012-06-10 00:20:45,809 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
322 DEBUG [2012-06-10 00:20:45,888 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
335 DEBUG [2012-06-10 00:20:45,901 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
339 DEBUG [2012-06-10 00:20:45,905 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
340 DEBUG [2012-06-10 00:20:45,906 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
478 DEBUG [2012-06-10 00:20:46,044 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
488 DEBUG [2012-06-10 00:20:46,054 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
494 DEBUG [2012-06-10 00:20:46,060 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
497 DEBUG [2012-06-10 00:20:46,063 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
510 DEBUG [2012-06-10 00:20:46,076 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
511 DEBUG [2012-06-10 00:20:46,077 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
514 DEBUG [2012-06-10 00:20:46,080 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
515 DEBUG [2012-06-10 00:20:46,081 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
517 DEBUG [2012-06-10 00:20:46,083 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
518 DEBUG [2012-06-10 00:20:46,084 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
519 INFO  [2012-06-10 00:20:46,085 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 253 ms. Total beans: 7
618 DEBUG [2012-06-10 00:20:46,184 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
633 DEBUG [2012-06-10 00:20:46,199 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
673 INFO  [2012-06-10 00:20:46,239 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
676 DEBUG [2012-06-10 00:20:46,242 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
677 DEBUG [2012-06-10 00:20:46,243 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
682 INFO  [2012-06-10 00:20:46,248 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1082 DEBUG [2012-06-10 00:20:46,648 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1083 DEBUG [2012-06-10 00:20:46,649 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1195 INFO  [2012-06-10 00:20:46,761 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 99 ms. Total entities: 9
1201 DEBUG [2012-06-10 00:20:46,767 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1201 DEBUG [2012-06-10 00:20:46,767 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1202 DEBUG [2012-06-10 00:20:46,768 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1202 DEBUG [2012-06-10 00:20:46,768 main] jodd.db.DbSession#debug:36 - Creating new db session
1207 DEBUG [2012-06-10 00:20:46,773 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1210 DEBUG [2012-06-10 00:20:46,776 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1214 DEBUG [2012-06-10 00:20:46,780 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1214 DEBUG [2012-06-10 00:20:46,780 main] jodd.db.DbSession#debug:36 - Closing db session
1215 INFO  [2012-06-10 00:20:46,781 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1215 DEBUG [2012-06-10 00:20:46,781 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1217 DEBUG [2012-06-10 00:20:46,783 main] jodd.db.DbSession#debug:36 - Creating new db session
1217 DEBUG [2012-06-10 00:20:46,783 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1218 DEBUG [2012-06-10 00:20:46,784 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1219 DEBUG [2012-06-10 00:20:46,785 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1219 DEBUG [2012-06-10 00:20:46,785 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1219 DEBUG [2012-06-10 00:20:46,785 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1220 DEBUG [2012-06-10 00:20:46,786 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1220 DEBUG [2012-06-10 00:20:46,786 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1221 DEBUG [2012-06-10 00:20:46,787 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1222 DEBUG [2012-06-10 00:20:46,788 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1222 DEBUG [2012-06-10 00:20:46,788 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1223 DEBUG [2012-06-10 00:20:46,789 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1223 DEBUG [2012-06-10 00:20:46,789 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1224 DEBUG [2012-06-10 00:20:46,790 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1225 DEBUG [2012-06-10 00:20:46,791 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1225 DEBUG [2012-06-10 00:20:46,791 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1226 DEBUG [2012-06-10 00:20:46,792 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1226 DEBUG [2012-06-10 00:20:46,792 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1227 DEBUG [2012-06-10 00:20:46,793 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1227 DEBUG [2012-06-10 00:20:46,793 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1228 DEBUG [2012-06-10 00:20:46,794 main] jodd.db.DbSession#debug:36 - Closing db session
1228 INFO  [2012-06-10 00:20:46,794 main] c.b.r.install.DbInstaller#info:46 - Database reset
1229 INFO  [2012-06-10 00:20:46,795 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1229 DEBUG [2012-06-10 00:20:46,795 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1231 DEBUG [2012-06-10 00:20:46,797 main] jodd.db.DbSession#debug:36 - Creating new db session
1232 DEBUG [2012-06-10 00:20:46,798 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1232 DEBUG [2012-06-10 00:20:46,798 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1233 DEBUG [2012-06-10 00:20:46,799 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1234 DEBUG [2012-06-10 00:20:46,800 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1235 DEBUG [2012-06-10 00:20:46,801 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1235 DEBUG [2012-06-10 00:20:46,801 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1237 DEBUG [2012-06-10 00:20:46,803 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1237 DEBUG [2012-06-10 00:20:46,803 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1238 DEBUG [2012-06-10 00:20:46,804 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1238 DEBUG [2012-06-10 00:20:46,804 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1239 DEBUG [2012-06-10 00:20:46,805 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1239 DEBUG [2012-06-10 00:20:46,805 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1240 DEBUG [2012-06-10 00:20:46,806 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1241 DEBUG [2012-06-10 00:20:46,807 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1241 DEBUG [2012-06-10 00:20:46,807 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1241 DEBUG [2012-06-10 00:20:46,807 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1242 DEBUG [2012-06-10 00:20:46,808 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1243 DEBUG [2012-06-10 00:20:46,809 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1244 DEBUG [2012-06-10 00:20:46,810 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1244 DEBUG [2012-06-10 00:20:46,810 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1244 DEBUG [2012-06-10 00:20:46,810 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1245 DEBUG [2012-06-10 00:20:46,811 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1245 DEBUG [2012-06-10 00:20:46,811 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1246 DEBUG [2012-06-10 00:20:46,812 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1249 DEBUG [2012-06-10 00:20:46,815 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1250 DEBUG [2012-06-10 00:20:46,816 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1251 DEBUG [2012-06-10 00:20:46,817 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1252 DEBUG [2012-06-10 00:20:46,818 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1252 DEBUG [2012-06-10 00:20:46,818 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1253 DEBUG [2012-06-10 00:20:46,819 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1254 DEBUG [2012-06-10 00:20:46,820 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1254 DEBUG [2012-06-10 00:20:46,820 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1255 DEBUG [2012-06-10 00:20:46,821 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1256 DEBUG [2012-06-10 00:20:46,822 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1256 DEBUG [2012-06-10 00:20:46,822 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1257 DEBUG [2012-06-10 00:20:46,823 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1258 DEBUG [2012-06-10 00:20:46,824 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1259 DEBUG [2012-06-10 00:20:46,825 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1260 DEBUG [2012-06-10 00:20:46,826 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1260 DEBUG [2012-06-10 00:20:46,826 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1261 DEBUG [2012-06-10 00:20:46,827 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1262 DEBUG [2012-06-10 00:20:46,828 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1263 DEBUG [2012-06-10 00:20:46,829 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1263 DEBUG [2012-06-10 00:20:46,829 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1264 DEBUG [2012-06-10 00:20:46,830 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1265 DEBUG [2012-06-10 00:20:46,831 main] jodd.db.DbSession#debug:36 - Closing db session
1266 INFO  [2012-06-10 00:20:46,832 main] c.b.r.install.DbInstaller#info:46 - Database created.
1266 INFO  [2012-06-10 00:20:46,832 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1279 DEBUG [2012-06-10 00:20:46,845 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1283 DEBUG [2012-06-10 00:20:46,849 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1318 DEBUG [2012-06-10 00:20:46,884 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1319 DEBUG [2012-06-10 00:20:46,885 main] jodd.db.DbSession#debug:36 - Creating new db session
1321 DEBUG [2012-06-10 00:20:46,887 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
7120 DEBUG [2012-06-10 00:20:52,686 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
7124 DEBUG [2012-06-10 00:20:52,690 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
7125 DEBUG [2012-06-10 00:20:52,691 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
7125 DEBUG [2012-06-10 00:20:52,691 main] jodd.db.DbSession#debug:36 - Closing db session
7126 DEBUG [2012-06-10 00:20:52,692 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
7127 DEBUG [2012-06-10 00:20:52,693 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
7128 DEBUG [2012-06-10 00:20:52,694 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
7128 DEBUG [2012-06-10 00:20:52,694 main] jodd.db.DbSession#debug:36 - Creating new db session
7129 DEBUG [2012-06-10 00:20:52,695 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
7181 DEBUG [2012-06-10 00:20:52,747 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
7184 DEBUG [2012-06-10 00:20:52,750 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
7185 DEBUG [2012-06-10 00:20:52,751 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
7185 DEBUG [2012-06-10 00:20:52,751 main] jodd.db.DbSession#debug:36 - Closing db session
7186 DEBUG [2012-06-10 00:20:52,752 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
7187 DEBUG [2012-06-10 00:20:52,753 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
7188 DEBUG [2012-06-10 00:20:52,754 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
7188 DEBUG [2012-06-10 00:20:52,754 main] jodd.db.DbSession#debug:36 - Creating new db session
7189 DEBUG [2012-06-10 00:20:52,755 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
7305 DEBUG [2012-06-10 00:20:52,871 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
7314 DEBUG [2012-06-10 00:20:52,880 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
7314 DEBUG [2012-06-10 00:20:52,880 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
7314 DEBUG [2012-06-10 00:20:52,880 main] jodd.db.DbSession#debug:36 - Closing db session
7317 DEBUG [2012-06-10 00:20:52,883 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
7317 DEBUG [2012-06-10 00:20:52,883 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
7319 DEBUG [2012-06-10 00:20:52,885 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
7319 DEBUG [2012-06-10 00:20:52,885 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
191 INFO  [2012-06-10 00:23:49,576 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
197 INFO  [2012-06-10 00:23:49,582 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
198 INFO  [2012-06-10 00:23:49,583 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
203 INFO  [2012-06-10 00:23:49,588 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
210 DEBUG [2012-06-10 00:23:49,595 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
210 INFO  [2012-06-10 00:23:49,595 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
279 DEBUG [2012-06-10 00:23:49,664 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
290 DEBUG [2012-06-10 00:23:49,675 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
294 DEBUG [2012-06-10 00:23:49,679 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
295 DEBUG [2012-06-10 00:23:49,680 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
387 DEBUG [2012-06-10 00:23:49,772 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
397 DEBUG [2012-06-10 00:23:49,782 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
407 DEBUG [2012-06-10 00:23:49,792 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
409 DEBUG [2012-06-10 00:23:49,794 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
419 DEBUG [2012-06-10 00:23:49,804 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
420 DEBUG [2012-06-10 00:23:49,805 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
423 DEBUG [2012-06-10 00:23:49,808 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
424 DEBUG [2012-06-10 00:23:49,809 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
426 DEBUG [2012-06-10 00:23:49,811 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
427 DEBUG [2012-06-10 00:23:49,812 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
427 INFO  [2012-06-10 00:23:49,812 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 192 ms. Total beans: 7
514 DEBUG [2012-06-10 00:23:49,899 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
515 DEBUG [2012-06-10 00:23:49,900 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
558 INFO  [2012-06-10 00:23:49,943 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
567 DEBUG [2012-06-10 00:23:49,952 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
575 DEBUG [2012-06-10 00:23:49,960 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
581 INFO  [2012-06-10 00:23:49,966 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
900 DEBUG [2012-06-10 00:23:50,285 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
901 DEBUG [2012-06-10 00:23:50,286 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1020 INFO  [2012-06-10 00:23:50,405 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 104 ms. Total entities: 9
1026 DEBUG [2012-06-10 00:23:50,411 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1026 DEBUG [2012-06-10 00:23:50,411 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1027 DEBUG [2012-06-10 00:23:50,412 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1027 DEBUG [2012-06-10 00:23:50,412 main] jodd.db.DbSession#debug:36 - Creating new db session
1031 DEBUG [2012-06-10 00:23:50,416 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1033 DEBUG [2012-06-10 00:23:50,418 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1037 DEBUG [2012-06-10 00:23:50,422 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1038 DEBUG [2012-06-10 00:23:50,423 main] jodd.db.DbSession#debug:36 - Closing db session
1038 INFO  [2012-06-10 00:23:50,423 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1039 DEBUG [2012-06-10 00:23:50,424 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1041 DEBUG [2012-06-10 00:23:50,426 main] jodd.db.DbSession#debug:36 - Creating new db session
1041 DEBUG [2012-06-10 00:23:50,426 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1042 DEBUG [2012-06-10 00:23:50,427 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1043 DEBUG [2012-06-10 00:23:50,428 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1043 DEBUG [2012-06-10 00:23:50,428 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1044 DEBUG [2012-06-10 00:23:50,429 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1044 DEBUG [2012-06-10 00:23:50,429 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1045 DEBUG [2012-06-10 00:23:50,430 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1045 DEBUG [2012-06-10 00:23:50,430 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1046 DEBUG [2012-06-10 00:23:50,431 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1046 DEBUG [2012-06-10 00:23:50,431 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1047 DEBUG [2012-06-10 00:23:50,432 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1047 DEBUG [2012-06-10 00:23:50,432 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1048 DEBUG [2012-06-10 00:23:50,433 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1048 DEBUG [2012-06-10 00:23:50,433 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1049 DEBUG [2012-06-10 00:23:50,434 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1049 DEBUG [2012-06-10 00:23:50,434 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1050 DEBUG [2012-06-10 00:23:50,435 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1050 DEBUG [2012-06-10 00:23:50,435 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1051 DEBUG [2012-06-10 00:23:50,436 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1051 DEBUG [2012-06-10 00:23:50,436 main] jodd.db.DbSession#debug:36 - Closing db session
1052 INFO  [2012-06-10 00:23:50,437 main] c.b.r.install.DbInstaller#info:46 - Database reset
1052 INFO  [2012-06-10 00:23:50,437 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1053 DEBUG [2012-06-10 00:23:50,438 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1054 DEBUG [2012-06-10 00:23:50,439 main] jodd.db.DbSession#debug:36 - Creating new db session
1055 DEBUG [2012-06-10 00:23:50,440 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1055 DEBUG [2012-06-10 00:23:50,440 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1056 DEBUG [2012-06-10 00:23:50,441 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1057 DEBUG [2012-06-10 00:23:50,442 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1057 DEBUG [2012-06-10 00:23:50,442 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1058 DEBUG [2012-06-10 00:23:50,443 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1059 DEBUG [2012-06-10 00:23:50,444 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1059 DEBUG [2012-06-10 00:23:50,444 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1060 DEBUG [2012-06-10 00:23:50,445 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1061 DEBUG [2012-06-10 00:23:50,446 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1061 DEBUG [2012-06-10 00:23:50,446 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1063 DEBUG [2012-06-10 00:23:50,448 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1063 DEBUG [2012-06-10 00:23:50,448 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1064 DEBUG [2012-06-10 00:23:50,449 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1064 DEBUG [2012-06-10 00:23:50,449 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1065 DEBUG [2012-06-10 00:23:50,450 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1065 DEBUG [2012-06-10 00:23:50,450 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1066 DEBUG [2012-06-10 00:23:50,451 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1067 DEBUG [2012-06-10 00:23:50,452 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1068 DEBUG [2012-06-10 00:23:50,453 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1068 DEBUG [2012-06-10 00:23:50,453 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1069 DEBUG [2012-06-10 00:23:50,454 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1069 DEBUG [2012-06-10 00:23:50,454 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1070 DEBUG [2012-06-10 00:23:50,455 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1073 DEBUG [2012-06-10 00:23:50,458 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1073 DEBUG [2012-06-10 00:23:50,458 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1074 DEBUG [2012-06-10 00:23:50,459 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1074 DEBUG [2012-06-10 00:23:50,459 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1075 DEBUG [2012-06-10 00:23:50,460 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1075 DEBUG [2012-06-10 00:23:50,460 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1076 DEBUG [2012-06-10 00:23:50,461 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1077 DEBUG [2012-06-10 00:23:50,462 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1077 DEBUG [2012-06-10 00:23:50,462 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1078 DEBUG [2012-06-10 00:23:50,463 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1079 DEBUG [2012-06-10 00:23:50,464 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1079 DEBUG [2012-06-10 00:23:50,464 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1080 DEBUG [2012-06-10 00:23:50,465 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1080 DEBUG [2012-06-10 00:23:50,465 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1081 DEBUG [2012-06-10 00:23:50,466 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1081 DEBUG [2012-06-10 00:23:50,466 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1082 DEBUG [2012-06-10 00:23:50,467 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1083 DEBUG [2012-06-10 00:23:50,468 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1084 DEBUG [2012-06-10 00:23:50,469 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1085 DEBUG [2012-06-10 00:23:50,470 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1085 DEBUG [2012-06-10 00:23:50,470 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1087 DEBUG [2012-06-10 00:23:50,472 main] jodd.db.DbSession#debug:36 - Closing db session
1087 INFO  [2012-06-10 00:23:50,472 main] c.b.r.install.DbInstaller#info:46 - Database created.
1088 INFO  [2012-06-10 00:23:50,473 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1109 DEBUG [2012-06-10 00:23:50,494 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1111 DEBUG [2012-06-10 00:23:50,496 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1129 DEBUG [2012-06-10 00:23:50,514 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1135 DEBUG [2012-06-10 00:23:50,520 main] jodd.db.DbSession#debug:36 - Creating new db session
1136 DEBUG [2012-06-10 00:23:50,521 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1226 DEBUG [2012-06-10 00:23:50,611 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1229 DEBUG [2012-06-10 00:23:50,614 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1230 DEBUG [2012-06-10 00:23:50,615 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1231 DEBUG [2012-06-10 00:23:50,616 main] jodd.db.DbSession#debug:36 - Closing db session
1231 DEBUG [2012-06-10 00:23:50,616 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1232 DEBUG [2012-06-10 00:23:50,617 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1234 DEBUG [2012-06-10 00:23:50,619 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1234 DEBUG [2012-06-10 00:23:50,619 main] jodd.db.DbSession#debug:36 - Creating new db session
1235 DEBUG [2012-06-10 00:23:50,620 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1265 DEBUG [2012-06-10 00:23:50,650 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1267 DEBUG [2012-06-10 00:23:50,652 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1267 DEBUG [2012-06-10 00:23:50,652 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1267 DEBUG [2012-06-10 00:23:50,652 main] jodd.db.DbSession#debug:36 - Closing db session
1268 DEBUG [2012-06-10 00:23:50,653 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1270 DEBUG [2012-06-10 00:23:50,655 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1271 DEBUG [2012-06-10 00:23:50,656 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1272 DEBUG [2012-06-10 00:23:50,657 main] jodd.db.DbSession#debug:36 - Creating new db session
1272 DEBUG [2012-06-10 00:23:50,657 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1380 DEBUG [2012-06-10 00:23:50,765 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1388 DEBUG [2012-06-10 00:23:50,773 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1389 DEBUG [2012-06-10 00:23:50,774 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1389 DEBUG [2012-06-10 00:23:50,774 main] jodd.db.DbSession#debug:36 - Closing db session
1393 DEBUG [2012-06-10 00:23:50,778 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1393 DEBUG [2012-06-10 00:23:50,778 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1394 DEBUG [2012-06-10 00:23:50,779 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1395 DEBUG [2012-06-10 00:23:50,780 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
190 INFO  [2012-06-10 00:24:19,715 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
194 INFO  [2012-06-10 00:24:19,719 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
194 INFO  [2012-06-10 00:24:19,719 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
200 INFO  [2012-06-10 00:24:19,725 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
207 DEBUG [2012-06-10 00:24:19,732 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
207 INFO  [2012-06-10 00:24:19,732 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
270 DEBUG [2012-06-10 00:24:19,795 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
281 DEBUG [2012-06-10 00:24:19,806 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
284 DEBUG [2012-06-10 00:24:19,809 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
285 DEBUG [2012-06-10 00:24:19,810 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
379 DEBUG [2012-06-10 00:24:19,904 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
386 DEBUG [2012-06-10 00:24:19,911 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
397 DEBUG [2012-06-10 00:24:19,922 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
400 DEBUG [2012-06-10 00:24:19,925 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
406 DEBUG [2012-06-10 00:24:19,931 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
407 DEBUG [2012-06-10 00:24:19,932 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
410 DEBUG [2012-06-10 00:24:19,935 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
411 DEBUG [2012-06-10 00:24:19,936 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
415 DEBUG [2012-06-10 00:24:19,940 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
416 DEBUG [2012-06-10 00:24:19,941 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
416 INFO  [2012-06-10 00:24:19,941 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 188 ms. Total beans: 7
504 DEBUG [2012-06-10 00:24:20,029 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
505 DEBUG [2012-06-10 00:24:20,030 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
547 INFO  [2012-06-10 00:24:20,072 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
550 DEBUG [2012-06-10 00:24:20,075 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
551 DEBUG [2012-06-10 00:24:20,076 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
559 INFO  [2012-06-10 00:24:20,084 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1002 DEBUG [2012-06-10 00:24:20,527 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1004 DEBUG [2012-06-10 00:24:20,529 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1158 INFO  [2012-06-10 00:24:20,683 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 122 ms. Total entities: 9
1165 DEBUG [2012-06-10 00:24:20,690 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1172 DEBUG [2012-06-10 00:24:20,697 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1172 DEBUG [2012-06-10 00:24:20,697 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1173 DEBUG [2012-06-10 00:24:20,698 main] jodd.db.DbSession#debug:36 - Creating new db session
1177 DEBUG [2012-06-10 00:24:20,702 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1181 DEBUG [2012-06-10 00:24:20,706 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1185 DEBUG [2012-06-10 00:24:20,710 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1186 DEBUG [2012-06-10 00:24:20,711 main] jodd.db.DbSession#debug:36 - Closing db session
1187 INFO  [2012-06-10 00:24:20,712 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1188 DEBUG [2012-06-10 00:24:20,713 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1190 DEBUG [2012-06-10 00:24:20,715 main] jodd.db.DbSession#debug:36 - Creating new db session
1190 DEBUG [2012-06-10 00:24:20,715 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1191 DEBUG [2012-06-10 00:24:20,716 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1191 DEBUG [2012-06-10 00:24:20,716 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1192 DEBUG [2012-06-10 00:24:20,717 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1192 DEBUG [2012-06-10 00:24:20,717 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1193 DEBUG [2012-06-10 00:24:20,718 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1194 DEBUG [2012-06-10 00:24:20,719 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1194 DEBUG [2012-06-10 00:24:20,719 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1195 DEBUG [2012-06-10 00:24:20,720 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1195 DEBUG [2012-06-10 00:24:20,720 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1196 DEBUG [2012-06-10 00:24:20,721 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1196 DEBUG [2012-06-10 00:24:20,721 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1197 DEBUG [2012-06-10 00:24:20,722 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1197 DEBUG [2012-06-10 00:24:20,722 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1199 DEBUG [2012-06-10 00:24:20,724 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1199 DEBUG [2012-06-10 00:24:20,724 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1200 DEBUG [2012-06-10 00:24:20,725 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1200 DEBUG [2012-06-10 00:24:20,725 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1201 DEBUG [2012-06-10 00:24:20,726 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1202 DEBUG [2012-06-10 00:24:20,727 main] jodd.db.DbSession#debug:36 - Closing db session
1202 INFO  [2012-06-10 00:24:20,727 main] c.b.r.install.DbInstaller#info:46 - Database reset
1203 INFO  [2012-06-10 00:24:20,728 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1203 DEBUG [2012-06-10 00:24:20,728 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1204 DEBUG [2012-06-10 00:24:20,729 main] jodd.db.DbSession#debug:36 - Creating new db session
1205 DEBUG [2012-06-10 00:24:20,730 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1205 DEBUG [2012-06-10 00:24:20,730 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1206 DEBUG [2012-06-10 00:24:20,731 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1207 DEBUG [2012-06-10 00:24:20,732 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1208 DEBUG [2012-06-10 00:24:20,733 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1208 DEBUG [2012-06-10 00:24:20,733 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1211 DEBUG [2012-06-10 00:24:20,736 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1212 DEBUG [2012-06-10 00:24:20,737 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1215 DEBUG [2012-06-10 00:24:20,740 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1216 DEBUG [2012-06-10 00:24:20,741 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1216 DEBUG [2012-06-10 00:24:20,741 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1216 DEBUG [2012-06-10 00:24:20,741 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1216 DEBUG [2012-06-10 00:24:20,741 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1217 DEBUG [2012-06-10 00:24:20,742 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1217 DEBUG [2012-06-10 00:24:20,742 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1218 DEBUG [2012-06-10 00:24:20,743 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1218 DEBUG [2012-06-10 00:24:20,743 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1219 DEBUG [2012-06-10 00:24:20,744 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1219 DEBUG [2012-06-10 00:24:20,744 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1220 DEBUG [2012-06-10 00:24:20,745 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1220 DEBUG [2012-06-10 00:24:20,745 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1220 DEBUG [2012-06-10 00:24:20,745 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1221 DEBUG [2012-06-10 00:24:20,746 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1221 DEBUG [2012-06-10 00:24:20,746 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1221 DEBUG [2012-06-10 00:24:20,746 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1221 DEBUG [2012-06-10 00:24:20,746 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1222 DEBUG [2012-06-10 00:24:20,747 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1222 DEBUG [2012-06-10 00:24:20,747 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1223 DEBUG [2012-06-10 00:24:20,748 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1223 DEBUG [2012-06-10 00:24:20,748 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1223 DEBUG [2012-06-10 00:24:20,748 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1224 DEBUG [2012-06-10 00:24:20,749 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1224 DEBUG [2012-06-10 00:24:20,749 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1224 DEBUG [2012-06-10 00:24:20,749 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1225 DEBUG [2012-06-10 00:24:20,750 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1225 DEBUG [2012-06-10 00:24:20,750 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1225 DEBUG [2012-06-10 00:24:20,750 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1226 DEBUG [2012-06-10 00:24:20,751 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1226 DEBUG [2012-06-10 00:24:20,751 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1226 DEBUG [2012-06-10 00:24:20,751 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1227 DEBUG [2012-06-10 00:24:20,752 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1227 DEBUG [2012-06-10 00:24:20,752 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1228 DEBUG [2012-06-10 00:24:20,753 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1228 DEBUG [2012-06-10 00:24:20,753 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1229 DEBUG [2012-06-10 00:24:20,754 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1229 DEBUG [2012-06-10 00:24:20,754 main] jodd.db.DbSession#debug:36 - Closing db session
1229 INFO  [2012-06-10 00:24:20,754 main] c.b.r.install.DbInstaller#info:46 - Database created.
1229 INFO  [2012-06-10 00:24:20,754 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1240 DEBUG [2012-06-10 00:24:20,765 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1241 DEBUG [2012-06-10 00:24:20,766 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1274 DEBUG [2012-06-10 00:24:20,799 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1274 DEBUG [2012-06-10 00:24:20,799 main] jodd.db.DbSession#debug:36 - Creating new db session
1275 DEBUG [2012-06-10 00:24:20,800 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1395 DEBUG [2012-06-10 00:24:20,920 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1405 DEBUG [2012-06-10 00:24:20,930 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1406 DEBUG [2012-06-10 00:24:20,931 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1406 DEBUG [2012-06-10 00:24:20,931 main] jodd.db.DbSession#debug:36 - Closing db session
1407 DEBUG [2012-06-10 00:24:20,932 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1407 DEBUG [2012-06-10 00:24:20,932 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1409 DEBUG [2012-06-10 00:24:20,934 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1410 DEBUG [2012-06-10 00:24:20,935 main] jodd.db.DbSession#debug:36 - Creating new db session
1411 DEBUG [2012-06-10 00:24:20,936 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1477 DEBUG [2012-06-10 00:24:21,002 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1492 DEBUG [2012-06-10 00:24:21,017 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1493 DEBUG [2012-06-10 00:24:21,018 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1493 DEBUG [2012-06-10 00:24:21,018 main] jodd.db.DbSession#debug:36 - Closing db session
1493 DEBUG [2012-06-10 00:24:21,018 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1494 DEBUG [2012-06-10 00:24:21,019 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1495 DEBUG [2012-06-10 00:24:21,020 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1495 DEBUG [2012-06-10 00:24:21,020 main] jodd.db.DbSession#debug:36 - Creating new db session
1495 DEBUG [2012-06-10 00:24:21,020 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1582 DEBUG [2012-06-10 00:24:21,107 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1603 DEBUG [2012-06-10 00:24:21,128 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1603 DEBUG [2012-06-10 00:24:21,128 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1604 DEBUG [2012-06-10 00:24:21,129 main] jodd.db.DbSession#debug:36 - Closing db session
1607 DEBUG [2012-06-10 00:24:21,132 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1607 DEBUG [2012-06-10 00:24:21,132 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1608 DEBUG [2012-06-10 00:24:21,133 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1608 DEBUG [2012-06-10 00:24:21,133 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
194 INFO  [2012-06-10 00:26:41,787 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
199 INFO  [2012-06-10 00:26:41,792 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
199 INFO  [2012-06-10 00:26:41,792 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
204 INFO  [2012-06-10 00:26:41,797 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
211 DEBUG [2012-06-10 00:26:41,804 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
212 INFO  [2012-06-10 00:26:41,805 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
272 DEBUG [2012-06-10 00:26:41,865 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
283 DEBUG [2012-06-10 00:26:41,876 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
287 DEBUG [2012-06-10 00:26:41,880 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
287 DEBUG [2012-06-10 00:26:41,880 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
373 DEBUG [2012-06-10 00:26:41,966 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
380 DEBUG [2012-06-10 00:26:41,973 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
382 DEBUG [2012-06-10 00:26:41,975 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
384 DEBUG [2012-06-10 00:26:41,977 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
388 DEBUG [2012-06-10 00:26:41,981 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
389 DEBUG [2012-06-10 00:26:41,982 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
390 DEBUG [2012-06-10 00:26:41,983 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
391 DEBUG [2012-06-10 00:26:41,984 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
393 DEBUG [2012-06-10 00:26:41,986 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
394 DEBUG [2012-06-10 00:26:41,987 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
394 INFO  [2012-06-10 00:26:41,987 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 161 ms. Total beans: 7
453 DEBUG [2012-06-10 00:26:42,046 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
454 DEBUG [2012-06-10 00:26:42,047 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
486 INFO  [2012-06-10 00:26:42,079 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
488 DEBUG [2012-06-10 00:26:42,081 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
489 DEBUG [2012-06-10 00:26:42,082 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
494 INFO  [2012-06-10 00:26:42,087 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
840 DEBUG [2012-06-10 00:26:42,433 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
842 DEBUG [2012-06-10 00:26:42,435 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
992 INFO  [2012-06-10 00:26:42,585 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 123 ms. Total entities: 9
1000 DEBUG [2012-06-10 00:26:42,593 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1001 DEBUG [2012-06-10 00:26:42,594 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1001 DEBUG [2012-06-10 00:26:42,594 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1002 DEBUG [2012-06-10 00:26:42,595 main] jodd.db.DbSession#debug:36 - Creating new db session
1005 DEBUG [2012-06-10 00:26:42,598 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1008 DEBUG [2012-06-10 00:26:42,601 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1015 DEBUG [2012-06-10 00:26:42,608 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1016 DEBUG [2012-06-10 00:26:42,609 main] jodd.db.DbSession#debug:36 - Closing db session
1017 INFO  [2012-06-10 00:26:42,610 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1017 DEBUG [2012-06-10 00:26:42,610 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1020 DEBUG [2012-06-10 00:26:42,613 main] jodd.db.DbSession#debug:36 - Creating new db session
1021 DEBUG [2012-06-10 00:26:42,614 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1021 DEBUG [2012-06-10 00:26:42,614 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1022 DEBUG [2012-06-10 00:26:42,615 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1022 DEBUG [2012-06-10 00:26:42,615 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1023 DEBUG [2012-06-10 00:26:42,616 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1023 DEBUG [2012-06-10 00:26:42,616 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1024 DEBUG [2012-06-10 00:26:42,617 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1024 DEBUG [2012-06-10 00:26:42,617 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1025 DEBUG [2012-06-10 00:26:42,618 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1025 DEBUG [2012-06-10 00:26:42,618 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1026 DEBUG [2012-06-10 00:26:42,619 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1026 DEBUG [2012-06-10 00:26:42,619 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1027 DEBUG [2012-06-10 00:26:42,620 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1027 DEBUG [2012-06-10 00:26:42,620 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1028 DEBUG [2012-06-10 00:26:42,621 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1032 DEBUG [2012-06-10 00:26:42,625 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1033 DEBUG [2012-06-10 00:26:42,626 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1033 DEBUG [2012-06-10 00:26:42,626 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1034 DEBUG [2012-06-10 00:26:42,627 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1034 DEBUG [2012-06-10 00:26:42,627 main] jodd.db.DbSession#debug:36 - Closing db session
1035 INFO  [2012-06-10 00:26:42,628 main] c.b.r.install.DbInstaller#info:46 - Database reset
1036 INFO  [2012-06-10 00:26:42,629 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1036 DEBUG [2012-06-10 00:26:42,629 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1038 DEBUG [2012-06-10 00:26:42,631 main] jodd.db.DbSession#debug:36 - Creating new db session
1039 DEBUG [2012-06-10 00:26:42,632 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1039 DEBUG [2012-06-10 00:26:42,632 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1041 DEBUG [2012-06-10 00:26:42,634 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1041 DEBUG [2012-06-10 00:26:42,634 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1042 DEBUG [2012-06-10 00:26:42,635 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1042 DEBUG [2012-06-10 00:26:42,635 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1043 DEBUG [2012-06-10 00:26:42,636 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1045 DEBUG [2012-06-10 00:26:42,638 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1047 DEBUG [2012-06-10 00:26:42,640 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1047 DEBUG [2012-06-10 00:26:42,640 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1048 DEBUG [2012-06-10 00:26:42,641 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1049 DEBUG [2012-06-10 00:26:42,642 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1049 DEBUG [2012-06-10 00:26:42,642 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1050 DEBUG [2012-06-10 00:26:42,643 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1051 DEBUG [2012-06-10 00:26:42,644 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1051 DEBUG [2012-06-10 00:26:42,644 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1052 DEBUG [2012-06-10 00:26:42,645 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1052 DEBUG [2012-06-10 00:26:42,645 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1053 DEBUG [2012-06-10 00:26:42,646 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1054 DEBUG [2012-06-10 00:26:42,647 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1054 DEBUG [2012-06-10 00:26:42,647 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1055 DEBUG [2012-06-10 00:26:42,648 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1055 DEBUG [2012-06-10 00:26:42,648 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1056 DEBUG [2012-06-10 00:26:42,649 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1061 DEBUG [2012-06-10 00:26:42,654 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1062 DEBUG [2012-06-10 00:26:42,655 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1063 DEBUG [2012-06-10 00:26:42,656 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1063 DEBUG [2012-06-10 00:26:42,656 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1064 DEBUG [2012-06-10 00:26:42,657 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1064 DEBUG [2012-06-10 00:26:42,657 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1065 DEBUG [2012-06-10 00:26:42,658 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1070 DEBUG [2012-06-10 00:26:42,663 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1070 DEBUG [2012-06-10 00:26:42,663 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1071 DEBUG [2012-06-10 00:26:42,664 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1072 DEBUG [2012-06-10 00:26:42,665 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1072 DEBUG [2012-06-10 00:26:42,665 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1073 DEBUG [2012-06-10 00:26:42,666 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1073 DEBUG [2012-06-10 00:26:42,666 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1074 DEBUG [2012-06-10 00:26:42,667 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1075 DEBUG [2012-06-10 00:26:42,668 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1077 DEBUG [2012-06-10 00:26:42,670 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1078 DEBUG [2012-06-10 00:26:42,671 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1078 DEBUG [2012-06-10 00:26:42,671 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1079 DEBUG [2012-06-10 00:26:42,672 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1080 DEBUG [2012-06-10 00:26:42,673 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1080 DEBUG [2012-06-10 00:26:42,673 main] jodd.db.DbSession#debug:36 - Closing db session
1081 INFO  [2012-06-10 00:26:42,674 main] c.b.r.install.DbInstaller#info:46 - Database created.
1081 INFO  [2012-06-10 00:26:42,674 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1120 DEBUG [2012-06-10 00:26:42,713 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1133 DEBUG [2012-06-10 00:26:42,726 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1151 DEBUG [2012-06-10 00:26:42,744 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1152 DEBUG [2012-06-10 00:26:42,745 main] jodd.db.DbSession#debug:36 - Creating new db session
1153 DEBUG [2012-06-10 00:26:42,746 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1263 DEBUG [2012-06-10 00:26:42,856 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1268 DEBUG [2012-06-10 00:26:42,861 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1268 DEBUG [2012-06-10 00:26:42,861 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1269 DEBUG [2012-06-10 00:26:42,862 main] jodd.db.DbSession#debug:36 - Closing db session
1269 DEBUG [2012-06-10 00:26:42,862 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1270 DEBUG [2012-06-10 00:26:42,863 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1271 DEBUG [2012-06-10 00:26:42,864 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1271 DEBUG [2012-06-10 00:26:42,864 main] jodd.db.DbSession#debug:36 - Creating new db session
1272 DEBUG [2012-06-10 00:26:42,865 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1304 DEBUG [2012-06-10 00:26:42,897 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1307 DEBUG [2012-06-10 00:26:42,900 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1307 DEBUG [2012-06-10 00:26:42,900 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1307 DEBUG [2012-06-10 00:26:42,900 main] jodd.db.DbSession#debug:36 - Closing db session
1308 DEBUG [2012-06-10 00:26:42,901 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1308 DEBUG [2012-06-10 00:26:42,901 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1310 DEBUG [2012-06-10 00:26:42,903 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1310 DEBUG [2012-06-10 00:26:42,903 main] jodd.db.DbSession#debug:36 - Creating new db session
1310 DEBUG [2012-06-10 00:26:42,903 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1431 DEBUG [2012-06-10 00:26:43,024 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1432 DEBUG [2012-06-10 00:26:43,025 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1433 DEBUG [2012-06-10 00:26:43,026 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1433 DEBUG [2012-06-10 00:26:43,026 main] jodd.db.DbSession#debug:36 - Closing db session
1436 DEBUG [2012-06-10 00:26:43,029 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1437 DEBUG [2012-06-10 00:26:43,030 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1438 DEBUG [2012-06-10 00:26:43,031 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1439 DEBUG [2012-06-10 00:26:43,032 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
187 INFO  [2012-06-10 00:27:00,707 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
193 INFO  [2012-06-10 00:27:00,713 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
193 INFO  [2012-06-10 00:27:00,713 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
198 INFO  [2012-06-10 00:27:00,718 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
205 DEBUG [2012-06-10 00:27:00,725 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
205 INFO  [2012-06-10 00:27:00,725 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
266 DEBUG [2012-06-10 00:27:00,786 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
276 DEBUG [2012-06-10 00:27:00,796 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
280 DEBUG [2012-06-10 00:27:00,800 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
280 DEBUG [2012-06-10 00:27:00,800 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
373 DEBUG [2012-06-10 00:27:00,893 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
381 DEBUG [2012-06-10 00:27:00,901 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
390 DEBUG [2012-06-10 00:27:00,910 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
393 DEBUG [2012-06-10 00:27:00,913 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
401 DEBUG [2012-06-10 00:27:00,921 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
402 DEBUG [2012-06-10 00:27:00,922 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
404 DEBUG [2012-06-10 00:27:00,924 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
405 DEBUG [2012-06-10 00:27:00,925 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
407 DEBUG [2012-06-10 00:27:00,927 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
407 DEBUG [2012-06-10 00:27:00,927 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
408 INFO  [2012-06-10 00:27:00,928 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 183 ms. Total beans: 7
496 DEBUG [2012-06-10 00:27:01,016 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
502 DEBUG [2012-06-10 00:27:01,022 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
560 INFO  [2012-06-10 00:27:01,080 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
563 DEBUG [2012-06-10 00:27:01,083 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
564 DEBUG [2012-06-10 00:27:01,084 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
568 INFO  [2012-06-10 00:27:01,088 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
929 DEBUG [2012-06-10 00:27:01,449 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
930 DEBUG [2012-06-10 00:27:01,450 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1046 INFO  [2012-06-10 00:27:01,566 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 100 ms. Total entities: 9
1052 DEBUG [2012-06-10 00:27:01,572 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1052 DEBUG [2012-06-10 00:27:01,572 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1053 DEBUG [2012-06-10 00:27:01,573 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1053 DEBUG [2012-06-10 00:27:01,573 main] jodd.db.DbSession#debug:36 - Creating new db session
1057 DEBUG [2012-06-10 00:27:01,577 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1060 DEBUG [2012-06-10 00:27:01,580 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1064 DEBUG [2012-06-10 00:27:01,584 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1065 DEBUG [2012-06-10 00:27:01,585 main] jodd.db.DbSession#debug:36 - Closing db session
1065 INFO  [2012-06-10 00:27:01,585 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1066 DEBUG [2012-06-10 00:27:01,586 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1068 DEBUG [2012-06-10 00:27:01,588 main] jodd.db.DbSession#debug:36 - Creating new db session
1068 DEBUG [2012-06-10 00:27:01,588 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1069 DEBUG [2012-06-10 00:27:01,589 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1069 DEBUG [2012-06-10 00:27:01,589 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1070 DEBUG [2012-06-10 00:27:01,590 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1070 DEBUG [2012-06-10 00:27:01,590 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1071 DEBUG [2012-06-10 00:27:01,591 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1071 DEBUG [2012-06-10 00:27:01,591 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1072 DEBUG [2012-06-10 00:27:01,592 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1073 DEBUG [2012-06-10 00:27:01,593 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1073 DEBUG [2012-06-10 00:27:01,593 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1074 DEBUG [2012-06-10 00:27:01,594 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1074 DEBUG [2012-06-10 00:27:01,594 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1075 DEBUG [2012-06-10 00:27:01,595 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1075 DEBUG [2012-06-10 00:27:01,595 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1076 DEBUG [2012-06-10 00:27:01,596 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1076 DEBUG [2012-06-10 00:27:01,596 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1077 DEBUG [2012-06-10 00:27:01,597 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1077 DEBUG [2012-06-10 00:27:01,597 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1078 DEBUG [2012-06-10 00:27:01,598 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1078 DEBUG [2012-06-10 00:27:01,598 main] jodd.db.DbSession#debug:36 - Closing db session
1079 INFO  [2012-06-10 00:27:01,599 main] c.b.r.install.DbInstaller#info:46 - Database reset
1079 INFO  [2012-06-10 00:27:01,599 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1079 DEBUG [2012-06-10 00:27:01,599 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1081 DEBUG [2012-06-10 00:27:01,601 main] jodd.db.DbSession#debug:36 - Creating new db session
1081 DEBUG [2012-06-10 00:27:01,601 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1082 DEBUG [2012-06-10 00:27:01,602 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1083 DEBUG [2012-06-10 00:27:01,603 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1084 DEBUG [2012-06-10 00:27:01,604 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1085 DEBUG [2012-06-10 00:27:01,605 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1085 DEBUG [2012-06-10 00:27:01,605 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1086 DEBUG [2012-06-10 00:27:01,606 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1087 DEBUG [2012-06-10 00:27:01,607 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1087 DEBUG [2012-06-10 00:27:01,607 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1088 DEBUG [2012-06-10 00:27:01,608 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1088 DEBUG [2012-06-10 00:27:01,608 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1089 DEBUG [2012-06-10 00:27:01,609 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1089 DEBUG [2012-06-10 00:27:01,609 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1090 DEBUG [2012-06-10 00:27:01,610 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1090 DEBUG [2012-06-10 00:27:01,610 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1091 DEBUG [2012-06-10 00:27:01,611 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1091 DEBUG [2012-06-10 00:27:01,611 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1092 DEBUG [2012-06-10 00:27:01,612 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1093 DEBUG [2012-06-10 00:27:01,613 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1093 DEBUG [2012-06-10 00:27:01,613 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1094 DEBUG [2012-06-10 00:27:01,614 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1094 DEBUG [2012-06-10 00:27:01,614 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1095 DEBUG [2012-06-10 00:27:01,615 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1095 DEBUG [2012-06-10 00:27:01,615 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1096 DEBUG [2012-06-10 00:27:01,616 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1097 DEBUG [2012-06-10 00:27:01,617 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1099 DEBUG [2012-06-10 00:27:01,619 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1099 DEBUG [2012-06-10 00:27:01,619 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1100 DEBUG [2012-06-10 00:27:01,620 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1100 DEBUG [2012-06-10 00:27:01,620 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1101 DEBUG [2012-06-10 00:27:01,621 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1102 DEBUG [2012-06-10 00:27:01,622 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1102 DEBUG [2012-06-10 00:27:01,622 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1103 DEBUG [2012-06-10 00:27:01,623 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1103 DEBUG [2012-06-10 00:27:01,623 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1104 DEBUG [2012-06-10 00:27:01,624 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1104 DEBUG [2012-06-10 00:27:01,624 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1105 DEBUG [2012-06-10 00:27:01,625 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1105 DEBUG [2012-06-10 00:27:01,625 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1106 DEBUG [2012-06-10 00:27:01,626 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1107 DEBUG [2012-06-10 00:27:01,627 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1107 DEBUG [2012-06-10 00:27:01,627 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1108 DEBUG [2012-06-10 00:27:01,628 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1108 DEBUG [2012-06-10 00:27:01,628 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1109 DEBUG [2012-06-10 00:27:01,629 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1110 DEBUG [2012-06-10 00:27:01,630 main] jodd.db.DbSession#debug:36 - Closing db session
1110 INFO  [2012-06-10 00:27:01,630 main] c.b.r.install.DbInstaller#info:46 - Database created.
1111 INFO  [2012-06-10 00:27:01,631 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1128 DEBUG [2012-06-10 00:27:01,648 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1132 DEBUG [2012-06-10 00:27:01,652 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1158 DEBUG [2012-06-10 00:27:01,678 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1161 DEBUG [2012-06-10 00:27:01,681 main] jodd.db.DbSession#debug:36 - Creating new db session
1162 DEBUG [2012-06-10 00:27:01,682 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1281 DEBUG [2012-06-10 00:27:01,801 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1284 DEBUG [2012-06-10 00:27:01,804 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1290 DEBUG [2012-06-10 00:27:01,810 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1290 DEBUG [2012-06-10 00:27:01,810 main] jodd.db.DbSession#debug:36 - Closing db session
1291 DEBUG [2012-06-10 00:27:01,811 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1292 DEBUG [2012-06-10 00:27:01,812 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1293 DEBUG [2012-06-10 00:27:01,813 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1293 DEBUG [2012-06-10 00:27:01,813 main] jodd.db.DbSession#debug:36 - Creating new db session
1293 DEBUG [2012-06-10 00:27:01,813 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1362 DEBUG [2012-06-10 00:27:01,882 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1363 DEBUG [2012-06-10 00:27:01,883 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1363 DEBUG [2012-06-10 00:27:01,883 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1364 DEBUG [2012-06-10 00:27:01,884 main] jodd.db.DbSession#debug:36 - Closing db session
1372 DEBUG [2012-06-10 00:27:01,892 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1373 DEBUG [2012-06-10 00:27:01,893 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1377 DEBUG [2012-06-10 00:27:01,897 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1377 DEBUG [2012-06-10 00:27:01,897 main] jodd.db.DbSession#debug:36 - Creating new db session
1377 DEBUG [2012-06-10 00:27:01,897 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1460 DEBUG [2012-06-10 00:27:01,980 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1468 DEBUG [2012-06-10 00:27:01,988 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1469 DEBUG [2012-06-10 00:27:01,989 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1469 DEBUG [2012-06-10 00:27:01,989 main] jodd.db.DbSession#debug:36 - Closing db session
1472 DEBUG [2012-06-10 00:27:01,992 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1480 DEBUG [2012-06-10 00:27:02,000 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1481 DEBUG [2012-06-10 00:27:02,001 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1482 DEBUG [2012-06-10 00:27:02,002 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
197 INFO  [2012-06-10 00:29:42,014 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
201 INFO  [2012-06-10 00:29:42,018 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
201 INFO  [2012-06-10 00:29:42,018 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
207 INFO  [2012-06-10 00:29:42,024 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
214 DEBUG [2012-06-10 00:29:42,031 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
216 INFO  [2012-06-10 00:29:42,033 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
280 DEBUG [2012-06-10 00:29:42,097 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
291 DEBUG [2012-06-10 00:29:42,108 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
295 DEBUG [2012-06-10 00:29:42,112 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
296 DEBUG [2012-06-10 00:29:42,113 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
390 DEBUG [2012-06-10 00:29:42,207 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
397 DEBUG [2012-06-10 00:29:42,214 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
407 DEBUG [2012-06-10 00:29:42,224 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
409 DEBUG [2012-06-10 00:29:42,226 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
413 DEBUG [2012-06-10 00:29:42,230 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
413 DEBUG [2012-06-10 00:29:42,230 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
416 DEBUG [2012-06-10 00:29:42,233 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
417 DEBUG [2012-06-10 00:29:42,234 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
419 DEBUG [2012-06-10 00:29:42,236 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
420 DEBUG [2012-06-10 00:29:42,237 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
420 INFO  [2012-06-10 00:29:42,237 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 180 ms. Total beans: 7
509 DEBUG [2012-06-10 00:29:42,326 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
518 DEBUG [2012-06-10 00:29:42,335 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
571 INFO  [2012-06-10 00:29:42,388 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
574 DEBUG [2012-06-10 00:29:42,391 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
575 DEBUG [2012-06-10 00:29:42,392 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
580 INFO  [2012-06-10 00:29:42,397 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
974 DEBUG [2012-06-10 00:29:42,791 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
975 DEBUG [2012-06-10 00:29:42,792 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1113 INFO  [2012-06-10 00:29:42,930 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 114 ms. Total entities: 9
1118 DEBUG [2012-06-10 00:29:42,935 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1118 DEBUG [2012-06-10 00:29:42,935 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1119 DEBUG [2012-06-10 00:29:42,936 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1119 DEBUG [2012-06-10 00:29:42,936 main] jodd.db.DbSession#debug:36 - Creating new db session
1122 DEBUG [2012-06-10 00:29:42,939 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1124 DEBUG [2012-06-10 00:29:42,941 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1128 DEBUG [2012-06-10 00:29:42,945 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1129 DEBUG [2012-06-10 00:29:42,946 main] jodd.db.DbSession#debug:36 - Closing db session
1129 INFO  [2012-06-10 00:29:42,946 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1129 DEBUG [2012-06-10 00:29:42,946 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1131 DEBUG [2012-06-10 00:29:42,948 main] jodd.db.DbSession#debug:36 - Creating new db session
1131 DEBUG [2012-06-10 00:29:42,948 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1131 DEBUG [2012-06-10 00:29:42,948 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1132 DEBUG [2012-06-10 00:29:42,949 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1132 DEBUG [2012-06-10 00:29:42,949 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1133 DEBUG [2012-06-10 00:29:42,950 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1133 DEBUG [2012-06-10 00:29:42,950 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1133 DEBUG [2012-06-10 00:29:42,950 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1134 DEBUG [2012-06-10 00:29:42,951 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1134 DEBUG [2012-06-10 00:29:42,951 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1134 DEBUG [2012-06-10 00:29:42,951 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1135 DEBUG [2012-06-10 00:29:42,952 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1135 DEBUG [2012-06-10 00:29:42,952 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1136 DEBUG [2012-06-10 00:29:42,953 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1136 DEBUG [2012-06-10 00:29:42,953 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1136 DEBUG [2012-06-10 00:29:42,953 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1137 DEBUG [2012-06-10 00:29:42,954 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1137 DEBUG [2012-06-10 00:29:42,954 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1137 DEBUG [2012-06-10 00:29:42,954 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1138 DEBUG [2012-06-10 00:29:42,955 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1138 DEBUG [2012-06-10 00:29:42,955 main] jodd.db.DbSession#debug:36 - Closing db session
1138 INFO  [2012-06-10 00:29:42,955 main] c.b.r.install.DbInstaller#info:46 - Database reset
1139 INFO  [2012-06-10 00:29:42,956 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1139 DEBUG [2012-06-10 00:29:42,956 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1140 DEBUG [2012-06-10 00:29:42,957 main] jodd.db.DbSession#debug:36 - Creating new db session
1140 DEBUG [2012-06-10 00:29:42,957 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1141 DEBUG [2012-06-10 00:29:42,958 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1142 DEBUG [2012-06-10 00:29:42,959 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1142 DEBUG [2012-06-10 00:29:42,959 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1142 DEBUG [2012-06-10 00:29:42,959 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1143 DEBUG [2012-06-10 00:29:42,960 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1144 DEBUG [2012-06-10 00:29:42,961 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1144 DEBUG [2012-06-10 00:29:42,961 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1144 DEBUG [2012-06-10 00:29:42,961 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1145 DEBUG [2012-06-10 00:29:42,962 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1145 DEBUG [2012-06-10 00:29:42,962 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1145 DEBUG [2012-06-10 00:29:42,962 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1146 DEBUG [2012-06-10 00:29:42,963 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1146 DEBUG [2012-06-10 00:29:42,963 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1147 DEBUG [2012-06-10 00:29:42,964 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1147 DEBUG [2012-06-10 00:29:42,964 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1147 DEBUG [2012-06-10 00:29:42,964 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1148 DEBUG [2012-06-10 00:29:42,965 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1149 DEBUG [2012-06-10 00:29:42,966 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1149 DEBUG [2012-06-10 00:29:42,966 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1149 DEBUG [2012-06-10 00:29:42,966 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1150 DEBUG [2012-06-10 00:29:42,967 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1150 DEBUG [2012-06-10 00:29:42,967 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1150 DEBUG [2012-06-10 00:29:42,967 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1151 DEBUG [2012-06-10 00:29:42,968 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1151 DEBUG [2012-06-10 00:29:42,968 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1152 DEBUG [2012-06-10 00:29:42,969 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1152 DEBUG [2012-06-10 00:29:42,969 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1153 DEBUG [2012-06-10 00:29:42,970 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1153 DEBUG [2012-06-10 00:29:42,970 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1154 DEBUG [2012-06-10 00:29:42,971 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1154 DEBUG [2012-06-10 00:29:42,971 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1154 DEBUG [2012-06-10 00:29:42,971 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1155 DEBUG [2012-06-10 00:29:42,972 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1155 DEBUG [2012-06-10 00:29:42,972 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1156 DEBUG [2012-06-10 00:29:42,973 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1156 DEBUG [2012-06-10 00:29:42,973 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1156 DEBUG [2012-06-10 00:29:42,973 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1157 DEBUG [2012-06-10 00:29:42,974 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1157 DEBUG [2012-06-10 00:29:42,974 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1158 DEBUG [2012-06-10 00:29:42,975 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1159 DEBUG [2012-06-10 00:29:42,976 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1159 DEBUG [2012-06-10 00:29:42,976 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1160 DEBUG [2012-06-10 00:29:42,977 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1160 DEBUG [2012-06-10 00:29:42,977 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1161 DEBUG [2012-06-10 00:29:42,978 main] jodd.db.DbSession#debug:36 - Closing db session
1161 INFO  [2012-06-10 00:29:42,978 main] c.b.r.install.DbInstaller#info:46 - Database created.
1161 INFO  [2012-06-10 00:29:42,978 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1176 DEBUG [2012-06-10 00:29:42,993 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1178 DEBUG [2012-06-10 00:29:42,995 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1200 DEBUG [2012-06-10 00:29:43,017 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1201 DEBUG [2012-06-10 00:29:43,018 main] jodd.db.DbSession#debug:36 - Creating new db session
1201 DEBUG [2012-06-10 00:29:43,018 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1324 DEBUG [2012-06-10 00:29:43,141 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1327 DEBUG [2012-06-10 00:29:43,144 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1328 DEBUG [2012-06-10 00:29:43,145 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1328 DEBUG [2012-06-10 00:29:43,145 main] jodd.db.DbSession#debug:36 - Closing db session
1329 DEBUG [2012-06-10 00:29:43,146 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1329 DEBUG [2012-06-10 00:29:43,146 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1330 DEBUG [2012-06-10 00:29:43,147 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1330 DEBUG [2012-06-10 00:29:43,147 main] jodd.db.DbSession#debug:36 - Creating new db session
1331 DEBUG [2012-06-10 00:29:43,148 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1395 DEBUG [2012-06-10 00:29:43,212 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1396 DEBUG [2012-06-10 00:29:43,213 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1396 DEBUG [2012-06-10 00:29:43,213 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1397 DEBUG [2012-06-10 00:29:43,214 main] jodd.db.DbSession#debug:36 - Closing db session
1397 DEBUG [2012-06-10 00:29:43,214 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1398 DEBUG [2012-06-10 00:29:43,215 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1399 DEBUG [2012-06-10 00:29:43,216 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1399 DEBUG [2012-06-10 00:29:43,216 main] jodd.db.DbSession#debug:36 - Creating new db session
1400 DEBUG [2012-06-10 00:29:43,217 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1490 DEBUG [2012-06-10 00:29:43,307 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1498 DEBUG [2012-06-10 00:29:43,315 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1498 DEBUG [2012-06-10 00:29:43,315 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1499 DEBUG [2012-06-10 00:29:43,316 main] jodd.db.DbSession#debug:36 - Closing db session
1512 DEBUG [2012-06-10 00:29:43,329 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1513 DEBUG [2012-06-10 00:29:43,330 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1514 DEBUG [2012-06-10 00:29:43,331 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1515 DEBUG [2012-06-10 00:29:43,332 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
188 INFO  [2012-06-10 00:30:02,132 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
193 INFO  [2012-06-10 00:30:02,137 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
193 INFO  [2012-06-10 00:30:02,137 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
198 INFO  [2012-06-10 00:30:02,142 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
205 DEBUG [2012-06-10 00:30:02,149 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
206 INFO  [2012-06-10 00:30:02,150 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
268 DEBUG [2012-06-10 00:30:02,212 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
278 DEBUG [2012-06-10 00:30:02,222 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
281 DEBUG [2012-06-10 00:30:02,225 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
282 DEBUG [2012-06-10 00:30:02,226 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
379 DEBUG [2012-06-10 00:30:02,323 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
386 DEBUG [2012-06-10 00:30:02,330 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
389 DEBUG [2012-06-10 00:30:02,333 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
391 DEBUG [2012-06-10 00:30:02,335 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
395 DEBUG [2012-06-10 00:30:02,339 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
396 DEBUG [2012-06-10 00:30:02,340 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
398 DEBUG [2012-06-10 00:30:02,342 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
398 DEBUG [2012-06-10 00:30:02,342 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
400 DEBUG [2012-06-10 00:30:02,344 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
401 DEBUG [2012-06-10 00:30:02,345 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
402 INFO  [2012-06-10 00:30:02,346 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 176 ms. Total beans: 7
491 DEBUG [2012-06-10 00:30:02,435 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
492 DEBUG [2012-06-10 00:30:02,436 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
524 INFO  [2012-06-10 00:30:02,468 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
530 DEBUG [2012-06-10 00:30:02,474 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
531 DEBUG [2012-06-10 00:30:02,475 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
536 INFO  [2012-06-10 00:30:02,480 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
897 DEBUG [2012-06-10 00:30:02,841 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
898 DEBUG [2012-06-10 00:30:02,842 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1007 INFO  [2012-06-10 00:30:02,951 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 97 ms. Total entities: 9
1013 DEBUG [2012-06-10 00:30:02,957 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1013 DEBUG [2012-06-10 00:30:02,957 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1013 DEBUG [2012-06-10 00:30:02,957 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1014 DEBUG [2012-06-10 00:30:02,958 main] jodd.db.DbSession#debug:36 - Creating new db session
1019 DEBUG [2012-06-10 00:30:02,963 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1021 DEBUG [2012-06-10 00:30:02,965 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1025 DEBUG [2012-06-10 00:30:02,969 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1025 DEBUG [2012-06-10 00:30:02,969 main] jodd.db.DbSession#debug:36 - Closing db session
1026 INFO  [2012-06-10 00:30:02,970 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1026 DEBUG [2012-06-10 00:30:02,970 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1027 DEBUG [2012-06-10 00:30:02,971 main] jodd.db.DbSession#debug:36 - Creating new db session
1028 DEBUG [2012-06-10 00:30:02,972 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1028 DEBUG [2012-06-10 00:30:02,972 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1029 DEBUG [2012-06-10 00:30:02,973 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1029 DEBUG [2012-06-10 00:30:02,973 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1029 DEBUG [2012-06-10 00:30:02,973 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1030 DEBUG [2012-06-10 00:30:02,974 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1030 DEBUG [2012-06-10 00:30:02,974 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1030 DEBUG [2012-06-10 00:30:02,974 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1031 DEBUG [2012-06-10 00:30:02,975 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1031 DEBUG [2012-06-10 00:30:02,975 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1032 DEBUG [2012-06-10 00:30:02,976 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1032 DEBUG [2012-06-10 00:30:02,976 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1032 DEBUG [2012-06-10 00:30:02,976 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1033 DEBUG [2012-06-10 00:30:02,977 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1033 DEBUG [2012-06-10 00:30:02,977 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1033 DEBUG [2012-06-10 00:30:02,977 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1034 DEBUG [2012-06-10 00:30:02,978 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1034 DEBUG [2012-06-10 00:30:02,978 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1035 DEBUG [2012-06-10 00:30:02,979 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1035 DEBUG [2012-06-10 00:30:02,979 main] jodd.db.DbSession#debug:36 - Closing db session
1035 INFO  [2012-06-10 00:30:02,979 main] c.b.r.install.DbInstaller#info:46 - Database reset
1035 INFO  [2012-06-10 00:30:02,979 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1036 DEBUG [2012-06-10 00:30:02,980 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1037 DEBUG [2012-06-10 00:30:02,981 main] jodd.db.DbSession#debug:36 - Creating new db session
1037 DEBUG [2012-06-10 00:30:02,981 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1038 DEBUG [2012-06-10 00:30:02,982 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1039 DEBUG [2012-06-10 00:30:02,983 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1039 DEBUG [2012-06-10 00:30:02,983 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1039 DEBUG [2012-06-10 00:30:02,983 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1040 DEBUG [2012-06-10 00:30:02,984 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1041 DEBUG [2012-06-10 00:30:02,985 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1041 DEBUG [2012-06-10 00:30:02,985 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1041 DEBUG [2012-06-10 00:30:02,985 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1042 DEBUG [2012-06-10 00:30:02,986 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1042 DEBUG [2012-06-10 00:30:02,986 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1042 DEBUG [2012-06-10 00:30:02,986 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1043 DEBUG [2012-06-10 00:30:02,987 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1043 DEBUG [2012-06-10 00:30:02,987 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1044 DEBUG [2012-06-10 00:30:02,988 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1044 DEBUG [2012-06-10 00:30:02,988 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1044 DEBUG [2012-06-10 00:30:02,988 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1045 DEBUG [2012-06-10 00:30:02,989 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1046 DEBUG [2012-06-10 00:30:02,990 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1046 DEBUG [2012-06-10 00:30:02,990 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1047 DEBUG [2012-06-10 00:30:02,991 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1047 DEBUG [2012-06-10 00:30:02,991 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1047 DEBUG [2012-06-10 00:30:02,991 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1048 DEBUG [2012-06-10 00:30:02,992 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1048 DEBUG [2012-06-10 00:30:02,992 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1049 DEBUG [2012-06-10 00:30:02,993 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1049 DEBUG [2012-06-10 00:30:02,993 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1049 DEBUG [2012-06-10 00:30:02,993 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1050 DEBUG [2012-06-10 00:30:02,994 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1050 DEBUG [2012-06-10 00:30:02,994 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1051 DEBUG [2012-06-10 00:30:02,995 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1051 DEBUG [2012-06-10 00:30:02,995 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1052 DEBUG [2012-06-10 00:30:02,996 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1052 DEBUG [2012-06-10 00:30:02,996 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1053 DEBUG [2012-06-10 00:30:02,997 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1053 DEBUG [2012-06-10 00:30:02,997 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1053 DEBUG [2012-06-10 00:30:02,997 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1054 DEBUG [2012-06-10 00:30:02,998 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1054 DEBUG [2012-06-10 00:30:02,998 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1054 DEBUG [2012-06-10 00:30:02,998 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1055 DEBUG [2012-06-10 00:30:02,999 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1056 DEBUG [2012-06-10 00:30:03,000 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1056 DEBUG [2012-06-10 00:30:03,000 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1057 DEBUG [2012-06-10 00:30:03,001 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1057 DEBUG [2012-06-10 00:30:03,001 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1058 DEBUG [2012-06-10 00:30:03,002 main] jodd.db.DbSession#debug:36 - Closing db session
1058 INFO  [2012-06-10 00:30:03,002 main] c.b.r.install.DbInstaller#info:46 - Database created.
1058 INFO  [2012-06-10 00:30:03,002 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1069 DEBUG [2012-06-10 00:30:03,013 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1071 DEBUG [2012-06-10 00:30:03,015 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1088 DEBUG [2012-06-10 00:30:03,032 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1089 DEBUG [2012-06-10 00:30:03,033 main] jodd.db.DbSession#debug:36 - Creating new db session
1090 DEBUG [2012-06-10 00:30:03,034 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1186 DEBUG [2012-06-10 00:30:03,130 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1189 DEBUG [2012-06-10 00:30:03,133 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1189 DEBUG [2012-06-10 00:30:03,133 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1189 DEBUG [2012-06-10 00:30:03,133 main] jodd.db.DbSession#debug:36 - Closing db session
1190 DEBUG [2012-06-10 00:30:03,134 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1190 DEBUG [2012-06-10 00:30:03,134 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1191 DEBUG [2012-06-10 00:30:03,135 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1191 DEBUG [2012-06-10 00:30:03,135 main] jodd.db.DbSession#debug:36 - Creating new db session
1192 DEBUG [2012-06-10 00:30:03,136 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1235 DEBUG [2012-06-10 00:30:03,179 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1236 DEBUG [2012-06-10 00:30:03,180 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1237 DEBUG [2012-06-10 00:30:03,181 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1237 DEBUG [2012-06-10 00:30:03,181 main] jodd.db.DbSession#debug:36 - Closing db session
1238 DEBUG [2012-06-10 00:30:03,182 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1238 DEBUG [2012-06-10 00:30:03,182 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1239 DEBUG [2012-06-10 00:30:03,183 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1240 DEBUG [2012-06-10 00:30:03,184 main] jodd.db.DbSession#debug:36 - Creating new db session
1240 DEBUG [2012-06-10 00:30:03,184 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1349 DEBUG [2012-06-10 00:30:03,293 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1350 DEBUG [2012-06-10 00:30:03,294 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1350 DEBUG [2012-06-10 00:30:03,294 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1351 DEBUG [2012-06-10 00:30:03,295 main] jodd.db.DbSession#debug:36 - Closing db session
1354 DEBUG [2012-06-10 00:30:03,298 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1354 DEBUG [2012-06-10 00:30:03,298 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1355 DEBUG [2012-06-10 00:30:03,299 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1355 DEBUG [2012-06-10 00:30:03,299 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
194 INFO  [2012-06-10 00:30:18,956 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
199 INFO  [2012-06-10 00:30:18,961 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
200 INFO  [2012-06-10 00:30:18,962 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
205 INFO  [2012-06-10 00:30:18,967 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
211 DEBUG [2012-06-10 00:30:18,973 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
212 INFO  [2012-06-10 00:30:18,974 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
274 DEBUG [2012-06-10 00:30:19,036 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
285 DEBUG [2012-06-10 00:30:19,047 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
288 DEBUG [2012-06-10 00:30:19,050 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
289 DEBUG [2012-06-10 00:30:19,051 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
383 DEBUG [2012-06-10 00:30:19,145 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
390 DEBUG [2012-06-10 00:30:19,152 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
395 DEBUG [2012-06-10 00:30:19,157 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
397 DEBUG [2012-06-10 00:30:19,159 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
406 DEBUG [2012-06-10 00:30:19,168 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
407 DEBUG [2012-06-10 00:30:19,169 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
409 DEBUG [2012-06-10 00:30:19,171 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
410 DEBUG [2012-06-10 00:30:19,172 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
412 DEBUG [2012-06-10 00:30:19,174 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
413 DEBUG [2012-06-10 00:30:19,175 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
413 INFO  [2012-06-10 00:30:19,175 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 181 ms. Total beans: 7
486 DEBUG [2012-06-10 00:30:19,248 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
490 DEBUG [2012-06-10 00:30:19,252 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
539 INFO  [2012-06-10 00:30:19,301 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
543 DEBUG [2012-06-10 00:30:19,305 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
544 DEBUG [2012-06-10 00:30:19,306 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
549 INFO  [2012-06-10 00:30:19,311 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
903 DEBUG [2012-06-10 00:30:19,665 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
904 DEBUG [2012-06-10 00:30:19,666 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1024 INFO  [2012-06-10 00:30:19,786 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 108 ms. Total entities: 9
1030 DEBUG [2012-06-10 00:30:19,792 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1031 DEBUG [2012-06-10 00:30:19,793 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1031 DEBUG [2012-06-10 00:30:19,793 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1032 DEBUG [2012-06-10 00:30:19,794 main] jodd.db.DbSession#debug:36 - Creating new db session
1036 DEBUG [2012-06-10 00:30:19,798 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1038 DEBUG [2012-06-10 00:30:19,800 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1043 DEBUG [2012-06-10 00:30:19,805 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1043 DEBUG [2012-06-10 00:30:19,805 main] jodd.db.DbSession#debug:36 - Closing db session
1044 INFO  [2012-06-10 00:30:19,806 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1044 DEBUG [2012-06-10 00:30:19,806 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1046 DEBUG [2012-06-10 00:30:19,808 main] jodd.db.DbSession#debug:36 - Creating new db session
1047 DEBUG [2012-06-10 00:30:19,809 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1047 DEBUG [2012-06-10 00:30:19,809 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1048 DEBUG [2012-06-10 00:30:19,810 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1048 DEBUG [2012-06-10 00:30:19,810 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1049 DEBUG [2012-06-10 00:30:19,811 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1050 DEBUG [2012-06-10 00:30:19,812 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1050 DEBUG [2012-06-10 00:30:19,812 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1051 DEBUG [2012-06-10 00:30:19,813 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1051 DEBUG [2012-06-10 00:30:19,813 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1052 DEBUG [2012-06-10 00:30:19,814 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1052 DEBUG [2012-06-10 00:30:19,814 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1053 DEBUG [2012-06-10 00:30:19,815 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1053 DEBUG [2012-06-10 00:30:19,815 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1054 DEBUG [2012-06-10 00:30:19,816 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1054 DEBUG [2012-06-10 00:30:19,816 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1055 DEBUG [2012-06-10 00:30:19,817 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1055 DEBUG [2012-06-10 00:30:19,817 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1056 DEBUG [2012-06-10 00:30:19,818 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1056 DEBUG [2012-06-10 00:30:19,818 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1057 DEBUG [2012-06-10 00:30:19,819 main] jodd.db.DbSession#debug:36 - Closing db session
1057 INFO  [2012-06-10 00:30:19,819 main] c.b.r.install.DbInstaller#info:46 - Database reset
1058 INFO  [2012-06-10 00:30:19,820 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1058 DEBUG [2012-06-10 00:30:19,820 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1062 DEBUG [2012-06-10 00:30:19,824 main] jodd.db.DbSession#debug:36 - Creating new db session
1063 DEBUG [2012-06-10 00:30:19,825 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1064 DEBUG [2012-06-10 00:30:19,826 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1065 DEBUG [2012-06-10 00:30:19,827 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1066 DEBUG [2012-06-10 00:30:19,828 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1066 DEBUG [2012-06-10 00:30:19,828 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1067 DEBUG [2012-06-10 00:30:19,829 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1072 DEBUG [2012-06-10 00:30:19,834 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1072 DEBUG [2012-06-10 00:30:19,834 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1073 DEBUG [2012-06-10 00:30:19,835 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1074 DEBUG [2012-06-10 00:30:19,836 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1074 DEBUG [2012-06-10 00:30:19,836 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1074 DEBUG [2012-06-10 00:30:19,836 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1075 DEBUG [2012-06-10 00:30:19,837 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1076 DEBUG [2012-06-10 00:30:19,838 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1078 DEBUG [2012-06-10 00:30:19,840 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1078 DEBUG [2012-06-10 00:30:19,840 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1079 DEBUG [2012-06-10 00:30:19,841 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1079 DEBUG [2012-06-10 00:30:19,841 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1080 DEBUG [2012-06-10 00:30:19,842 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1081 DEBUG [2012-06-10 00:30:19,843 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1081 DEBUG [2012-06-10 00:30:19,843 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1082 DEBUG [2012-06-10 00:30:19,844 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1082 DEBUG [2012-06-10 00:30:19,844 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1083 DEBUG [2012-06-10 00:30:19,845 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1083 DEBUG [2012-06-10 00:30:19,845 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1084 DEBUG [2012-06-10 00:30:19,846 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1086 DEBUG [2012-06-10 00:30:19,848 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1086 DEBUG [2012-06-10 00:30:19,848 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1087 DEBUG [2012-06-10 00:30:19,849 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1087 DEBUG [2012-06-10 00:30:19,849 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1088 DEBUG [2012-06-10 00:30:19,850 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1088 DEBUG [2012-06-10 00:30:19,850 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1089 DEBUG [2012-06-10 00:30:19,851 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1089 DEBUG [2012-06-10 00:30:19,851 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1090 DEBUG [2012-06-10 00:30:19,852 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1091 DEBUG [2012-06-10 00:30:19,853 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1091 DEBUG [2012-06-10 00:30:19,853 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1091 DEBUG [2012-06-10 00:30:19,853 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1092 DEBUG [2012-06-10 00:30:19,854 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1092 DEBUG [2012-06-10 00:30:19,854 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1093 DEBUG [2012-06-10 00:30:19,855 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1094 DEBUG [2012-06-10 00:30:19,856 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1094 DEBUG [2012-06-10 00:30:19,856 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1095 DEBUG [2012-06-10 00:30:19,857 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1096 DEBUG [2012-06-10 00:30:19,858 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1096 DEBUG [2012-06-10 00:30:19,858 main] jodd.db.DbSession#debug:36 - Closing db session
1097 INFO  [2012-06-10 00:30:19,859 main] c.b.r.install.DbInstaller#info:46 - Database created.
1097 INFO  [2012-06-10 00:30:19,859 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1111 DEBUG [2012-06-10 00:30:19,873 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1114 DEBUG [2012-06-10 00:30:19,876 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1135 DEBUG [2012-06-10 00:30:19,897 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1135 DEBUG [2012-06-10 00:30:19,897 main] jodd.db.DbSession#debug:36 - Creating new db session
1136 DEBUG [2012-06-10 00:30:19,898 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1259 DEBUG [2012-06-10 00:30:20,021 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1262 DEBUG [2012-06-10 00:30:20,024 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1266 DEBUG [2012-06-10 00:30:20,028 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1266 DEBUG [2012-06-10 00:30:20,028 main] jodd.db.DbSession#debug:36 - Closing db session
1267 DEBUG [2012-06-10 00:30:20,029 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1267 DEBUG [2012-06-10 00:30:20,029 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1268 DEBUG [2012-06-10 00:30:20,030 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1268 DEBUG [2012-06-10 00:30:20,030 main] jodd.db.DbSession#debug:36 - Creating new db session
1269 DEBUG [2012-06-10 00:30:20,031 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1327 DEBUG [2012-06-10 00:30:20,089 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1328 DEBUG [2012-06-10 00:30:20,090 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1328 DEBUG [2012-06-10 00:30:20,090 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1330 DEBUG [2012-06-10 00:30:20,092 main] jodd.db.DbSession#debug:36 - Closing db session
1330 DEBUG [2012-06-10 00:30:20,092 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1336 DEBUG [2012-06-10 00:30:20,098 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1337 DEBUG [2012-06-10 00:30:20,099 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1338 DEBUG [2012-06-10 00:30:20,100 main] jodd.db.DbSession#debug:36 - Creating new db session
1338 DEBUG [2012-06-10 00:30:20,100 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1421 DEBUG [2012-06-10 00:30:20,183 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1430 DEBUG [2012-06-10 00:30:20,192 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1431 DEBUG [2012-06-10 00:30:20,193 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1431 DEBUG [2012-06-10 00:30:20,193 main] jodd.db.DbSession#debug:36 - Closing db session
1434 DEBUG [2012-06-10 00:30:20,196 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1443 DEBUG [2012-06-10 00:30:20,205 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1444 DEBUG [2012-06-10 00:30:20,206 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1444 DEBUG [2012-06-10 00:30:20,206 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
224 INFO  [2012-06-10 00:30:39,871 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
229 INFO  [2012-06-10 00:30:39,876 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
229 INFO  [2012-06-10 00:30:39,876 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
235 INFO  [2012-06-10 00:30:39,882 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
243 DEBUG [2012-06-10 00:30:39,890 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
244 INFO  [2012-06-10 00:30:39,891 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
318 DEBUG [2012-06-10 00:30:39,965 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
335 DEBUG [2012-06-10 00:30:39,982 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
339 DEBUG [2012-06-10 00:30:39,986 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
340 DEBUG [2012-06-10 00:30:39,987 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
450 DEBUG [2012-06-10 00:30:40,097 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
459 DEBUG [2012-06-10 00:30:40,106 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
470 DEBUG [2012-06-10 00:30:40,117 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
475 DEBUG [2012-06-10 00:30:40,122 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
487 DEBUG [2012-06-10 00:30:40,134 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
488 DEBUG [2012-06-10 00:30:40,135 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
491 DEBUG [2012-06-10 00:30:40,138 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
501 DEBUG [2012-06-10 00:30:40,148 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
503 DEBUG [2012-06-10 00:30:40,150 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
504 DEBUG [2012-06-10 00:30:40,151 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
505 INFO  [2012-06-10 00:30:40,152 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 239 ms. Total beans: 7
618 DEBUG [2012-06-10 00:30:40,265 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
619 DEBUG [2012-06-10 00:30:40,266 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
659 INFO  [2012-06-10 00:30:40,306 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
662 DEBUG [2012-06-10 00:30:40,309 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
665 DEBUG [2012-06-10 00:30:40,312 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
672 INFO  [2012-06-10 00:30:40,319 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1163 DEBUG [2012-06-10 00:30:40,810 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1164 DEBUG [2012-06-10 00:30:40,811 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1315 INFO  [2012-06-10 00:30:40,962 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 114 ms. Total entities: 9
1322 DEBUG [2012-06-10 00:30:40,969 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1323 DEBUG [2012-06-10 00:30:40,970 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1323 DEBUG [2012-06-10 00:30:40,970 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1324 DEBUG [2012-06-10 00:30:40,971 main] jodd.db.DbSession#debug:36 - Creating new db session
1328 DEBUG [2012-06-10 00:30:40,975 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1331 DEBUG [2012-06-10 00:30:40,978 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1335 DEBUG [2012-06-10 00:30:40,982 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1338 DEBUG [2012-06-10 00:30:40,985 main] jodd.db.DbSession#debug:36 - Closing db session
1339 INFO  [2012-06-10 00:30:40,986 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1339 DEBUG [2012-06-10 00:30:40,986 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1341 DEBUG [2012-06-10 00:30:40,988 main] jodd.db.DbSession#debug:36 - Creating new db session
1342 DEBUG [2012-06-10 00:30:40,989 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1342 DEBUG [2012-06-10 00:30:40,989 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1343 DEBUG [2012-06-10 00:30:40,990 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1343 DEBUG [2012-06-10 00:30:40,990 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1344 DEBUG [2012-06-10 00:30:40,991 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1345 DEBUG [2012-06-10 00:30:40,992 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1345 DEBUG [2012-06-10 00:30:40,992 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1346 DEBUG [2012-06-10 00:30:40,993 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1346 DEBUG [2012-06-10 00:30:40,993 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1346 DEBUG [2012-06-10 00:30:40,993 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1347 DEBUG [2012-06-10 00:30:40,994 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1347 DEBUG [2012-06-10 00:30:40,994 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1348 DEBUG [2012-06-10 00:30:40,995 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1348 DEBUG [2012-06-10 00:30:40,995 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1348 DEBUG [2012-06-10 00:30:40,995 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1348 DEBUG [2012-06-10 00:30:40,995 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1349 DEBUG [2012-06-10 00:30:40,996 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1349 DEBUG [2012-06-10 00:30:40,996 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1349 DEBUG [2012-06-10 00:30:40,996 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1350 DEBUG [2012-06-10 00:30:40,997 main] jodd.db.DbSession#debug:36 - Closing db session
1350 INFO  [2012-06-10 00:30:40,997 main] c.b.r.install.DbInstaller#info:46 - Database reset
1351 INFO  [2012-06-10 00:30:40,998 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1351 DEBUG [2012-06-10 00:30:40,998 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1352 DEBUG [2012-06-10 00:30:40,999 main] jodd.db.DbSession#debug:36 - Creating new db session
1353 DEBUG [2012-06-10 00:30:41,000 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1353 DEBUG [2012-06-10 00:30:41,000 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1354 DEBUG [2012-06-10 00:30:41,001 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1355 DEBUG [2012-06-10 00:30:41,002 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1355 DEBUG [2012-06-10 00:30:41,002 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1356 DEBUG [2012-06-10 00:30:41,003 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1357 DEBUG [2012-06-10 00:30:41,004 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1357 DEBUG [2012-06-10 00:30:41,004 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1357 DEBUG [2012-06-10 00:30:41,004 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1358 DEBUG [2012-06-10 00:30:41,005 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1358 DEBUG [2012-06-10 00:30:41,005 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1359 DEBUG [2012-06-10 00:30:41,006 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1359 DEBUG [2012-06-10 00:30:41,006 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1359 DEBUG [2012-06-10 00:30:41,006 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1365 DEBUG [2012-06-10 00:30:41,012 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1366 DEBUG [2012-06-10 00:30:41,013 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1366 DEBUG [2012-06-10 00:30:41,013 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1367 DEBUG [2012-06-10 00:30:41,014 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1368 DEBUG [2012-06-10 00:30:41,015 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1368 DEBUG [2012-06-10 00:30:41,015 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1369 DEBUG [2012-06-10 00:30:41,016 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1369 DEBUG [2012-06-10 00:30:41,016 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1369 DEBUG [2012-06-10 00:30:41,016 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1370 DEBUG [2012-06-10 00:30:41,017 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1371 DEBUG [2012-06-10 00:30:41,018 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1371 DEBUG [2012-06-10 00:30:41,018 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1371 DEBUG [2012-06-10 00:30:41,018 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1372 DEBUG [2012-06-10 00:30:41,019 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1372 DEBUG [2012-06-10 00:30:41,019 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1372 DEBUG [2012-06-10 00:30:41,019 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1373 DEBUG [2012-06-10 00:30:41,020 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1373 DEBUG [2012-06-10 00:30:41,020 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1374 DEBUG [2012-06-10 00:30:41,021 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1374 DEBUG [2012-06-10 00:30:41,021 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1375 DEBUG [2012-06-10 00:30:41,022 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1375 DEBUG [2012-06-10 00:30:41,022 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1376 DEBUG [2012-06-10 00:30:41,023 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1376 DEBUG [2012-06-10 00:30:41,023 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1376 DEBUG [2012-06-10 00:30:41,023 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1377 DEBUG [2012-06-10 00:30:41,024 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1378 DEBUG [2012-06-10 00:30:41,025 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1378 DEBUG [2012-06-10 00:30:41,025 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1379 DEBUG [2012-06-10 00:30:41,026 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1379 DEBUG [2012-06-10 00:30:41,026 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1380 DEBUG [2012-06-10 00:30:41,027 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1380 DEBUG [2012-06-10 00:30:41,027 main] jodd.db.DbSession#debug:36 - Closing db session
1380 INFO  [2012-06-10 00:30:41,027 main] c.b.r.install.DbInstaller#info:46 - Database created.
1381 INFO  [2012-06-10 00:30:41,028 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1393 DEBUG [2012-06-10 00:30:41,040 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1395 DEBUG [2012-06-10 00:30:41,042 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
50836 DEBUG [2012-06-10 00:31:30,483 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
50837 DEBUG [2012-06-10 00:31:30,484 main] jodd.db.DbSession#debug:36 - Creating new db session
50837 DEBUG [2012-06-10 00:31:30,484 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
56952 DEBUG [2012-06-10 00:31:36,599 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
56955 DEBUG [2012-06-10 00:31:36,602 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
56956 DEBUG [2012-06-10 00:31:36,603 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
56957 DEBUG [2012-06-10 00:31:36,604 main] jodd.db.DbSession#debug:36 - Closing db session
56958 DEBUG [2012-06-10 00:31:36,605 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
56958 DEBUG [2012-06-10 00:31:36,605 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
56959 DEBUG [2012-06-10 00:31:36,606 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
56960 DEBUG [2012-06-10 00:31:36,607 main] jodd.db.DbSession#debug:36 - Creating new db session
56960 DEBUG [2012-06-10 00:31:36,607 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
57007 DEBUG [2012-06-10 00:31:36,654 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
57008 DEBUG [2012-06-10 00:31:36,655 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
57008 DEBUG [2012-06-10 00:31:36,655 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
57009 DEBUG [2012-06-10 00:31:36,656 main] jodd.db.DbSession#debug:36 - Closing db session
57010 DEBUG [2012-06-10 00:31:36,657 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
57010 DEBUG [2012-06-10 00:31:36,657 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
57011 DEBUG [2012-06-10 00:31:36,658 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
57012 DEBUG [2012-06-10 00:31:36,659 main] jodd.db.DbSession#debug:36 - Creating new db session
57012 DEBUG [2012-06-10 00:31:36,659 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
57118 DEBUG [2012-06-10 00:31:36,765 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
57119 DEBUG [2012-06-10 00:31:36,766 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
57120 DEBUG [2012-06-10 00:31:36,767 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
57120 DEBUG [2012-06-10 00:31:36,767 main] jodd.db.DbSession#debug:36 - Closing db session
57123 DEBUG [2012-06-10 00:31:36,770 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
57124 DEBUG [2012-06-10 00:31:36,771 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
204 INFO  [2012-06-10 00:33:46,345 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
210 INFO  [2012-06-10 00:33:46,351 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
210 INFO  [2012-06-10 00:33:46,351 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
216 INFO  [2012-06-10 00:33:46,357 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
224 DEBUG [2012-06-10 00:33:46,365 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
225 INFO  [2012-06-10 00:33:46,366 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
310 DEBUG [2012-06-10 00:33:46,451 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
321 DEBUG [2012-06-10 00:33:46,462 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
325 DEBUG [2012-06-10 00:33:46,466 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
326 DEBUG [2012-06-10 00:33:46,467 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
439 DEBUG [2012-06-10 00:33:46,580 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
447 DEBUG [2012-06-10 00:33:46,588 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
457 DEBUG [2012-06-10 00:33:46,598 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
460 DEBUG [2012-06-10 00:33:46,601 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
464 DEBUG [2012-06-10 00:33:46,605 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
465 DEBUG [2012-06-10 00:33:46,606 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
469 DEBUG [2012-06-10 00:33:46,610 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
469 DEBUG [2012-06-10 00:33:46,610 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
471 DEBUG [2012-06-10 00:33:46,612 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
472 DEBUG [2012-06-10 00:33:46,613 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
473 INFO  [2012-06-10 00:33:46,614 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 215 ms. Total beans: 7
566 DEBUG [2012-06-10 00:33:46,707 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
573 DEBUG [2012-06-10 00:33:46,714 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
618 INFO  [2012-06-10 00:33:46,759 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
623 DEBUG [2012-06-10 00:33:46,764 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
624 DEBUG [2012-06-10 00:33:46,765 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
629 INFO  [2012-06-10 00:33:46,770 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
962 DEBUG [2012-06-10 00:33:47,103 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
963 DEBUG [2012-06-10 00:33:47,104 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1090 INFO  [2012-06-10 00:33:47,231 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 113 ms. Total entities: 9
1095 DEBUG [2012-06-10 00:33:47,236 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1095 DEBUG [2012-06-10 00:33:47,236 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1096 DEBUG [2012-06-10 00:33:47,237 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1096 DEBUG [2012-06-10 00:33:47,237 main] jodd.db.DbSession#debug:36 - Creating new db session
1099 DEBUG [2012-06-10 00:33:47,240 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1101 DEBUG [2012-06-10 00:33:47,242 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1107 DEBUG [2012-06-10 00:33:47,248 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1107 DEBUG [2012-06-10 00:33:47,248 main] jodd.db.DbSession#debug:36 - Closing db session
1108 INFO  [2012-06-10 00:33:47,249 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1108 DEBUG [2012-06-10 00:33:47,249 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1110 DEBUG [2012-06-10 00:33:47,251 main] jodd.db.DbSession#debug:36 - Creating new db session
1110 DEBUG [2012-06-10 00:33:47,251 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1110 DEBUG [2012-06-10 00:33:47,251 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1111 DEBUG [2012-06-10 00:33:47,252 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1111 DEBUG [2012-06-10 00:33:47,252 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1112 DEBUG [2012-06-10 00:33:47,253 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1112 DEBUG [2012-06-10 00:33:47,253 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1113 DEBUG [2012-06-10 00:33:47,254 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1113 DEBUG [2012-06-10 00:33:47,254 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1114 DEBUG [2012-06-10 00:33:47,255 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1114 DEBUG [2012-06-10 00:33:47,255 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1114 DEBUG [2012-06-10 00:33:47,255 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1115 DEBUG [2012-06-10 00:33:47,256 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1115 DEBUG [2012-06-10 00:33:47,256 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1115 DEBUG [2012-06-10 00:33:47,256 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1116 DEBUG [2012-06-10 00:33:47,257 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1116 DEBUG [2012-06-10 00:33:47,257 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1117 DEBUG [2012-06-10 00:33:47,258 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1117 DEBUG [2012-06-10 00:33:47,258 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1118 DEBUG [2012-06-10 00:33:47,259 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1118 DEBUG [2012-06-10 00:33:47,259 main] jodd.db.DbSession#debug:36 - Closing db session
1118 INFO  [2012-06-10 00:33:47,259 main] c.b.r.install.DbInstaller#info:46 - Database reset
1119 INFO  [2012-06-10 00:33:47,260 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1119 DEBUG [2012-06-10 00:33:47,260 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1120 DEBUG [2012-06-10 00:33:47,261 main] jodd.db.DbSession#debug:36 - Creating new db session
1121 DEBUG [2012-06-10 00:33:47,262 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1121 DEBUG [2012-06-10 00:33:47,262 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1122 DEBUG [2012-06-10 00:33:47,263 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1123 DEBUG [2012-06-10 00:33:47,264 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1123 DEBUG [2012-06-10 00:33:47,264 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1123 DEBUG [2012-06-10 00:33:47,264 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1124 DEBUG [2012-06-10 00:33:47,265 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1125 DEBUG [2012-06-10 00:33:47,266 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1125 DEBUG [2012-06-10 00:33:47,266 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1126 DEBUG [2012-06-10 00:33:47,267 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1126 DEBUG [2012-06-10 00:33:47,267 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1126 DEBUG [2012-06-10 00:33:47,267 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1127 DEBUG [2012-06-10 00:33:47,268 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1127 DEBUG [2012-06-10 00:33:47,268 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1128 DEBUG [2012-06-10 00:33:47,269 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1128 DEBUG [2012-06-10 00:33:47,269 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1129 DEBUG [2012-06-10 00:33:47,270 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1129 DEBUG [2012-06-10 00:33:47,270 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus_id INT ) 
1130 DEBUG [2012-06-10 00:33:47,271 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1130 DEBUG [2012-06-10 00:33:47,271 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1131 DEBUG [2012-06-10 00:33:47,272 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1131 DEBUG [2012-06-10 00:33:47,272 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1132 DEBUG [2012-06-10 00:33:47,273 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1132 DEBUG [2012-06-10 00:33:47,273 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1133 DEBUG [2012-06-10 00:33:47,274 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1133 DEBUG [2012-06-10 00:33:47,274 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1134 DEBUG [2012-06-10 00:33:47,275 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1134 DEBUG [2012-06-10 00:33:47,275 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1135 DEBUG [2012-06-10 00:33:47,276 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1135 DEBUG [2012-06-10 00:33:47,276 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1136 DEBUG [2012-06-10 00:33:47,277 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1136 DEBUG [2012-06-10 00:33:47,277 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1136 DEBUG [2012-06-10 00:33:47,277 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1137 DEBUG [2012-06-10 00:33:47,278 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1137 DEBUG [2012-06-10 00:33:47,278 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1138 DEBUG [2012-06-10 00:33:47,279 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1138 DEBUG [2012-06-10 00:33:47,279 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1139 DEBUG [2012-06-10 00:33:47,280 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1139 DEBUG [2012-06-10 00:33:47,280 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1139 DEBUG [2012-06-10 00:33:47,280 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1140 DEBUG [2012-06-10 00:33:47,281 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1141 DEBUG [2012-06-10 00:33:47,282 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1141 DEBUG [2012-06-10 00:33:47,282 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1142 DEBUG [2012-06-10 00:33:47,283 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1143 DEBUG [2012-06-10 00:33:47,284 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1143 DEBUG [2012-06-10 00:33:47,284 main] jodd.db.DbSession#debug:36 - Closing db session
1143 INFO  [2012-06-10 00:33:47,284 main] c.b.r.install.DbInstaller#info:46 - Database created.
1143 INFO  [2012-06-10 00:33:47,284 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1158 DEBUG [2012-06-10 00:33:47,299 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1160 DEBUG [2012-06-10 00:33:47,301 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1176 DEBUG [2012-06-10 00:33:47,317 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1177 DEBUG [2012-06-10 00:33:47,318 main] jodd.db.DbSession#debug:36 - Creating new db session
1178 DEBUG [2012-06-10 00:33:47,319 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1267 DEBUG [2012-06-10 00:33:47,408 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1270 DEBUG [2012-06-10 00:33:47,411 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1271 DEBUG [2012-06-10 00:33:47,412 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1271 DEBUG [2012-06-10 00:33:47,412 main] jodd.db.DbSession#debug:36 - Closing db session
1272 DEBUG [2012-06-10 00:33:47,413 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1272 DEBUG [2012-06-10 00:33:47,413 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1273 DEBUG [2012-06-10 00:33:47,414 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1274 DEBUG [2012-06-10 00:33:47,415 main] jodd.db.DbSession#debug:36 - Creating new db session
1274 DEBUG [2012-06-10 00:33:47,415 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1309 DEBUG [2012-06-10 00:33:47,450 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1310 DEBUG [2012-06-10 00:33:47,451 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1310 DEBUG [2012-06-10 00:33:47,451 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1311 DEBUG [2012-06-10 00:33:47,452 main] jodd.db.DbSession#debug:36 - Closing db session
1311 DEBUG [2012-06-10 00:33:47,452 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1312 DEBUG [2012-06-10 00:33:47,453 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1314 DEBUG [2012-06-10 00:33:47,455 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1314 DEBUG [2012-06-10 00:33:47,455 main] jodd.db.DbSession#debug:36 - Creating new db session
1315 DEBUG [2012-06-10 00:33:47,456 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1465 DEBUG [2012-06-10 00:33:47,606 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1466 DEBUG [2012-06-10 00:33:47,607 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1467 DEBUG [2012-06-10 00:33:47,608 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1467 DEBUG [2012-06-10 00:33:47,608 main] jodd.db.DbSession#debug:36 - Closing db session
1470 DEBUG [2012-06-10 00:33:47,611 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1470 DEBUG [2012-06-10 00:33:47,611 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1472 DEBUG [2012-06-10 00:33:47,613 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1472 DEBUG [2012-06-10 00:33:47,613 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
216 INFO  [2012-06-10 00:34:28,304 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
221 INFO  [2012-06-10 00:34:28,309 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
230 INFO  [2012-06-10 00:34:28,318 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
246 INFO  [2012-06-10 00:34:28,334 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
253 DEBUG [2012-06-10 00:34:28,341 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
254 INFO  [2012-06-10 00:34:28,342 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
317 DEBUG [2012-06-10 00:34:28,405 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
328 DEBUG [2012-06-10 00:34:28,416 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
331 DEBUG [2012-06-10 00:34:28,419 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
332 DEBUG [2012-06-10 00:34:28,420 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
436 DEBUG [2012-06-10 00:34:28,524 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
443 DEBUG [2012-06-10 00:34:28,531 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
448 DEBUG [2012-06-10 00:34:28,536 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
450 DEBUG [2012-06-10 00:34:28,538 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
459 DEBUG [2012-06-10 00:34:28,547 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
460 DEBUG [2012-06-10 00:34:28,548 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
463 DEBUG [2012-06-10 00:34:28,551 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
464 DEBUG [2012-06-10 00:34:28,552 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
465 DEBUG [2012-06-10 00:34:28,553 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
466 DEBUG [2012-06-10 00:34:28,554 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
467 INFO  [2012-06-10 00:34:28,555 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 193 ms. Total beans: 7
554 DEBUG [2012-06-10 00:34:28,642 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
564 DEBUG [2012-06-10 00:34:28,652 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
607 INFO  [2012-06-10 00:34:28,695 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
610 DEBUG [2012-06-10 00:34:28,698 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
611 DEBUG [2012-06-10 00:34:28,699 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
615 INFO  [2012-06-10 00:34:28,703 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1032 DEBUG [2012-06-10 00:34:29,120 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
1033 DEBUG [2012-06-10 00:34:29,121 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1134 INFO  [2012-06-10 00:34:29,222 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 89 ms. Total entities: 9
1140 DEBUG [2012-06-10 00:34:29,228 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1141 DEBUG [2012-06-10 00:34:29,229 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1141 DEBUG [2012-06-10 00:34:29,229 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1142 DEBUG [2012-06-10 00:34:29,230 main] jodd.db.DbSession#debug:36 - Creating new db session
1146 DEBUG [2012-06-10 00:34:29,234 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1148 DEBUG [2012-06-10 00:34:29,236 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1151 DEBUG [2012-06-10 00:34:29,239 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1152 DEBUG [2012-06-10 00:34:29,240 main] jodd.db.DbSession#debug:36 - Closing db session
1152 INFO  [2012-06-10 00:34:29,240 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1153 DEBUG [2012-06-10 00:34:29,241 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1154 DEBUG [2012-06-10 00:34:29,242 main] jodd.db.DbSession#debug:36 - Creating new db session
1155 DEBUG [2012-06-10 00:34:29,243 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1155 DEBUG [2012-06-10 00:34:29,243 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1156 DEBUG [2012-06-10 00:34:29,244 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1156 DEBUG [2012-06-10 00:34:29,244 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1157 DEBUG [2012-06-10 00:34:29,245 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1157 DEBUG [2012-06-10 00:34:29,245 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1158 DEBUG [2012-06-10 00:34:29,246 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1158 DEBUG [2012-06-10 00:34:29,246 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1159 DEBUG [2012-06-10 00:34:29,247 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1159 DEBUG [2012-06-10 00:34:29,247 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1160 DEBUG [2012-06-10 00:34:29,248 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1160 DEBUG [2012-06-10 00:34:29,248 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1161 DEBUG [2012-06-10 00:34:29,249 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1161 DEBUG [2012-06-10 00:34:29,249 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1161 DEBUG [2012-06-10 00:34:29,249 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1161 DEBUG [2012-06-10 00:34:29,249 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1162 DEBUG [2012-06-10 00:34:29,250 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1162 DEBUG [2012-06-10 00:34:29,250 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1162 DEBUG [2012-06-10 00:34:29,250 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1162 DEBUG [2012-06-10 00:34:29,250 main] jodd.db.DbSession#debug:36 - Closing db session
1163 INFO  [2012-06-10 00:34:29,251 main] c.b.r.install.DbInstaller#info:46 - Database reset
1171 INFO  [2012-06-10 00:34:29,259 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1171 DEBUG [2012-06-10 00:34:29,259 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1172 DEBUG [2012-06-10 00:34:29,260 main] jodd.db.DbSession#debug:36 - Creating new db session
1173 DEBUG [2012-06-10 00:34:29,261 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1173 DEBUG [2012-06-10 00:34:29,261 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1174 DEBUG [2012-06-10 00:34:29,262 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1174 DEBUG [2012-06-10 00:34:29,262 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1174 DEBUG [2012-06-10 00:34:29,262 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1174 DEBUG [2012-06-10 00:34:29,262 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1175 DEBUG [2012-06-10 00:34:29,263 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1183 DEBUG [2012-06-10 00:34:29,271 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1184 DEBUG [2012-06-10 00:34:29,272 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1184 DEBUG [2012-06-10 00:34:29,272 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1184 DEBUG [2012-06-10 00:34:29,272 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1184 DEBUG [2012-06-10 00:34:29,272 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1185 DEBUG [2012-06-10 00:34:29,273 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1185 DEBUG [2012-06-10 00:34:29,273 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1185 DEBUG [2012-06-10 00:34:29,273 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1185 DEBUG [2012-06-10 00:34:29,273 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1186 DEBUG [2012-06-10 00:34:29,274 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1186 DEBUG [2012-06-10 00:34:29,274 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR_id INT, serverstatus_id INT ) 
1192 ERROR [2012-06-10 00:34:29,280 main] jodd.joy.core.DefaultAppCore#error:76 - jodd.db.DbSqlException: Unable to execute the query.; <--- org.hsqldb.HsqlException: type not found or user lacks privilege: VARCHAR_ID
jodd.db.DbSqlException: Unable to execute the query.; <--- org.hsqldb.HsqlException: type not found or user lacks privilege: VARCHAR_ID
	at jodd.db.DbQueryBase.executeUpdate(DbQueryBase.java:599) ~[jodd-wot-3.3.3.jar:3.3.3]
	at jodd.db.DbQueryBase.executeUpdate(DbQueryBase.java:563) ~[jodd-wot-3.3.3.jar:3.3.3]
	at com.brazen.releasemanager.install.DbInstaller.executeScriptQueries(DbInstaller.java:94) ~[classes/:na]
	at com.brazen.releasemanager.install.DbInstaller.installDb(DbInstaller.java:48) ~[classes/:na]
	at com.brazen.releasemanager.ReleaseManagerAppInit.init(ReleaseManagerAppInit.java:31) ~[classes/:na]
	at jodd.joy.core.DefaultAppCore.startApp(DefaultAppCore.java:434) ~[jodd-joy-3.3.3.jar:3.3.3]
	at jodd.joy.core.DefaultAppCore.start(DefaultAppCore.java:187) ~[jodd-joy-3.3.3.jar:3.3.3]
	at com.brazen.releasemanager.service.ServerServiceTest.setUpBeforeClass(ServerServiceTest.java:24) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.6.0_23]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.6.0_23]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.6.0_23]
	at java.lang.reflect.Method.invoke(Method.java:616) ~[na:1.6.0_23]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45) [junit-4.10.jar:na]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15) [junit-4.10.jar:na]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42) [junit-4.10.jar:na]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27) [junit-4.10.jar:na]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300) [junit-4.10.jar:na]
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) [.cp/:na]
Caused by: java.sql.SQLSyntaxErrorException: type not found or user lacks privilege: VARCHAR_ID
	at org.hsqldb.jdbc.Util.sqlException(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.jdbc.Util.sqlException(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.jdbc.JDBCStatement.executeUpdate(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at jodd.db.DbQueryBase.executeUpdate(DbQueryBase.java:593) ~[jodd-wot-3.3.3.jar:3.3.3]
	... 22 common frames omitted
Caused by: org.hsqldb.HsqlException: type not found or user lacks privilege: VARCHAR_ID
	at org.hsqldb.error.Error.error(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.error.Error.error(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserDQL.readTypeDefinition(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserDDL.readColumnDefinitionOrNull(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserDDL.compileCreateTableBody(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserDDL.compileCreateTable(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserDDL.compileCreate(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserCommand.compilePart(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.Session.executeDirectStatement(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.Session.execute(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	... 25 common frames omitted
1193 INFO  [2012-06-10 00:34:29,281 main] jodd.joy.core.DefaultAppCore#info:46 - shutting down...
1193 DEBUG [2012-06-10 00:34:29,281 main] c.b.r.ReleaseManagerAppInit#stop:37 - app stop
1193 INFO  [2012-06-10 00:34:29,281 main] jodd.joy.core.DefaultAppCore#info:46 - database shutdown
1194 INFO  [2012-06-10 00:34:29,282 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool shutdown
1194 INFO  [2012-06-10 00:34:29,282 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool shutdown
1194 INFO  [2012-06-10 00:34:29,282 main] jodd.joy.core.DefaultAppCore#info:46 - app stopped
205 INFO  [2012-06-10 00:34:55,106 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
212 INFO  [2012-06-10 00:34:55,113 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
212 INFO  [2012-06-10 00:34:55,113 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
217 INFO  [2012-06-10 00:34:55,118 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
225 DEBUG [2012-06-10 00:34:55,126 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
226 INFO  [2012-06-10 00:34:55,127 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
294 DEBUG [2012-06-10 00:34:55,195 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
304 DEBUG [2012-06-10 00:34:55,205 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
308 DEBUG [2012-06-10 00:34:55,209 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
308 DEBUG [2012-06-10 00:34:55,209 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
412 DEBUG [2012-06-10 00:34:55,313 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
421 DEBUG [2012-06-10 00:34:55,322 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
427 DEBUG [2012-06-10 00:34:55,328 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
430 DEBUG [2012-06-10 00:34:55,331 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
440 DEBUG [2012-06-10 00:34:55,341 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
441 DEBUG [2012-06-10 00:34:55,342 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
445 DEBUG [2012-06-10 00:34:55,346 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
446 DEBUG [2012-06-10 00:34:55,347 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
448 DEBUG [2012-06-10 00:34:55,349 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
449 DEBUG [2012-06-10 00:34:55,350 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
450 INFO  [2012-06-10 00:34:55,351 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 203 ms. Total beans: 7
554 DEBUG [2012-06-10 00:34:55,455 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
556 DEBUG [2012-06-10 00:34:55,457 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
601 INFO  [2012-06-10 00:34:55,502 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
604 DEBUG [2012-06-10 00:34:55,505 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
605 DEBUG [2012-06-10 00:34:55,506 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
611 INFO  [2012-06-10 00:34:55,512 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
962 DEBUG [2012-06-10 00:34:55,863 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
963 DEBUG [2012-06-10 00:34:55,864 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1097 INFO  [2012-06-10 00:34:55,998 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 107 ms. Total entities: 9
1102 DEBUG [2012-06-10 00:34:56,003 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1102 DEBUG [2012-06-10 00:34:56,003 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1102 DEBUG [2012-06-10 00:34:56,003 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1103 DEBUG [2012-06-10 00:34:56,004 main] jodd.db.DbSession#debug:36 - Creating new db session
1106 DEBUG [2012-06-10 00:34:56,007 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1109 DEBUG [2012-06-10 00:34:56,010 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1113 DEBUG [2012-06-10 00:34:56,014 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1114 DEBUG [2012-06-10 00:34:56,015 main] jodd.db.DbSession#debug:36 - Closing db session
1114 INFO  [2012-06-10 00:34:56,015 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1114 DEBUG [2012-06-10 00:34:56,015 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1116 DEBUG [2012-06-10 00:34:56,017 main] jodd.db.DbSession#debug:36 - Creating new db session
1116 DEBUG [2012-06-10 00:34:56,017 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1117 DEBUG [2012-06-10 00:34:56,018 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1117 DEBUG [2012-06-10 00:34:56,018 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1118 DEBUG [2012-06-10 00:34:56,019 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1118 DEBUG [2012-06-10 00:34:56,019 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1119 DEBUG [2012-06-10 00:34:56,020 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1119 DEBUG [2012-06-10 00:34:56,020 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1119 DEBUG [2012-06-10 00:34:56,020 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1120 DEBUG [2012-06-10 00:34:56,021 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1121 DEBUG [2012-06-10 00:34:56,022 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1122 DEBUG [2012-06-10 00:34:56,023 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1123 DEBUG [2012-06-10 00:34:56,024 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1123 DEBUG [2012-06-10 00:34:56,024 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1124 DEBUG [2012-06-10 00:34:56,025 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1124 DEBUG [2012-06-10 00:34:56,025 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1125 DEBUG [2012-06-10 00:34:56,026 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1125 DEBUG [2012-06-10 00:34:56,026 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1126 DEBUG [2012-06-10 00:34:56,027 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1126 DEBUG [2012-06-10 00:34:56,027 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1127 DEBUG [2012-06-10 00:34:56,028 main] jodd.db.DbSession#debug:36 - Closing db session
1127 INFO  [2012-06-10 00:34:56,028 main] c.b.r.install.DbInstaller#info:46 - Database reset
1128 INFO  [2012-06-10 00:34:56,029 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1128 DEBUG [2012-06-10 00:34:56,029 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1133 DEBUG [2012-06-10 00:34:56,034 main] jodd.db.DbSession#debug:36 - Creating new db session
1133 DEBUG [2012-06-10 00:34:56,034 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1134 DEBUG [2012-06-10 00:34:56,035 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1135 DEBUG [2012-06-10 00:34:56,036 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1135 DEBUG [2012-06-10 00:34:56,036 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1136 DEBUG [2012-06-10 00:34:56,037 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1137 DEBUG [2012-06-10 00:34:56,038 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1143 DEBUG [2012-06-10 00:34:56,044 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1144 DEBUG [2012-06-10 00:34:56,045 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1144 DEBUG [2012-06-10 00:34:56,045 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1145 DEBUG [2012-06-10 00:34:56,046 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1146 DEBUG [2012-06-10 00:34:56,047 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1146 DEBUG [2012-06-10 00:34:56,047 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1147 DEBUG [2012-06-10 00:34:56,048 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1147 DEBUG [2012-06-10 00:34:56,048 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1149 DEBUG [2012-06-10 00:34:56,050 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1150 DEBUG [2012-06-10 00:34:56,051 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1150 DEBUG [2012-06-10 00:34:56,051 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1151 DEBUG [2012-06-10 00:34:56,052 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment_id INT, serverstatus_id INT ) 
1152 DEBUG [2012-06-10 00:34:56,053 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1153 DEBUG [2012-06-10 00:34:56,054 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1153 DEBUG [2012-06-10 00:34:56,054 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1153 DEBUG [2012-06-10 00:34:56,054 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1154 DEBUG [2012-06-10 00:34:56,055 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1154 DEBUG [2012-06-10 00:34:56,055 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1155 DEBUG [2012-06-10 00:34:56,056 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1155 DEBUG [2012-06-10 00:34:56,056 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1157 DEBUG [2012-06-10 00:34:56,058 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1157 DEBUG [2012-06-10 00:34:56,058 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1158 DEBUG [2012-06-10 00:34:56,059 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1158 DEBUG [2012-06-10 00:34:56,059 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype_id INT ) 
1159 DEBUG [2012-06-10 00:34:56,060 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1159 DEBUG [2012-06-10 00:34:56,060 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1160 DEBUG [2012-06-10 00:34:56,061 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1160 DEBUG [2012-06-10 00:34:56,061 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server_id INT, build_id INT ) 
1161 DEBUG [2012-06-10 00:34:56,062 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1161 DEBUG [2012-06-10 00:34:56,062 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1162 DEBUG [2012-06-10 00:34:56,063 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1162 DEBUG [2012-06-10 00:34:56,063 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build_id) 
1163 DEBUG [2012-06-10 00:34:56,064 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1163 DEBUG [2012-06-10 00:34:56,064 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1164 DEBUG [2012-06-10 00:34:56,065 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1164 DEBUG [2012-06-10 00:34:56,065 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1165 DEBUG [2012-06-10 00:34:56,066 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1165 DEBUG [2012-06-10 00:34:56,066 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1166 DEBUG [2012-06-10 00:34:56,067 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1166 DEBUG [2012-06-10 00:34:56,067 main] jodd.db.DbSession#debug:36 - Closing db session
1167 INFO  [2012-06-10 00:34:56,068 main] c.b.r.install.DbInstaller#info:46 - Database created.
1167 INFO  [2012-06-10 00:34:56,068 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1178 DEBUG [2012-06-10 00:34:56,079 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1181 DEBUG [2012-06-10 00:34:56,082 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1204 DEBUG [2012-06-10 00:34:56,105 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1204 DEBUG [2012-06-10 00:34:56,105 main] jodd.db.DbSession#debug:36 - Creating new db session
1205 DEBUG [2012-06-10 00:34:56,106 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1321 DEBUG [2012-06-10 00:34:56,222 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1324 DEBUG [2012-06-10 00:34:56,225 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1327 DEBUG [2012-06-10 00:34:56,228 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1327 DEBUG [2012-06-10 00:34:56,228 main] jodd.db.DbSession#debug:36 - Closing db session
1328 DEBUG [2012-06-10 00:34:56,229 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1334 DEBUG [2012-06-10 00:34:56,235 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1335 DEBUG [2012-06-10 00:34:56,236 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1336 DEBUG [2012-06-10 00:34:56,237 main] jodd.db.DbSession#debug:36 - Creating new db session
1336 DEBUG [2012-06-10 00:34:56,237 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1409 DEBUG [2012-06-10 00:34:56,310 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1411 DEBUG [2012-06-10 00:34:56,312 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1411 DEBUG [2012-06-10 00:34:56,312 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1412 DEBUG [2012-06-10 00:34:56,313 main] jodd.db.DbSession#debug:36 - Closing db session
1412 DEBUG [2012-06-10 00:34:56,313 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1413 DEBUG [2012-06-10 00:34:56,314 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1414 DEBUG [2012-06-10 00:34:56,315 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1415 DEBUG [2012-06-10 00:34:56,316 main] jodd.db.DbSession#debug:36 - Creating new db session
1416 DEBUG [2012-06-10 00:34:56,317 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1418 DEBUG [2012-06-10 00:34:56,319 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1419 DEBUG [2012-06-10 00:34:56,320 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1419 DEBUG [2012-06-10 00:34:56,320 main] jodd.db.DbSession#debug:36 - Closing db session
191 INFO  [2012-06-10 00:36:18,131 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
197 INFO  [2012-06-10 00:36:18,137 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
198 INFO  [2012-06-10 00:36:18,138 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
203 INFO  [2012-06-10 00:36:18,143 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
210 DEBUG [2012-06-10 00:36:18,150 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
210 INFO  [2012-06-10 00:36:18,150 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
274 DEBUG [2012-06-10 00:36:18,214 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
286 DEBUG [2012-06-10 00:36:18,226 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
289 DEBUG [2012-06-10 00:36:18,229 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
290 DEBUG [2012-06-10 00:36:18,230 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
404 DEBUG [2012-06-10 00:36:18,344 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
412 DEBUG [2012-06-10 00:36:18,352 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
418 DEBUG [2012-06-10 00:36:18,358 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
423 DEBUG [2012-06-10 00:36:18,363 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
427 DEBUG [2012-06-10 00:36:18,367 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
428 DEBUG [2012-06-10 00:36:18,368 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
432 DEBUG [2012-06-10 00:36:18,372 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
433 DEBUG [2012-06-10 00:36:18,373 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
435 DEBUG [2012-06-10 00:36:18,375 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
436 DEBUG [2012-06-10 00:36:18,376 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
437 INFO  [2012-06-10 00:36:18,377 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 207 ms. Total beans: 7
521 DEBUG [2012-06-10 00:36:18,461 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
523 DEBUG [2012-06-10 00:36:18,463 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
599 INFO  [2012-06-10 00:36:18,539 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
602 DEBUG [2012-06-10 00:36:18,542 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
603 DEBUG [2012-06-10 00:36:18,543 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
608 INFO  [2012-06-10 00:36:18,548 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
972 DEBUG [2012-06-10 00:36:18,912 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
973 DEBUG [2012-06-10 00:36:18,913 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1080 INFO  [2012-06-10 00:36:19,020 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 95 ms. Total entities: 9
1084 DEBUG [2012-06-10 00:36:19,024 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1085 DEBUG [2012-06-10 00:36:19,025 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1085 DEBUG [2012-06-10 00:36:19,025 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1086 DEBUG [2012-06-10 00:36:19,026 main] jodd.db.DbSession#debug:36 - Creating new db session
1089 DEBUG [2012-06-10 00:36:19,029 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1091 DEBUG [2012-06-10 00:36:19,031 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1094 DEBUG [2012-06-10 00:36:19,034 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1095 DEBUG [2012-06-10 00:36:19,035 main] jodd.db.DbSession#debug:36 - Closing db session
1095 INFO  [2012-06-10 00:36:19,035 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1095 DEBUG [2012-06-10 00:36:19,035 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1097 DEBUG [2012-06-10 00:36:19,037 main] jodd.db.DbSession#debug:36 - Creating new db session
1097 DEBUG [2012-06-10 00:36:19,037 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1098 DEBUG [2012-06-10 00:36:19,038 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1099 DEBUG [2012-06-10 00:36:19,039 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1099 DEBUG [2012-06-10 00:36:19,039 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1100 DEBUG [2012-06-10 00:36:19,040 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1101 DEBUG [2012-06-10 00:36:19,041 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1102 DEBUG [2012-06-10 00:36:19,042 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1102 DEBUG [2012-06-10 00:36:19,042 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1103 DEBUG [2012-06-10 00:36:19,043 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1103 DEBUG [2012-06-10 00:36:19,043 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1104 DEBUG [2012-06-10 00:36:19,044 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1104 DEBUG [2012-06-10 00:36:19,044 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1105 DEBUG [2012-06-10 00:36:19,045 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1105 DEBUG [2012-06-10 00:36:19,045 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1106 DEBUG [2012-06-10 00:36:19,046 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1106 DEBUG [2012-06-10 00:36:19,046 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1107 DEBUG [2012-06-10 00:36:19,047 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1108 DEBUG [2012-06-10 00:36:19,048 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1109 DEBUG [2012-06-10 00:36:19,049 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1109 DEBUG [2012-06-10 00:36:19,049 main] jodd.db.DbSession#debug:36 - Closing db session
1110 INFO  [2012-06-10 00:36:19,050 main] c.b.r.install.DbInstaller#info:46 - Database reset
1110 INFO  [2012-06-10 00:36:19,050 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1111 DEBUG [2012-06-10 00:36:19,051 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1112 DEBUG [2012-06-10 00:36:19,052 main] jodd.db.DbSession#debug:36 - Creating new db session
1112 DEBUG [2012-06-10 00:36:19,052 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1113 DEBUG [2012-06-10 00:36:19,053 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1114 DEBUG [2012-06-10 00:36:19,054 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1114 DEBUG [2012-06-10 00:36:19,054 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1115 DEBUG [2012-06-10 00:36:19,055 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1115 DEBUG [2012-06-10 00:36:19,055 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product_id INT NOT NULL ) 
1116 DEBUG [2012-06-10 00:36:19,056 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1117 DEBUG [2012-06-10 00:36:19,057 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1117 DEBUG [2012-06-10 00:36:19,057 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1118 DEBUG [2012-06-10 00:36:19,058 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1118 DEBUG [2012-06-10 00:36:19,058 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1119 DEBUG [2012-06-10 00:36:19,059 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product_id) 
1119 DEBUG [2012-06-10 00:36:19,059 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1119 DEBUG [2012-06-10 00:36:19,059 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1120 DEBUG [2012-06-10 00:36:19,060 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1121 DEBUG [2012-06-10 00:36:19,061 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1121 DEBUG [2012-06-10 00:36:19,061 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1122 DEBUG [2012-06-10 00:36:19,062 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1123 DEBUG [2012-06-10 00:36:19,063 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1123 DEBUG [2012-06-10 00:36:19,063 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1124 DEBUG [2012-06-10 00:36:19,064 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1125 DEBUG [2012-06-10 00:36:19,065 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1126 DEBUG [2012-06-10 00:36:19,066 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1126 DEBUG [2012-06-10 00:36:19,066 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1127 DEBUG [2012-06-10 00:36:19,067 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1128 DEBUG [2012-06-10 00:36:19,068 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1128 DEBUG [2012-06-10 00:36:19,068 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1129 DEBUG [2012-06-10 00:36:19,069 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1129 DEBUG [2012-06-10 00:36:19,069 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1130 DEBUG [2012-06-10 00:36:19,070 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype INT ) 
1131 DEBUG [2012-06-10 00:36:19,071 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1133 DEBUG [2012-06-10 00:36:19,073 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1134 DEBUG [2012-06-10 00:36:19,074 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1135 DEBUG [2012-06-10 00:36:19,075 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1135 DEBUG [2012-06-10 00:36:19,075 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1136 DEBUG [2012-06-10 00:36:19,076 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server_id) 
1143 ERROR [2012-06-10 00:36:19,083 main] jodd.joy.core.DefaultAppCore#error:76 - jodd.db.DbSqlException: Unable to execute the query.; <--- org.hsqldb.HsqlException: user lacks privilege or object not found: SERVER_ID
jodd.db.DbSqlException: Unable to execute the query.; <--- org.hsqldb.HsqlException: user lacks privilege or object not found: SERVER_ID
	at jodd.db.DbQueryBase.executeUpdate(DbQueryBase.java:599) ~[jodd-wot-3.3.3.jar:3.3.3]
	at jodd.db.DbQueryBase.executeUpdate(DbQueryBase.java:563) ~[jodd-wot-3.3.3.jar:3.3.3]
	at com.brazen.releasemanager.install.DbInstaller.executeScriptQueries(DbInstaller.java:94) ~[classes/:na]
	at com.brazen.releasemanager.install.DbInstaller.installDb(DbInstaller.java:48) ~[classes/:na]
	at com.brazen.releasemanager.ReleaseManagerAppInit.init(ReleaseManagerAppInit.java:31) ~[classes/:na]
	at jodd.joy.core.DefaultAppCore.startApp(DefaultAppCore.java:434) ~[jodd-joy-3.3.3.jar:3.3.3]
	at jodd.joy.core.DefaultAppCore.start(DefaultAppCore.java:187) ~[jodd-joy-3.3.3.jar:3.3.3]
	at com.brazen.releasemanager.service.ServerServiceTest.setUpBeforeClass(ServerServiceTest.java:24) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.6.0_23]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.6.0_23]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.6.0_23]
	at java.lang.reflect.Method.invoke(Method.java:616) ~[na:1.6.0_23]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45) [junit-4.10.jar:na]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15) [junit-4.10.jar:na]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42) [junit-4.10.jar:na]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27) [junit-4.10.jar:na]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300) [junit-4.10.jar:na]
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) [.cp/:na]
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: SERVER_ID
	at org.hsqldb.jdbc.Util.sqlException(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.jdbc.Util.sqlException(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.jdbc.JDBCStatement.executeUpdate(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at jodd.db.DbQueryBase.executeUpdate(DbQueryBase.java:593) ~[jodd-wot-3.3.3.jar:3.3.3]
	... 22 common frames omitted
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: SERVER_ID
	at org.hsqldb.error.Error.error(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.error.Error.error(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.Table.getColumnIndex(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.Table.getColumnIndexes(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserDQL.readColumnList(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserDDL.compileCreateIndex(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserDDL.compileCreate(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserCommand.compilePart(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.Session.executeDirectStatement(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	at org.hsqldb.Session.execute(Unknown Source) ~[hsqldb-2.2.8.jar:2.2.8]
	... 25 common frames omitted
1143 INFO  [2012-06-10 00:36:19,083 main] jodd.joy.core.DefaultAppCore#info:46 - shutting down...
1144 DEBUG [2012-06-10 00:36:19,084 main] c.b.r.ReleaseManagerAppInit#stop:37 - app stop
1144 INFO  [2012-06-10 00:36:19,084 main] jodd.joy.core.DefaultAppCore#info:46 - database shutdown
1145 INFO  [2012-06-10 00:36:19,085 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool shutdown
1145 INFO  [2012-06-10 00:36:19,085 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool shutdown
1146 INFO  [2012-06-10 00:36:19,086 main] jodd.joy.core.DefaultAppCore#info:46 - app stopped
210 INFO  [2012-06-10 00:37:21,859 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:37:21,867 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:37:21,867 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
223 INFO  [2012-06-10 00:37:21,872 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
231 DEBUG [2012-06-10 00:37:21,880 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
231 INFO  [2012-06-10 00:37:21,880 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
295 DEBUG [2012-06-10 00:37:21,944 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
306 DEBUG [2012-06-10 00:37:21,955 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
309 DEBUG [2012-06-10 00:37:21,958 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
310 DEBUG [2012-06-10 00:37:21,959 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
403 DEBUG [2012-06-10 00:37:22,052 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
410 DEBUG [2012-06-10 00:37:22,059 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
413 DEBUG [2012-06-10 00:37:22,062 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
416 DEBUG [2012-06-10 00:37:22,065 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
419 DEBUG [2012-06-10 00:37:22,068 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
420 DEBUG [2012-06-10 00:37:22,069 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
422 DEBUG [2012-06-10 00:37:22,071 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
423 DEBUG [2012-06-10 00:37:22,072 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
425 DEBUG [2012-06-10 00:37:22,074 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
425 DEBUG [2012-06-10 00:37:22,074 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
426 INFO  [2012-06-10 00:37:22,075 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 173 ms. Total beans: 7
502 DEBUG [2012-06-10 00:37:22,151 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
514 DEBUG [2012-06-10 00:37:22,163 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
561 INFO  [2012-06-10 00:37:22,210 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
564 DEBUG [2012-06-10 00:37:22,213 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
565 DEBUG [2012-06-10 00:37:22,214 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
571 INFO  [2012-06-10 00:37:22,220 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
938 DEBUG [2012-06-10 00:37:22,587 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
939 DEBUG [2012-06-10 00:37:22,588 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1042 INFO  [2012-06-10 00:37:22,691 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 89 ms. Total entities: 9
1048 DEBUG [2012-06-10 00:37:22,697 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1054 DEBUG [2012-06-10 00:37:22,703 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1055 DEBUG [2012-06-10 00:37:22,704 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1055 DEBUG [2012-06-10 00:37:22,704 main] jodd.db.DbSession#debug:36 - Creating new db session
1059 DEBUG [2012-06-10 00:37:22,708 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1061 DEBUG [2012-06-10 00:37:22,710 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1073 DEBUG [2012-06-10 00:37:22,722 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1074 DEBUG [2012-06-10 00:37:22,723 main] jodd.db.DbSession#debug:36 - Closing db session
1074 INFO  [2012-06-10 00:37:22,723 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1074 DEBUG [2012-06-10 00:37:22,723 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1076 DEBUG [2012-06-10 00:37:22,725 main] jodd.db.DbSession#debug:36 - Creating new db session
1076 DEBUG [2012-06-10 00:37:22,725 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1077 DEBUG [2012-06-10 00:37:22,726 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1077 DEBUG [2012-06-10 00:37:22,726 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1078 DEBUG [2012-06-10 00:37:22,727 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1078 DEBUG [2012-06-10 00:37:22,727 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1078 DEBUG [2012-06-10 00:37:22,727 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1079 DEBUG [2012-06-10 00:37:22,728 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1079 DEBUG [2012-06-10 00:37:22,728 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1080 DEBUG [2012-06-10 00:37:22,729 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1080 DEBUG [2012-06-10 00:37:22,729 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1080 DEBUG [2012-06-10 00:37:22,729 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1081 DEBUG [2012-06-10 00:37:22,730 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1081 DEBUG [2012-06-10 00:37:22,730 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1081 DEBUG [2012-06-10 00:37:22,730 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1082 DEBUG [2012-06-10 00:37:22,731 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1082 DEBUG [2012-06-10 00:37:22,731 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1083 DEBUG [2012-06-10 00:37:22,732 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1083 DEBUG [2012-06-10 00:37:22,732 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1083 DEBUG [2012-06-10 00:37:22,732 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1084 DEBUG [2012-06-10 00:37:22,733 main] jodd.db.DbSession#debug:36 - Closing db session
1084 INFO  [2012-06-10 00:37:22,733 main] c.b.r.install.DbInstaller#info:46 - Database reset
1084 INFO  [2012-06-10 00:37:22,733 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1084 DEBUG [2012-06-10 00:37:22,733 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1086 DEBUG [2012-06-10 00:37:22,735 main] jodd.db.DbSession#debug:36 - Creating new db session
1086 DEBUG [2012-06-10 00:37:22,735 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1086 DEBUG [2012-06-10 00:37:22,735 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1087 DEBUG [2012-06-10 00:37:22,736 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1087 DEBUG [2012-06-10 00:37:22,736 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1088 DEBUG [2012-06-10 00:37:22,737 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1088 DEBUG [2012-06-10 00:37:22,737 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1089 DEBUG [2012-06-10 00:37:22,738 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1089 DEBUG [2012-06-10 00:37:22,738 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1090 DEBUG [2012-06-10 00:37:22,739 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1090 DEBUG [2012-06-10 00:37:22,739 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1090 DEBUG [2012-06-10 00:37:22,739 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1091 DEBUG [2012-06-10 00:37:22,740 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1091 DEBUG [2012-06-10 00:37:22,740 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1091 DEBUG [2012-06-10 00:37:22,740 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1092 DEBUG [2012-06-10 00:37:22,741 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1092 DEBUG [2012-06-10 00:37:22,741 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1092 DEBUG [2012-06-10 00:37:22,741 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1092 DEBUG [2012-06-10 00:37:22,741 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1093 DEBUG [2012-06-10 00:37:22,742 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1094 DEBUG [2012-06-10 00:37:22,743 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1094 DEBUG [2012-06-10 00:37:22,743 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1095 DEBUG [2012-06-10 00:37:22,744 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1095 DEBUG [2012-06-10 00:37:22,744 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1095 DEBUG [2012-06-10 00:37:22,744 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1096 DEBUG [2012-06-10 00:37:22,745 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1097 DEBUG [2012-06-10 00:37:22,746 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1098 DEBUG [2012-06-10 00:37:22,747 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1099 DEBUG [2012-06-10 00:37:22,748 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1100 DEBUG [2012-06-10 00:37:22,749 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1100 DEBUG [2012-06-10 00:37:22,749 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype INT ) 
1101 DEBUG [2012-06-10 00:37:22,750 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1101 DEBUG [2012-06-10 00:37:22,750 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1102 DEBUG [2012-06-10 00:37:22,751 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1102 DEBUG [2012-06-10 00:37:22,751 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1103 DEBUG [2012-06-10 00:37:22,752 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1104 DEBUG [2012-06-10 00:37:22,753 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1104 DEBUG [2012-06-10 00:37:22,753 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1105 DEBUG [2012-06-10 00:37:22,754 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1105 DEBUG [2012-06-10 00:37:22,754 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1106 DEBUG [2012-06-10 00:37:22,755 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1107 DEBUG [2012-06-10 00:37:22,756 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1107 DEBUG [2012-06-10 00:37:22,756 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1108 DEBUG [2012-06-10 00:37:22,757 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1108 DEBUG [2012-06-10 00:37:22,757 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1109 DEBUG [2012-06-10 00:37:22,758 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1110 DEBUG [2012-06-10 00:37:22,759 main] jodd.db.DbSession#debug:36 - Closing db session
1110 INFO  [2012-06-10 00:37:22,759 main] c.b.r.install.DbInstaller#info:46 - Database created.
1111 INFO  [2012-06-10 00:37:22,760 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1128 DEBUG [2012-06-10 00:37:22,777 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1132 DEBUG [2012-06-10 00:37:22,781 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1153 DEBUG [2012-06-10 00:37:22,802 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1154 DEBUG [2012-06-10 00:37:22,803 main] jodd.db.DbSession#debug:36 - Creating new db session
1155 DEBUG [2012-06-10 00:37:22,804 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1246 DEBUG [2012-06-10 00:37:22,895 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1249 DEBUG [2012-06-10 00:37:22,898 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1250 DEBUG [2012-06-10 00:37:22,899 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1250 DEBUG [2012-06-10 00:37:22,899 main] jodd.db.DbSession#debug:36 - Closing db session
1251 DEBUG [2012-06-10 00:37:22,900 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1251 DEBUG [2012-06-10 00:37:22,900 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1252 DEBUG [2012-06-10 00:37:22,901 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1253 DEBUG [2012-06-10 00:37:22,902 main] jodd.db.DbSession#debug:36 - Creating new db session
1253 DEBUG [2012-06-10 00:37:22,902 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1286 DEBUG [2012-06-10 00:37:22,935 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME) values ('test')
1287 DEBUG [2012-06-10 00:37:22,936 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1287 DEBUG [2012-06-10 00:37:22,936 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1288 DEBUG [2012-06-10 00:37:22,937 main] jodd.db.DbSession#debug:36 - Closing db session
1291 DEBUG [2012-06-10 00:37:22,940 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1291 DEBUG [2012-06-10 00:37:22,940 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1292 DEBUG [2012-06-10 00:37:22,941 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1293 DEBUG [2012-06-10 00:37:22,942 main] jodd.db.DbSession#debug:36 - Creating new db session
1293 DEBUG [2012-06-10 00:37:22,942 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1395 DEBUG [2012-06-10 00:37:23,044 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1396 DEBUG [2012-06-10 00:37:23,045 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1396 DEBUG [2012-06-10 00:37:23,045 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1396 DEBUG [2012-06-10 00:37:23,045 main] jodd.db.DbSession#debug:36 - Closing db session
1399 DEBUG [2012-06-10 00:37:23,048 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1400 DEBUG [2012-06-10 00:37:23,049 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1401 DEBUG [2012-06-10 00:37:23,050 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1402 DEBUG [2012-06-10 00:37:23,051 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
206 INFO  [2012-06-10 00:40:02,911 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
213 INFO  [2012-06-10 00:40:02,918 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
214 INFO  [2012-06-10 00:40:02,919 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
219 INFO  [2012-06-10 00:40:02,924 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
226 DEBUG [2012-06-10 00:40:02,931 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
226 INFO  [2012-06-10 00:40:02,931 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
292 DEBUG [2012-06-10 00:40:02,997 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
302 DEBUG [2012-06-10 00:40:03,007 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
306 DEBUG [2012-06-10 00:40:03,011 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
306 DEBUG [2012-06-10 00:40:03,011 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
414 DEBUG [2012-06-10 00:40:03,119 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
424 DEBUG [2012-06-10 00:40:03,129 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
436 DEBUG [2012-06-10 00:40:03,141 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
440 DEBUG [2012-06-10 00:40:03,145 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
450 DEBUG [2012-06-10 00:40:03,155 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
451 DEBUG [2012-06-10 00:40:03,156 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
454 DEBUG [2012-06-10 00:40:03,159 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
455 DEBUG [2012-06-10 00:40:03,160 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
457 DEBUG [2012-06-10 00:40:03,162 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
458 DEBUG [2012-06-10 00:40:03,163 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
459 INFO  [2012-06-10 00:40:03,164 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 211 ms. Total beans: 7
558 DEBUG [2012-06-10 00:40:03,263 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
559 DEBUG [2012-06-10 00:40:03,264 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
616 INFO  [2012-06-10 00:40:03,321 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
618 DEBUG [2012-06-10 00:40:03,323 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
619 DEBUG [2012-06-10 00:40:03,324 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
624 INFO  [2012-06-10 00:40:03,329 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
934 DEBUG [2012-06-10 00:40:03,639 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
935 DEBUG [2012-06-10 00:40:03,640 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1038 INFO  [2012-06-10 00:40:03,743 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 91 ms. Total entities: 9
1043 DEBUG [2012-06-10 00:40:03,748 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1044 DEBUG [2012-06-10 00:40:03,749 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1044 DEBUG [2012-06-10 00:40:03,749 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1044 DEBUG [2012-06-10 00:40:03,749 main] jodd.db.DbSession#debug:36 - Creating new db session
1048 DEBUG [2012-06-10 00:40:03,753 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1050 DEBUG [2012-06-10 00:40:03,755 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1053 DEBUG [2012-06-10 00:40:03,758 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1054 DEBUG [2012-06-10 00:40:03,759 main] jodd.db.DbSession#debug:36 - Closing db session
1054 INFO  [2012-06-10 00:40:03,759 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1054 DEBUG [2012-06-10 00:40:03,759 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1056 DEBUG [2012-06-10 00:40:03,761 main] jodd.db.DbSession#debug:36 - Creating new db session
1056 DEBUG [2012-06-10 00:40:03,761 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1057 DEBUG [2012-06-10 00:40:03,762 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1057 DEBUG [2012-06-10 00:40:03,762 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1058 DEBUG [2012-06-10 00:40:03,763 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1058 DEBUG [2012-06-10 00:40:03,763 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1058 DEBUG [2012-06-10 00:40:03,763 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1059 DEBUG [2012-06-10 00:40:03,764 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1059 DEBUG [2012-06-10 00:40:03,764 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1060 DEBUG [2012-06-10 00:40:03,765 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1060 DEBUG [2012-06-10 00:40:03,765 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1060 DEBUG [2012-06-10 00:40:03,765 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1061 DEBUG [2012-06-10 00:40:03,766 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1061 DEBUG [2012-06-10 00:40:03,766 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1061 DEBUG [2012-06-10 00:40:03,766 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1062 DEBUG [2012-06-10 00:40:03,767 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1062 DEBUG [2012-06-10 00:40:03,767 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1063 DEBUG [2012-06-10 00:40:03,768 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1063 DEBUG [2012-06-10 00:40:03,768 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1063 DEBUG [2012-06-10 00:40:03,768 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1064 DEBUG [2012-06-10 00:40:03,769 main] jodd.db.DbSession#debug:36 - Closing db session
1064 INFO  [2012-06-10 00:40:03,769 main] c.b.r.install.DbInstaller#info:46 - Database reset
1064 INFO  [2012-06-10 00:40:03,769 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1065 DEBUG [2012-06-10 00:40:03,770 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1066 DEBUG [2012-06-10 00:40:03,771 main] jodd.db.DbSession#debug:36 - Creating new db session
1067 DEBUG [2012-06-10 00:40:03,772 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1067 DEBUG [2012-06-10 00:40:03,772 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1068 DEBUG [2012-06-10 00:40:03,773 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1068 DEBUG [2012-06-10 00:40:03,773 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1069 DEBUG [2012-06-10 00:40:03,774 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1069 DEBUG [2012-06-10 00:40:03,774 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1070 DEBUG [2012-06-10 00:40:03,775 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1071 DEBUG [2012-06-10 00:40:03,776 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1071 DEBUG [2012-06-10 00:40:03,776 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1071 DEBUG [2012-06-10 00:40:03,776 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1072 DEBUG [2012-06-10 00:40:03,777 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1072 DEBUG [2012-06-10 00:40:03,777 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1073 DEBUG [2012-06-10 00:40:03,778 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1073 DEBUG [2012-06-10 00:40:03,778 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1073 DEBUG [2012-06-10 00:40:03,778 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1074 DEBUG [2012-06-10 00:40:03,779 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1074 DEBUG [2012-06-10 00:40:03,779 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1075 DEBUG [2012-06-10 00:40:03,780 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1075 DEBUG [2012-06-10 00:40:03,780 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1076 DEBUG [2012-06-10 00:40:03,781 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1076 DEBUG [2012-06-10 00:40:03,781 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1077 DEBUG [2012-06-10 00:40:03,782 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1077 DEBUG [2012-06-10 00:40:03,782 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1077 DEBUG [2012-06-10 00:40:03,782 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1078 DEBUG [2012-06-10 00:40:03,783 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1078 DEBUG [2012-06-10 00:40:03,783 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1080 DEBUG [2012-06-10 00:40:03,785 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1081 DEBUG [2012-06-10 00:40:03,786 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1081 DEBUG [2012-06-10 00:40:03,786 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1081 DEBUG [2012-06-10 00:40:03,786 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environmenttype INT ) 
1082 DEBUG [2012-06-10 00:40:03,787 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1082 DEBUG [2012-06-10 00:40:03,787 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1083 DEBUG [2012-06-10 00:40:03,788 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1083 DEBUG [2012-06-10 00:40:03,788 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1084 DEBUG [2012-06-10 00:40:03,789 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1084 DEBUG [2012-06-10 00:40:03,789 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1085 DEBUG [2012-06-10 00:40:03,790 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1085 DEBUG [2012-06-10 00:40:03,790 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1086 DEBUG [2012-06-10 00:40:03,791 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1086 DEBUG [2012-06-10 00:40:03,791 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1087 DEBUG [2012-06-10 00:40:03,792 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1087 DEBUG [2012-06-10 00:40:03,792 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1088 DEBUG [2012-06-10 00:40:03,793 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1088 DEBUG [2012-06-10 00:40:03,793 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1089 DEBUG [2012-06-10 00:40:03,794 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1089 DEBUG [2012-06-10 00:40:03,794 main] jodd.db.DbSession#debug:36 - Closing db session
1090 INFO  [2012-06-10 00:40:03,795 main] c.b.r.install.DbInstaller#info:46 - Database created.
1090 INFO  [2012-06-10 00:40:03,795 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1101 DEBUG [2012-06-10 00:40:03,806 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1106 DEBUG [2012-06-10 00:40:03,811 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1122 DEBUG [2012-06-10 00:40:03,827 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1123 DEBUG [2012-06-10 00:40:03,828 main] jodd.db.DbSession#debug:36 - Creating new db session
1124 DEBUG [2012-06-10 00:40:03,829 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1215 DEBUG [2012-06-10 00:40:03,920 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1218 DEBUG [2012-06-10 00:40:03,923 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1218 DEBUG [2012-06-10 00:40:03,923 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1218 DEBUG [2012-06-10 00:40:03,923 main] jodd.db.DbSession#debug:36 - Closing db session
1219 DEBUG [2012-06-10 00:40:03,924 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1219 DEBUG [2012-06-10 00:40:03,924 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1220 DEBUG [2012-06-10 00:40:03,925 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1221 DEBUG [2012-06-10 00:40:03,926 main] jodd.db.DbSession#debug:36 - Creating new db session
1221 DEBUG [2012-06-10 00:40:03,926 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1223 DEBUG [2012-06-10 00:40:03,928 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1223 DEBUG [2012-06-10 00:40:03,928 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1224 DEBUG [2012-06-10 00:40:03,929 main] jodd.db.DbSession#debug:36 - Closing db session
207 INFO  [2012-06-10 00:40:19,568 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
215 INFO  [2012-06-10 00:40:19,576 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
215 INFO  [2012-06-10 00:40:19,576 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
220 INFO  [2012-06-10 00:40:19,581 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
227 DEBUG [2012-06-10 00:40:19,588 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
228 INFO  [2012-06-10 00:40:19,589 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
288 DEBUG [2012-06-10 00:40:19,649 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
298 DEBUG [2012-06-10 00:40:19,659 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
302 DEBUG [2012-06-10 00:40:19,663 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
303 DEBUG [2012-06-10 00:40:19,664 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
405 DEBUG [2012-06-10 00:40:19,766 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
413 DEBUG [2012-06-10 00:40:19,774 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
423 DEBUG [2012-06-10 00:40:19,784 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
426 DEBUG [2012-06-10 00:40:19,787 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
432 DEBUG [2012-06-10 00:40:19,793 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
433 DEBUG [2012-06-10 00:40:19,794 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
436 DEBUG [2012-06-10 00:40:19,797 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
437 DEBUG [2012-06-10 00:40:19,798 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
443 DEBUG [2012-06-10 00:40:19,804 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
445 DEBUG [2012-06-10 00:40:19,806 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
446 INFO  [2012-06-10 00:40:19,807 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 199 ms. Total beans: 7
544 DEBUG [2012-06-10 00:40:19,905 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
545 DEBUG [2012-06-10 00:40:19,906 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
596 INFO  [2012-06-10 00:40:19,957 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
598 DEBUG [2012-06-10 00:40:19,959 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
599 DEBUG [2012-06-10 00:40:19,960 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
604 INFO  [2012-06-10 00:40:19,965 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
990 DEBUG [2012-06-10 00:40:20,351 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
992 DEBUG [2012-06-10 00:40:20,353 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1164 INFO  [2012-06-10 00:40:20,525 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 137 ms. Total entities: 9
1171 DEBUG [2012-06-10 00:40:20,532 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1171 DEBUG [2012-06-10 00:40:20,532 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1172 DEBUG [2012-06-10 00:40:20,533 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1173 DEBUG [2012-06-10 00:40:20,534 main] jodd.db.DbSession#debug:36 - Creating new db session
1177 DEBUG [2012-06-10 00:40:20,538 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1180 DEBUG [2012-06-10 00:40:20,541 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1184 DEBUG [2012-06-10 00:40:20,545 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1185 DEBUG [2012-06-10 00:40:20,546 main] jodd.db.DbSession#debug:36 - Closing db session
1190 INFO  [2012-06-10 00:40:20,551 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1191 DEBUG [2012-06-10 00:40:20,552 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1192 DEBUG [2012-06-10 00:40:20,553 main] jodd.db.DbSession#debug:36 - Creating new db session
1193 DEBUG [2012-06-10 00:40:20,554 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1194 DEBUG [2012-06-10 00:40:20,555 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1195 DEBUG [2012-06-10 00:40:20,556 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1195 DEBUG [2012-06-10 00:40:20,556 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1196 DEBUG [2012-06-10 00:40:20,557 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1198 DEBUG [2012-06-10 00:40:20,559 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1199 DEBUG [2012-06-10 00:40:20,560 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1199 DEBUG [2012-06-10 00:40:20,560 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1200 DEBUG [2012-06-10 00:40:20,561 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1200 DEBUG [2012-06-10 00:40:20,561 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1201 DEBUG [2012-06-10 00:40:20,562 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1201 DEBUG [2012-06-10 00:40:20,562 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1202 DEBUG [2012-06-10 00:40:20,563 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1202 DEBUG [2012-06-10 00:40:20,563 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1203 DEBUG [2012-06-10 00:40:20,564 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1203 DEBUG [2012-06-10 00:40:20,564 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1204 DEBUG [2012-06-10 00:40:20,565 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1204 DEBUG [2012-06-10 00:40:20,565 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1205 DEBUG [2012-06-10 00:40:20,566 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1205 DEBUG [2012-06-10 00:40:20,566 main] jodd.db.DbSession#debug:36 - Closing db session
1206 INFO  [2012-06-10 00:40:20,567 main] c.b.r.install.DbInstaller#info:46 - Database reset
1206 INFO  [2012-06-10 00:40:20,567 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1207 DEBUG [2012-06-10 00:40:20,568 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1211 DEBUG [2012-06-10 00:40:20,572 main] jodd.db.DbSession#debug:36 - Creating new db session
1212 DEBUG [2012-06-10 00:40:20,573 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1212 DEBUG [2012-06-10 00:40:20,573 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1214 DEBUG [2012-06-10 00:40:20,575 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1215 DEBUG [2012-06-10 00:40:20,576 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1217 DEBUG [2012-06-10 00:40:20,578 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1217 DEBUG [2012-06-10 00:40:20,578 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1218 DEBUG [2012-06-10 00:40:20,579 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1219 DEBUG [2012-06-10 00:40:20,580 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1219 DEBUG [2012-06-10 00:40:20,580 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1219 DEBUG [2012-06-10 00:40:20,580 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1220 DEBUG [2012-06-10 00:40:20,581 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1220 DEBUG [2012-06-10 00:40:20,581 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1225 DEBUG [2012-06-10 00:40:20,586 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1225 DEBUG [2012-06-10 00:40:20,586 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1226 DEBUG [2012-06-10 00:40:20,587 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1226 DEBUG [2012-06-10 00:40:20,587 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1227 DEBUG [2012-06-10 00:40:20,588 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1228 DEBUG [2012-06-10 00:40:20,589 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1229 DEBUG [2012-06-10 00:40:20,590 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1229 DEBUG [2012-06-10 00:40:20,590 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1230 DEBUG [2012-06-10 00:40:20,591 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1230 DEBUG [2012-06-10 00:40:20,591 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1231 DEBUG [2012-06-10 00:40:20,592 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1232 DEBUG [2012-06-10 00:40:20,593 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1233 DEBUG [2012-06-10 00:40:20,594 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1233 DEBUG [2012-06-10 00:40:20,594 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1235 DEBUG [2012-06-10 00:40:20,596 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1236 DEBUG [2012-06-10 00:40:20,597 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1237 DEBUG [2012-06-10 00:40:20,598 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1237 DEBUG [2012-06-10 00:40:20,598 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1238 DEBUG [2012-06-10 00:40:20,599 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1238 DEBUG [2012-06-10 00:40:20,599 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1239 DEBUG [2012-06-10 00:40:20,600 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1239 DEBUG [2012-06-10 00:40:20,600 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1240 DEBUG [2012-06-10 00:40:20,601 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1241 DEBUG [2012-06-10 00:40:20,602 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1241 DEBUG [2012-06-10 00:40:20,602 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1242 DEBUG [2012-06-10 00:40:20,603 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1242 DEBUG [2012-06-10 00:40:20,603 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1244 DEBUG [2012-06-10 00:40:20,605 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1245 DEBUG [2012-06-10 00:40:20,606 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1245 DEBUG [2012-06-10 00:40:20,606 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1246 DEBUG [2012-06-10 00:40:20,607 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1246 DEBUG [2012-06-10 00:40:20,607 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1247 DEBUG [2012-06-10 00:40:20,608 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1248 DEBUG [2012-06-10 00:40:20,609 main] jodd.db.DbSession#debug:36 - Closing db session
1248 INFO  [2012-06-10 00:40:20,609 main] c.b.r.install.DbInstaller#info:46 - Database created.
1249 INFO  [2012-06-10 00:40:20,610 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1279 DEBUG [2012-06-10 00:40:20,640 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1281 DEBUG [2012-06-10 00:40:20,642 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1299 DEBUG [2012-06-10 00:40:20,660 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1300 DEBUG [2012-06-10 00:40:20,661 main] jodd.db.DbSession#debug:36 - Creating new db session
1301 DEBUG [2012-06-10 00:40:20,662 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1395 DEBUG [2012-06-10 00:40:20,756 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1404 DEBUG [2012-06-10 00:40:20,765 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1404 DEBUG [2012-06-10 00:40:20,765 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1405 DEBUG [2012-06-10 00:40:20,766 main] jodd.db.DbSession#debug:36 - Closing db session
1405 DEBUG [2012-06-10 00:40:20,766 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1406 DEBUG [2012-06-10 00:40:20,767 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1407 DEBUG [2012-06-10 00:40:20,768 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1408 DEBUG [2012-06-10 00:40:20,769 main] jodd.db.DbSession#debug:36 - Creating new db session
1408 DEBUG [2012-06-10 00:40:20,769 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1504 DEBUG [2012-06-10 00:40:20,865 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1504 DEBUG [2012-06-10 00:40:20,865 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1505 DEBUG [2012-06-10 00:40:20,866 main] jodd.db.DbSession#debug:36 - Closing db session
219 INFO  [2012-06-10 00:40:51,219 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
225 INFO  [2012-06-10 00:40:51,225 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
225 INFO  [2012-06-10 00:40:51,225 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
230 INFO  [2012-06-10 00:40:51,230 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
238 DEBUG [2012-06-10 00:40:51,238 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
238 INFO  [2012-06-10 00:40:51,238 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
302 DEBUG [2012-06-10 00:40:51,302 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
313 DEBUG [2012-06-10 00:40:51,313 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
316 DEBUG [2012-06-10 00:40:51,316 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
317 DEBUG [2012-06-10 00:40:51,317 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
424 DEBUG [2012-06-10 00:40:51,424 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
432 DEBUG [2012-06-10 00:40:51,432 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
440 DEBUG [2012-06-10 00:40:51,440 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
443 DEBUG [2012-06-10 00:40:51,443 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
453 DEBUG [2012-06-10 00:40:51,453 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
454 DEBUG [2012-06-10 00:40:51,454 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
456 DEBUG [2012-06-10 00:40:51,456 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
457 DEBUG [2012-06-10 00:40:51,457 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
459 DEBUG [2012-06-10 00:40:51,459 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
460 DEBUG [2012-06-10 00:40:51,460 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
460 INFO  [2012-06-10 00:40:51,460 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 202 ms. Total beans: 7
552 DEBUG [2012-06-10 00:40:51,552 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
553 DEBUG [2012-06-10 00:40:51,553 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
611 INFO  [2012-06-10 00:40:51,611 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
614 DEBUG [2012-06-10 00:40:51,614 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
616 DEBUG [2012-06-10 00:40:51,616 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
621 INFO  [2012-06-10 00:40:51,621 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
959 DEBUG [2012-06-10 00:40:51,959 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
961 DEBUG [2012-06-10 00:40:51,961 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1097 INFO  [2012-06-10 00:40:52,097 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 108 ms. Total entities: 9
1102 DEBUG [2012-06-10 00:40:52,102 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1102 DEBUG [2012-06-10 00:40:52,102 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1103 DEBUG [2012-06-10 00:40:52,103 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1103 DEBUG [2012-06-10 00:40:52,103 main] jodd.db.DbSession#debug:36 - Creating new db session
1106 DEBUG [2012-06-10 00:40:52,106 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1108 DEBUG [2012-06-10 00:40:52,108 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1112 DEBUG [2012-06-10 00:40:52,112 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1112 DEBUG [2012-06-10 00:40:52,112 main] jodd.db.DbSession#debug:36 - Closing db session
1113 INFO  [2012-06-10 00:40:52,113 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1113 DEBUG [2012-06-10 00:40:52,113 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1115 DEBUG [2012-06-10 00:40:52,115 main] jodd.db.DbSession#debug:36 - Creating new db session
1115 DEBUG [2012-06-10 00:40:52,115 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1115 DEBUG [2012-06-10 00:40:52,115 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1116 DEBUG [2012-06-10 00:40:52,116 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1116 DEBUG [2012-06-10 00:40:52,116 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1117 DEBUG [2012-06-10 00:40:52,117 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1117 DEBUG [2012-06-10 00:40:52,117 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1118 DEBUG [2012-06-10 00:40:52,118 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1118 DEBUG [2012-06-10 00:40:52,118 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1118 DEBUG [2012-06-10 00:40:52,118 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1119 DEBUG [2012-06-10 00:40:52,119 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1119 DEBUG [2012-06-10 00:40:52,119 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1120 DEBUG [2012-06-10 00:40:52,120 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1120 DEBUG [2012-06-10 00:40:52,120 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1120 DEBUG [2012-06-10 00:40:52,120 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1121 DEBUG [2012-06-10 00:40:52,121 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1121 DEBUG [2012-06-10 00:40:52,121 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1122 DEBUG [2012-06-10 00:40:52,122 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1122 DEBUG [2012-06-10 00:40:52,122 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1122 DEBUG [2012-06-10 00:40:52,122 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1123 DEBUG [2012-06-10 00:40:52,123 main] jodd.db.DbSession#debug:36 - Closing db session
1123 INFO  [2012-06-10 00:40:52,123 main] c.b.r.install.DbInstaller#info:46 - Database reset
1124 INFO  [2012-06-10 00:40:52,124 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1124 DEBUG [2012-06-10 00:40:52,124 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1125 DEBUG [2012-06-10 00:40:52,125 main] jodd.db.DbSession#debug:36 - Creating new db session
1126 DEBUG [2012-06-10 00:40:52,126 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1126 DEBUG [2012-06-10 00:40:52,126 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1127 DEBUG [2012-06-10 00:40:52,127 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1127 DEBUG [2012-06-10 00:40:52,127 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1128 DEBUG [2012-06-10 00:40:52,128 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1128 DEBUG [2012-06-10 00:40:52,128 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1129 DEBUG [2012-06-10 00:40:52,129 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1130 DEBUG [2012-06-10 00:40:52,130 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1130 DEBUG [2012-06-10 00:40:52,130 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1130 DEBUG [2012-06-10 00:40:52,130 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1131 DEBUG [2012-06-10 00:40:52,131 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1131 DEBUG [2012-06-10 00:40:52,131 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1132 DEBUG [2012-06-10 00:40:52,132 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1132 DEBUG [2012-06-10 00:40:52,132 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1133 DEBUG [2012-06-10 00:40:52,133 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1133 DEBUG [2012-06-10 00:40:52,133 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1133 DEBUG [2012-06-10 00:40:52,133 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1134 DEBUG [2012-06-10 00:40:52,134 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1135 DEBUG [2012-06-10 00:40:52,135 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1135 DEBUG [2012-06-10 00:40:52,135 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1136 DEBUG [2012-06-10 00:40:52,136 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1136 DEBUG [2012-06-10 00:40:52,136 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1136 DEBUG [2012-06-10 00:40:52,136 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1137 DEBUG [2012-06-10 00:40:52,137 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1138 DEBUG [2012-06-10 00:40:52,138 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1138 DEBUG [2012-06-10 00:40:52,138 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1139 DEBUG [2012-06-10 00:40:52,139 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1139 DEBUG [2012-06-10 00:40:52,139 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1139 DEBUG [2012-06-10 00:40:52,139 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1140 DEBUG [2012-06-10 00:40:52,140 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1141 DEBUG [2012-06-10 00:40:52,141 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1141 DEBUG [2012-06-10 00:40:52,141 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1141 DEBUG [2012-06-10 00:40:52,141 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1142 DEBUG [2012-06-10 00:40:52,142 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1142 DEBUG [2012-06-10 00:40:52,142 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1143 DEBUG [2012-06-10 00:40:52,143 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1146 DEBUG [2012-06-10 00:40:52,146 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1146 DEBUG [2012-06-10 00:40:52,146 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1147 DEBUG [2012-06-10 00:40:52,147 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1147 DEBUG [2012-06-10 00:40:52,147 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1148 DEBUG [2012-06-10 00:40:52,148 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1149 DEBUG [2012-06-10 00:40:52,149 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1149 DEBUG [2012-06-10 00:40:52,149 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1150 DEBUG [2012-06-10 00:40:52,150 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1151 DEBUG [2012-06-10 00:40:52,151 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1151 DEBUG [2012-06-10 00:40:52,151 main] jodd.db.DbSession#debug:36 - Closing db session
1151 INFO  [2012-06-10 00:40:52,151 main] c.b.r.install.DbInstaller#info:46 - Database created.
1151 INFO  [2012-06-10 00:40:52,151 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1166 DEBUG [2012-06-10 00:40:52,166 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1168 DEBUG [2012-06-10 00:40:52,168 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1190 DEBUG [2012-06-10 00:40:52,190 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1190 DEBUG [2012-06-10 00:40:52,190 main] jodd.db.DbSession#debug:36 - Creating new db session
1191 DEBUG [2012-06-10 00:40:52,191 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1308 DEBUG [2012-06-10 00:40:52,308 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1313 DEBUG [2012-06-10 00:40:52,313 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1314 DEBUG [2012-06-10 00:40:52,314 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1314 DEBUG [2012-06-10 00:40:52,314 main] jodd.db.DbSession#debug:36 - Closing db session
1315 DEBUG [2012-06-10 00:40:52,315 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1315 DEBUG [2012-06-10 00:40:52,315 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1316 DEBUG [2012-06-10 00:40:52,316 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1316 DEBUG [2012-06-10 00:40:52,316 main] jodd.db.DbSession#debug:36 - Creating new db session
1317 DEBUG [2012-06-10 00:40:52,317 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1416 DEBUG [2012-06-10 00:40:52,416 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1417 DEBUG [2012-06-10 00:40:52,417 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1417 DEBUG [2012-06-10 00:40:52,417 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1417 DEBUG [2012-06-10 00:40:52,417 main] jodd.db.DbSession#debug:36 - Closing db session
1418 DEBUG [2012-06-10 00:40:52,418 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1418 DEBUG [2012-06-10 00:40:52,418 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1420 DEBUG [2012-06-10 00:40:52,420 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1420 DEBUG [2012-06-10 00:40:52,420 main] jodd.db.DbSession#debug:36 - Creating new db session
1420 DEBUG [2012-06-10 00:40:52,420 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1504 DEBUG [2012-06-10 00:40:52,504 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1511 DEBUG [2012-06-10 00:40:52,511 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1514 DEBUG [2012-06-10 00:40:52,514 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1515 DEBUG [2012-06-10 00:40:52,515 main] jodd.db.DbSession#debug:36 - Closing db session
1527 DEBUG [2012-06-10 00:40:52,527 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1528 DEBUG [2012-06-10 00:40:52,528 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1529 DEBUG [2012-06-10 00:40:52,529 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1530 DEBUG [2012-06-10 00:40:52,530 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
220 INFO  [2012-06-10 00:41:17,267 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
225 INFO  [2012-06-10 00:41:17,272 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
225 INFO  [2012-06-10 00:41:17,272 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
230 INFO  [2012-06-10 00:41:17,277 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
237 DEBUG [2012-06-10 00:41:17,284 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
238 INFO  [2012-06-10 00:41:17,285 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
306 DEBUG [2012-06-10 00:41:17,353 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
317 DEBUG [2012-06-10 00:41:17,364 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
321 DEBUG [2012-06-10 00:41:17,368 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
322 DEBUG [2012-06-10 00:41:17,369 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
430 DEBUG [2012-06-10 00:41:17,477 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
438 DEBUG [2012-06-10 00:41:17,485 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
441 DEBUG [2012-06-10 00:41:17,488 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
443 DEBUG [2012-06-10 00:41:17,490 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
447 DEBUG [2012-06-10 00:41:17,494 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
448 DEBUG [2012-06-10 00:41:17,495 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
450 DEBUG [2012-06-10 00:41:17,497 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
451 DEBUG [2012-06-10 00:41:17,498 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
452 DEBUG [2012-06-10 00:41:17,499 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
453 DEBUG [2012-06-10 00:41:17,500 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
454 INFO  [2012-06-10 00:41:17,501 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 195 ms. Total beans: 7
529 DEBUG [2012-06-10 00:41:17,576 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
530 DEBUG [2012-06-10 00:41:17,577 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
588 INFO  [2012-06-10 00:41:17,635 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
591 DEBUG [2012-06-10 00:41:17,638 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
592 DEBUG [2012-06-10 00:41:17,639 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
596 INFO  [2012-06-10 00:41:17,643 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
901 DEBUG [2012-06-10 00:41:17,948 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
902 DEBUG [2012-06-10 00:41:17,949 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1000 INFO  [2012-06-10 00:41:18,047 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 86 ms. Total entities: 9
1006 DEBUG [2012-06-10 00:41:18,053 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1006 DEBUG [2012-06-10 00:41:18,053 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1006 DEBUG [2012-06-10 00:41:18,053 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1007 DEBUG [2012-06-10 00:41:18,054 main] jodd.db.DbSession#debug:36 - Creating new db session
1011 DEBUG [2012-06-10 00:41:18,058 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1013 DEBUG [2012-06-10 00:41:18,060 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1017 DEBUG [2012-06-10 00:41:18,064 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1017 DEBUG [2012-06-10 00:41:18,064 main] jodd.db.DbSession#debug:36 - Closing db session
1017 INFO  [2012-06-10 00:41:18,064 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1017 DEBUG [2012-06-10 00:41:18,064 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1019 DEBUG [2012-06-10 00:41:18,066 main] jodd.db.DbSession#debug:36 - Creating new db session
1019 DEBUG [2012-06-10 00:41:18,066 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1020 DEBUG [2012-06-10 00:41:18,067 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1020 DEBUG [2012-06-10 00:41:18,067 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1021 DEBUG [2012-06-10 00:41:18,068 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1021 DEBUG [2012-06-10 00:41:18,068 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1021 DEBUG [2012-06-10 00:41:18,068 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1022 DEBUG [2012-06-10 00:41:18,069 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1022 DEBUG [2012-06-10 00:41:18,069 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1023 DEBUG [2012-06-10 00:41:18,070 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1023 DEBUG [2012-06-10 00:41:18,070 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1023 DEBUG [2012-06-10 00:41:18,070 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1024 DEBUG [2012-06-10 00:41:18,071 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1024 DEBUG [2012-06-10 00:41:18,071 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1025 DEBUG [2012-06-10 00:41:18,072 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1025 DEBUG [2012-06-10 00:41:18,072 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1025 DEBUG [2012-06-10 00:41:18,072 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1026 DEBUG [2012-06-10 00:41:18,073 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1026 DEBUG [2012-06-10 00:41:18,073 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1026 DEBUG [2012-06-10 00:41:18,073 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1027 DEBUG [2012-06-10 00:41:18,074 main] jodd.db.DbSession#debug:36 - Closing db session
1027 INFO  [2012-06-10 00:41:18,074 main] c.b.r.install.DbInstaller#info:46 - Database reset
1027 INFO  [2012-06-10 00:41:18,074 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1028 DEBUG [2012-06-10 00:41:18,075 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1029 DEBUG [2012-06-10 00:41:18,076 main] jodd.db.DbSession#debug:36 - Creating new db session
1029 DEBUG [2012-06-10 00:41:18,076 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1030 DEBUG [2012-06-10 00:41:18,077 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1031 DEBUG [2012-06-10 00:41:18,078 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1031 DEBUG [2012-06-10 00:41:18,078 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1031 DEBUG [2012-06-10 00:41:18,078 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1032 DEBUG [2012-06-10 00:41:18,079 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1033 DEBUG [2012-06-10 00:41:18,080 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1033 DEBUG [2012-06-10 00:41:18,080 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1034 DEBUG [2012-06-10 00:41:18,081 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1034 DEBUG [2012-06-10 00:41:18,081 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1034 DEBUG [2012-06-10 00:41:18,081 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1035 DEBUG [2012-06-10 00:41:18,082 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1035 DEBUG [2012-06-10 00:41:18,082 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1035 DEBUG [2012-06-10 00:41:18,082 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1036 DEBUG [2012-06-10 00:41:18,083 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1036 DEBUG [2012-06-10 00:41:18,083 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1037 DEBUG [2012-06-10 00:41:18,084 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1037 DEBUG [2012-06-10 00:41:18,084 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1038 DEBUG [2012-06-10 00:41:18,085 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1038 DEBUG [2012-06-10 00:41:18,085 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1039 DEBUG [2012-06-10 00:41:18,086 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1039 DEBUG [2012-06-10 00:41:18,086 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1040 DEBUG [2012-06-10 00:41:18,087 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1040 DEBUG [2012-06-10 00:41:18,087 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1041 DEBUG [2012-06-10 00:41:18,088 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1041 DEBUG [2012-06-10 00:41:18,088 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1041 DEBUG [2012-06-10 00:41:18,088 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1042 DEBUG [2012-06-10 00:41:18,089 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1042 DEBUG [2012-06-10 00:41:18,089 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1043 DEBUG [2012-06-10 00:41:18,090 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1043 DEBUG [2012-06-10 00:41:18,090 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1044 DEBUG [2012-06-10 00:41:18,091 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1044 DEBUG [2012-06-10 00:41:18,091 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1044 DEBUG [2012-06-10 00:41:18,091 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1045 DEBUG [2012-06-10 00:41:18,092 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1045 DEBUG [2012-06-10 00:41:18,092 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1046 DEBUG [2012-06-10 00:41:18,093 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1046 DEBUG [2012-06-10 00:41:18,093 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1046 DEBUG [2012-06-10 00:41:18,093 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1047 DEBUG [2012-06-10 00:41:18,094 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1048 DEBUG [2012-06-10 00:41:18,095 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1048 DEBUG [2012-06-10 00:41:18,095 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1048 DEBUG [2012-06-10 00:41:18,095 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1049 DEBUG [2012-06-10 00:41:18,096 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1049 DEBUG [2012-06-10 00:41:18,096 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1049 DEBUG [2012-06-10 00:41:18,096 main] jodd.db.DbSession#debug:36 - Closing db session
1050 INFO  [2012-06-10 00:41:18,097 main] c.b.r.install.DbInstaller#info:46 - Database created.
1050 INFO  [2012-06-10 00:41:18,097 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1063 DEBUG [2012-06-10 00:41:18,110 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1065 DEBUG [2012-06-10 00:41:18,112 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1082 DEBUG [2012-06-10 00:41:18,129 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1082 DEBUG [2012-06-10 00:41:18,129 main] jodd.db.DbSession#debug:36 - Creating new db session
1083 DEBUG [2012-06-10 00:41:18,130 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1171 DEBUG [2012-06-10 00:41:18,218 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1174 DEBUG [2012-06-10 00:41:18,221 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1174 DEBUG [2012-06-10 00:41:18,221 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1175 DEBUG [2012-06-10 00:41:18,222 main] jodd.db.DbSession#debug:36 - Closing db session
1176 DEBUG [2012-06-10 00:41:18,223 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1176 DEBUG [2012-06-10 00:41:18,223 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1177 DEBUG [2012-06-10 00:41:18,224 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1178 DEBUG [2012-06-10 00:41:18,225 main] jodd.db.DbSession#debug:36 - Creating new db session
1178 DEBUG [2012-06-10 00:41:18,225 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1240 DEBUG [2012-06-10 00:41:18,287 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1241 DEBUG [2012-06-10 00:41:18,288 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1241 DEBUG [2012-06-10 00:41:18,288 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1242 DEBUG [2012-06-10 00:41:18,289 main] jodd.db.DbSession#debug:36 - Closing db session
1243 DEBUG [2012-06-10 00:41:18,290 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1243 DEBUG [2012-06-10 00:41:18,290 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1244 DEBUG [2012-06-10 00:41:18,291 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1245 DEBUG [2012-06-10 00:41:18,292 main] jodd.db.DbSession#debug:36 - Creating new db session
1245 DEBUG [2012-06-10 00:41:18,292 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1354 DEBUG [2012-06-10 00:41:18,401 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1355 DEBUG [2012-06-10 00:41:18,402 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1355 DEBUG [2012-06-10 00:41:18,402 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1356 DEBUG [2012-06-10 00:41:18,403 main] jodd.db.DbSession#debug:36 - Closing db session
1359 DEBUG [2012-06-10 00:41:18,406 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1359 DEBUG [2012-06-10 00:41:18,406 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1361 DEBUG [2012-06-10 00:41:18,408 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1361 DEBUG [2012-06-10 00:41:18,408 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
212 INFO  [2012-06-10 00:42:45,540 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:42:45,546 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:42:45,546 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
223 INFO  [2012-06-10 00:42:45,551 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
231 DEBUG [2012-06-10 00:42:45,559 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
231 INFO  [2012-06-10 00:42:45,559 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
292 DEBUG [2012-06-10 00:42:45,620 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
303 DEBUG [2012-06-10 00:42:45,631 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
307 DEBUG [2012-06-10 00:42:45,635 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
307 DEBUG [2012-06-10 00:42:45,635 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
401 DEBUG [2012-06-10 00:42:45,729 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
409 DEBUG [2012-06-10 00:42:45,737 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
419 DEBUG [2012-06-10 00:42:45,747 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
421 DEBUG [2012-06-10 00:42:45,749 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
426 DEBUG [2012-06-10 00:42:45,754 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
427 DEBUG [2012-06-10 00:42:45,755 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
429 DEBUG [2012-06-10 00:42:45,757 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
430 DEBUG [2012-06-10 00:42:45,758 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
433 DEBUG [2012-06-10 00:42:45,761 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
433 DEBUG [2012-06-10 00:42:45,761 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
434 INFO  [2012-06-10 00:42:45,762 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 183 ms. Total beans: 7
523 DEBUG [2012-06-10 00:42:45,851 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
524 DEBUG [2012-06-10 00:42:45,852 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
570 INFO  [2012-06-10 00:42:45,898 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
572 DEBUG [2012-06-10 00:42:45,900 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
573 DEBUG [2012-06-10 00:42:45,901 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
578 INFO  [2012-06-10 00:42:45,906 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
883 DEBUG [2012-06-10 00:42:46,211 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
884 DEBUG [2012-06-10 00:42:46,212 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
985 INFO  [2012-06-10 00:42:46,313 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 89 ms. Total entities: 9
990 DEBUG [2012-06-10 00:42:46,318 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
990 DEBUG [2012-06-10 00:42:46,318 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
991 DEBUG [2012-06-10 00:42:46,319 main] c.b.r.install.DbInstaller#debug:36 - Check database.
991 DEBUG [2012-06-10 00:42:46,319 main] jodd.db.DbSession#debug:36 - Creating new db session
995 DEBUG [2012-06-10 00:42:46,323 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
997 DEBUG [2012-06-10 00:42:46,325 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1001 DEBUG [2012-06-10 00:42:46,329 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1002 DEBUG [2012-06-10 00:42:46,330 main] jodd.db.DbSession#debug:36 - Closing db session
1002 INFO  [2012-06-10 00:42:46,330 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1002 DEBUG [2012-06-10 00:42:46,330 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1004 DEBUG [2012-06-10 00:42:46,332 main] jodd.db.DbSession#debug:36 - Creating new db session
1004 DEBUG [2012-06-10 00:42:46,332 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1004 DEBUG [2012-06-10 00:42:46,332 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1005 DEBUG [2012-06-10 00:42:46,333 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1005 DEBUG [2012-06-10 00:42:46,333 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1006 DEBUG [2012-06-10 00:42:46,334 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1006 DEBUG [2012-06-10 00:42:46,334 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1007 DEBUG [2012-06-10 00:42:46,335 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1007 DEBUG [2012-06-10 00:42:46,335 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1008 DEBUG [2012-06-10 00:42:46,336 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1008 DEBUG [2012-06-10 00:42:46,336 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1008 DEBUG [2012-06-10 00:42:46,336 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1009 DEBUG [2012-06-10 00:42:46,337 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1009 DEBUG [2012-06-10 00:42:46,337 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1010 DEBUG [2012-06-10 00:42:46,338 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1010 DEBUG [2012-06-10 00:42:46,338 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1010 DEBUG [2012-06-10 00:42:46,338 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1011 DEBUG [2012-06-10 00:42:46,339 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1011 DEBUG [2012-06-10 00:42:46,339 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1012 DEBUG [2012-06-10 00:42:46,340 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1012 DEBUG [2012-06-10 00:42:46,340 main] jodd.db.DbSession#debug:36 - Closing db session
1012 INFO  [2012-06-10 00:42:46,340 main] c.b.r.install.DbInstaller#info:46 - Database reset
1013 INFO  [2012-06-10 00:42:46,341 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1013 DEBUG [2012-06-10 00:42:46,341 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1014 DEBUG [2012-06-10 00:42:46,342 main] jodd.db.DbSession#debug:36 - Creating new db session
1015 DEBUG [2012-06-10 00:42:46,343 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1015 DEBUG [2012-06-10 00:42:46,343 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1016 DEBUG [2012-06-10 00:42:46,344 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1016 DEBUG [2012-06-10 00:42:46,344 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1017 DEBUG [2012-06-10 00:42:46,345 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1017 DEBUG [2012-06-10 00:42:46,345 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1018 DEBUG [2012-06-10 00:42:46,346 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1019 DEBUG [2012-06-10 00:42:46,347 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1019 DEBUG [2012-06-10 00:42:46,347 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1019 DEBUG [2012-06-10 00:42:46,347 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1020 DEBUG [2012-06-10 00:42:46,348 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1020 DEBUG [2012-06-10 00:42:46,348 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1021 DEBUG [2012-06-10 00:42:46,349 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1021 DEBUG [2012-06-10 00:42:46,349 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1022 DEBUG [2012-06-10 00:42:46,350 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1022 DEBUG [2012-06-10 00:42:46,350 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1022 DEBUG [2012-06-10 00:42:46,350 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1023 DEBUG [2012-06-10 00:42:46,351 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1024 DEBUG [2012-06-10 00:42:46,352 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1024 DEBUG [2012-06-10 00:42:46,352 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1024 DEBUG [2012-06-10 00:42:46,352 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1025 DEBUG [2012-06-10 00:42:46,353 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1025 DEBUG [2012-06-10 00:42:46,353 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1026 DEBUG [2012-06-10 00:42:46,354 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1026 DEBUG [2012-06-10 00:42:46,354 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1027 DEBUG [2012-06-10 00:42:46,355 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1029 DEBUG [2012-06-10 00:42:46,357 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1029 DEBUG [2012-06-10 00:42:46,357 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1029 DEBUG [2012-06-10 00:42:46,357 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1030 DEBUG [2012-06-10 00:42:46,358 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1030 DEBUG [2012-06-10 00:42:46,358 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1031 DEBUG [2012-06-10 00:42:46,359 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1031 DEBUG [2012-06-10 00:42:46,359 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1031 DEBUG [2012-06-10 00:42:46,359 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1032 DEBUG [2012-06-10 00:42:46,360 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1032 DEBUG [2012-06-10 00:42:46,360 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1033 DEBUG [2012-06-10 00:42:46,361 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1033 DEBUG [2012-06-10 00:42:46,361 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1033 DEBUG [2012-06-10 00:42:46,361 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1034 DEBUG [2012-06-10 00:42:46,362 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1035 DEBUG [2012-06-10 00:42:46,363 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1035 DEBUG [2012-06-10 00:42:46,363 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1035 DEBUG [2012-06-10 00:42:46,363 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1036 DEBUG [2012-06-10 00:42:46,364 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1036 DEBUG [2012-06-10 00:42:46,364 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1037 DEBUG [2012-06-10 00:42:46,365 main] jodd.db.DbSession#debug:36 - Closing db session
1037 INFO  [2012-06-10 00:42:46,365 main] c.b.r.install.DbInstaller#info:46 - Database created.
1037 INFO  [2012-06-10 00:42:46,365 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1048 DEBUG [2012-06-10 00:42:46,376 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1049 DEBUG [2012-06-10 00:42:46,377 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1067 DEBUG [2012-06-10 00:42:46,395 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1067 DEBUG [2012-06-10 00:42:46,395 main] jodd.db.DbSession#debug:36 - Creating new db session
1068 DEBUG [2012-06-10 00:42:46,396 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1164 DEBUG [2012-06-10 00:42:46,492 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1174 DEBUG [2012-06-10 00:42:46,502 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1174 DEBUG [2012-06-10 00:42:46,502 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1175 DEBUG [2012-06-10 00:42:46,503 main] jodd.db.DbSession#debug:36 - Closing db session
1175 DEBUG [2012-06-10 00:42:46,503 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1176 DEBUG [2012-06-10 00:42:46,504 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1177 DEBUG [2012-06-10 00:42:46,505 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1177 DEBUG [2012-06-10 00:42:46,505 main] jodd.db.DbSession#debug:36 - Creating new db session
1177 DEBUG [2012-06-10 00:42:46,505 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1258 DEBUG [2012-06-10 00:42:46,586 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1261 DEBUG [2012-06-10 00:42:46,589 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1261 DEBUG [2012-06-10 00:42:46,589 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1262 DEBUG [2012-06-10 00:42:46,590 main] jodd.db.DbSession#debug:36 - Closing db session
1264 DEBUG [2012-06-10 00:42:46,592 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1264 DEBUG [2012-06-10 00:42:46,592 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1266 DEBUG [2012-06-10 00:42:46,594 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1266 DEBUG [2012-06-10 00:42:46,594 main] jodd.db.DbSession#debug:36 - Creating new db session
1269 DEBUG [2012-06-10 00:42:46,597 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1346 DEBUG [2012-06-10 00:42:46,674 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1356 DEBUG [2012-06-10 00:42:46,684 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1356 DEBUG [2012-06-10 00:42:46,684 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1357 DEBUG [2012-06-10 00:42:46,685 main] jodd.db.DbSession#debug:36 - Closing db session
1360 DEBUG [2012-06-10 00:42:46,688 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1368 DEBUG [2012-06-10 00:42:46,696 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1378 DEBUG [2012-06-10 00:42:46,706 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1378 DEBUG [2012-06-10 00:42:46,706 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
211 INFO  [2012-06-10 00:42:54,130 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
217 INFO  [2012-06-10 00:42:54,136 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:42:54,137 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
223 INFO  [2012-06-10 00:42:54,142 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
230 DEBUG [2012-06-10 00:42:54,149 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
231 INFO  [2012-06-10 00:42:54,150 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
297 DEBUG [2012-06-10 00:42:54,216 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
309 DEBUG [2012-06-10 00:42:54,228 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
312 DEBUG [2012-06-10 00:42:54,231 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
313 DEBUG [2012-06-10 00:42:54,232 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
407 DEBUG [2012-06-10 00:42:54,326 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
418 DEBUG [2012-06-10 00:42:54,337 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
421 DEBUG [2012-06-10 00:42:54,340 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
423 DEBUG [2012-06-10 00:42:54,342 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
431 DEBUG [2012-06-10 00:42:54,350 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
432 DEBUG [2012-06-10 00:42:54,351 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
434 DEBUG [2012-06-10 00:42:54,353 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
435 DEBUG [2012-06-10 00:42:54,354 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
437 DEBUG [2012-06-10 00:42:54,356 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
438 DEBUG [2012-06-10 00:42:54,357 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
439 INFO  [2012-06-10 00:42:54,358 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 187 ms. Total beans: 7
512 DEBUG [2012-06-10 00:42:54,431 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
513 DEBUG [2012-06-10 00:42:54,432 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
552 INFO  [2012-06-10 00:42:54,471 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
555 DEBUG [2012-06-10 00:42:54,474 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
555 DEBUG [2012-06-10 00:42:54,474 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
561 INFO  [2012-06-10 00:42:54,480 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
928 DEBUG [2012-06-10 00:42:54,847 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
929 DEBUG [2012-06-10 00:42:54,848 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1044 INFO  [2012-06-10 00:42:54,963 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 102 ms. Total entities: 9
1048 DEBUG [2012-06-10 00:42:54,967 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1049 DEBUG [2012-06-10 00:42:54,968 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1049 DEBUG [2012-06-10 00:42:54,968 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1050 DEBUG [2012-06-10 00:42:54,969 main] jodd.db.DbSession#debug:36 - Creating new db session
1053 DEBUG [2012-06-10 00:42:54,972 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1055 DEBUG [2012-06-10 00:42:54,974 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1059 DEBUG [2012-06-10 00:42:54,978 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1059 DEBUG [2012-06-10 00:42:54,978 main] jodd.db.DbSession#debug:36 - Closing db session
1060 INFO  [2012-06-10 00:42:54,979 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1060 DEBUG [2012-06-10 00:42:54,979 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1062 DEBUG [2012-06-10 00:42:54,981 main] jodd.db.DbSession#debug:36 - Creating new db session
1062 DEBUG [2012-06-10 00:42:54,981 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1062 DEBUG [2012-06-10 00:42:54,981 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1063 DEBUG [2012-06-10 00:42:54,982 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1063 DEBUG [2012-06-10 00:42:54,982 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1064 DEBUG [2012-06-10 00:42:54,983 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1064 DEBUG [2012-06-10 00:42:54,983 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1065 DEBUG [2012-06-10 00:42:54,984 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1065 DEBUG [2012-06-10 00:42:54,984 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1065 DEBUG [2012-06-10 00:42:54,984 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1066 DEBUG [2012-06-10 00:42:54,985 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1066 DEBUG [2012-06-10 00:42:54,985 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1066 DEBUG [2012-06-10 00:42:54,985 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1067 DEBUG [2012-06-10 00:42:54,986 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1067 DEBUG [2012-06-10 00:42:54,986 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1068 DEBUG [2012-06-10 00:42:54,987 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1068 DEBUG [2012-06-10 00:42:54,987 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1068 DEBUG [2012-06-10 00:42:54,987 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1069 DEBUG [2012-06-10 00:42:54,988 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1069 DEBUG [2012-06-10 00:42:54,988 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1069 DEBUG [2012-06-10 00:42:54,988 main] jodd.db.DbSession#debug:36 - Closing db session
1070 INFO  [2012-06-10 00:42:54,989 main] c.b.r.install.DbInstaller#info:46 - Database reset
1070 INFO  [2012-06-10 00:42:54,989 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1071 DEBUG [2012-06-10 00:42:54,990 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1072 DEBUG [2012-06-10 00:42:54,991 main] jodd.db.DbSession#debug:36 - Creating new db session
1072 DEBUG [2012-06-10 00:42:54,991 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1072 DEBUG [2012-06-10 00:42:54,991 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1073 DEBUG [2012-06-10 00:42:54,992 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1074 DEBUG [2012-06-10 00:42:54,993 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1074 DEBUG [2012-06-10 00:42:54,993 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1075 DEBUG [2012-06-10 00:42:54,994 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1076 DEBUG [2012-06-10 00:42:54,995 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1076 DEBUG [2012-06-10 00:42:54,995 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1076 DEBUG [2012-06-10 00:42:54,995 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1077 DEBUG [2012-06-10 00:42:54,996 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1077 DEBUG [2012-06-10 00:42:54,996 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1077 DEBUG [2012-06-10 00:42:54,996 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1078 DEBUG [2012-06-10 00:42:54,997 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1078 DEBUG [2012-06-10 00:42:54,997 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1079 DEBUG [2012-06-10 00:42:54,998 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1079 DEBUG [2012-06-10 00:42:54,998 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1079 DEBUG [2012-06-10 00:42:54,998 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1080 DEBUG [2012-06-10 00:42:54,999 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1081 DEBUG [2012-06-10 00:42:55,000 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1081 DEBUG [2012-06-10 00:42:55,000 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1081 DEBUG [2012-06-10 00:42:55,000 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1082 DEBUG [2012-06-10 00:42:55,001 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1082 DEBUG [2012-06-10 00:42:55,001 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1083 DEBUG [2012-06-10 00:42:55,002 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1083 DEBUG [2012-06-10 00:42:55,002 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1084 DEBUG [2012-06-10 00:42:55,003 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1084 DEBUG [2012-06-10 00:42:55,003 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1085 DEBUG [2012-06-10 00:42:55,004 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1085 DEBUG [2012-06-10 00:42:55,004 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1086 DEBUG [2012-06-10 00:42:55,005 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1086 DEBUG [2012-06-10 00:42:55,005 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1087 DEBUG [2012-06-10 00:42:55,006 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1087 DEBUG [2012-06-10 00:42:55,006 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1088 DEBUG [2012-06-10 00:42:55,007 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1088 DEBUG [2012-06-10 00:42:55,007 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1089 DEBUG [2012-06-10 00:42:55,008 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1089 DEBUG [2012-06-10 00:42:55,008 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1089 DEBUG [2012-06-10 00:42:55,008 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1090 DEBUG [2012-06-10 00:42:55,009 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1090 DEBUG [2012-06-10 00:42:55,009 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1092 DEBUG [2012-06-10 00:42:55,011 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1092 DEBUG [2012-06-10 00:42:55,011 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1093 DEBUG [2012-06-10 00:42:55,012 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1093 DEBUG [2012-06-10 00:42:55,012 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1094 DEBUG [2012-06-10 00:42:55,013 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1094 DEBUG [2012-06-10 00:42:55,013 main] jodd.db.DbSession#debug:36 - Closing db session
1094 INFO  [2012-06-10 00:42:55,013 main] c.b.r.install.DbInstaller#info:46 - Database created.
1095 INFO  [2012-06-10 00:42:55,014 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1109 DEBUG [2012-06-10 00:42:55,028 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1112 DEBUG [2012-06-10 00:42:55,031 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1129 DEBUG [2012-06-10 00:42:55,048 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1129 DEBUG [2012-06-10 00:42:55,048 main] jodd.db.DbSession#debug:36 - Creating new db session
1130 DEBUG [2012-06-10 00:42:55,049 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1238 DEBUG [2012-06-10 00:42:55,157 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1241 DEBUG [2012-06-10 00:42:55,160 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1241 DEBUG [2012-06-10 00:42:55,160 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1242 DEBUG [2012-06-10 00:42:55,161 main] jodd.db.DbSession#debug:36 - Closing db session
1242 DEBUG [2012-06-10 00:42:55,161 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1243 DEBUG [2012-06-10 00:42:55,162 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1244 DEBUG [2012-06-10 00:42:55,163 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1244 DEBUG [2012-06-10 00:42:55,163 main] jodd.db.DbSession#debug:36 - Creating new db session
1245 DEBUG [2012-06-10 00:42:55,164 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1337 DEBUG [2012-06-10 00:42:55,256 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1338 DEBUG [2012-06-10 00:42:55,257 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1338 DEBUG [2012-06-10 00:42:55,257 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1339 DEBUG [2012-06-10 00:42:55,258 main] jodd.db.DbSession#debug:36 - Closing db session
1340 DEBUG [2012-06-10 00:42:55,259 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1340 DEBUG [2012-06-10 00:42:55,259 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1344 DEBUG [2012-06-10 00:42:55,263 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1345 DEBUG [2012-06-10 00:42:55,264 main] jodd.db.DbSession#debug:36 - Creating new db session
1345 DEBUG [2012-06-10 00:42:55,264 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1415 DEBUG [2012-06-10 00:42:55,334 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1418 DEBUG [2012-06-10 00:42:55,337 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1418 DEBUG [2012-06-10 00:42:55,337 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1419 DEBUG [2012-06-10 00:42:55,338 main] jodd.db.DbSession#debug:36 - Closing db session
1421 DEBUG [2012-06-10 00:42:55,340 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1422 DEBUG [2012-06-10 00:42:55,341 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1423 DEBUG [2012-06-10 00:42:55,342 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1423 DEBUG [2012-06-10 00:42:55,342 main] jodd.db.DbSession#debug:36 - Creating new db session
1424 DEBUG [2012-06-10 00:42:55,343 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1429 DEBUG [2012-06-10 00:42:55,348 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1429 DEBUG [2012-06-10 00:42:55,348 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1429 DEBUG [2012-06-10 00:42:55,348 main] jodd.db.DbSession#debug:36 - Closing db session
210 INFO  [2012-06-10 00:43:25,888 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
217 INFO  [2012-06-10 00:43:25,895 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:43:25,896 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
223 INFO  [2012-06-10 00:43:25,901 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
230 DEBUG [2012-06-10 00:43:25,908 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
231 INFO  [2012-06-10 00:43:25,909 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
297 DEBUG [2012-06-10 00:43:25,975 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
309 DEBUG [2012-06-10 00:43:25,987 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
312 DEBUG [2012-06-10 00:43:25,990 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
313 DEBUG [2012-06-10 00:43:25,991 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
404 DEBUG [2012-06-10 00:43:26,082 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
414 DEBUG [2012-06-10 00:43:26,092 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
419 DEBUG [2012-06-10 00:43:26,097 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
422 DEBUG [2012-06-10 00:43:26,100 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
427 DEBUG [2012-06-10 00:43:26,105 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
429 DEBUG [2012-06-10 00:43:26,107 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
432 DEBUG [2012-06-10 00:43:26,110 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
432 DEBUG [2012-06-10 00:43:26,110 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
434 DEBUG [2012-06-10 00:43:26,112 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
435 DEBUG [2012-06-10 00:43:26,113 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
436 INFO  [2012-06-10 00:43:26,114 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 182 ms. Total beans: 7
521 DEBUG [2012-06-10 00:43:26,199 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
522 DEBUG [2012-06-10 00:43:26,200 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
553 INFO  [2012-06-10 00:43:26,231 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
556 DEBUG [2012-06-10 00:43:26,234 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
557 DEBUG [2012-06-10 00:43:26,235 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
562 INFO  [2012-06-10 00:43:26,240 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
964 DEBUG [2012-06-10 00:43:26,642 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
965 DEBUG [2012-06-10 00:43:26,643 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1072 INFO  [2012-06-10 00:43:26,750 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 94 ms. Total entities: 9
1077 DEBUG [2012-06-10 00:43:26,755 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1078 DEBUG [2012-06-10 00:43:26,756 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1078 DEBUG [2012-06-10 00:43:26,756 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1079 DEBUG [2012-06-10 00:43:26,757 main] jodd.db.DbSession#debug:36 - Creating new db session
1082 DEBUG [2012-06-10 00:43:26,760 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1084 DEBUG [2012-06-10 00:43:26,762 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1088 DEBUG [2012-06-10 00:43:26,766 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1088 DEBUG [2012-06-10 00:43:26,766 main] jodd.db.DbSession#debug:36 - Closing db session
1089 INFO  [2012-06-10 00:43:26,767 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1089 DEBUG [2012-06-10 00:43:26,767 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1091 DEBUG [2012-06-10 00:43:26,769 main] jodd.db.DbSession#debug:36 - Creating new db session
1091 DEBUG [2012-06-10 00:43:26,769 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1092 DEBUG [2012-06-10 00:43:26,770 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1092 DEBUG [2012-06-10 00:43:26,770 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1093 DEBUG [2012-06-10 00:43:26,771 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1093 DEBUG [2012-06-10 00:43:26,771 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1094 DEBUG [2012-06-10 00:43:26,772 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1094 DEBUG [2012-06-10 00:43:26,772 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1095 DEBUG [2012-06-10 00:43:26,773 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1095 DEBUG [2012-06-10 00:43:26,773 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1096 DEBUG [2012-06-10 00:43:26,774 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1096 DEBUG [2012-06-10 00:43:26,774 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1097 DEBUG [2012-06-10 00:43:26,775 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1098 DEBUG [2012-06-10 00:43:26,776 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1098 DEBUG [2012-06-10 00:43:26,776 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1099 DEBUG [2012-06-10 00:43:26,777 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1099 DEBUG [2012-06-10 00:43:26,777 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1100 DEBUG [2012-06-10 00:43:26,778 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1100 DEBUG [2012-06-10 00:43:26,778 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1101 DEBUG [2012-06-10 00:43:26,779 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1101 DEBUG [2012-06-10 00:43:26,779 main] jodd.db.DbSession#debug:36 - Closing db session
1101 INFO  [2012-06-10 00:43:26,779 main] c.b.r.install.DbInstaller#info:46 - Database reset
1102 INFO  [2012-06-10 00:43:26,780 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1102 DEBUG [2012-06-10 00:43:26,780 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1104 DEBUG [2012-06-10 00:43:26,782 main] jodd.db.DbSession#debug:36 - Creating new db session
1104 DEBUG [2012-06-10 00:43:26,782 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1104 DEBUG [2012-06-10 00:43:26,782 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1105 DEBUG [2012-06-10 00:43:26,783 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1106 DEBUG [2012-06-10 00:43:26,784 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1107 DEBUG [2012-06-10 00:43:26,785 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1107 DEBUG [2012-06-10 00:43:26,785 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1108 DEBUG [2012-06-10 00:43:26,786 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1109 DEBUG [2012-06-10 00:43:26,787 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1109 DEBUG [2012-06-10 00:43:26,787 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1110 DEBUG [2012-06-10 00:43:26,788 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1110 DEBUG [2012-06-10 00:43:26,788 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1110 DEBUG [2012-06-10 00:43:26,788 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1111 DEBUG [2012-06-10 00:43:26,789 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1111 DEBUG [2012-06-10 00:43:26,789 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1112 DEBUG [2012-06-10 00:43:26,790 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1113 DEBUG [2012-06-10 00:43:26,791 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1113 DEBUG [2012-06-10 00:43:26,791 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1114 DEBUG [2012-06-10 00:43:26,792 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1115 DEBUG [2012-06-10 00:43:26,793 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1115 DEBUG [2012-06-10 00:43:26,793 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1116 DEBUG [2012-06-10 00:43:26,794 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1116 DEBUG [2012-06-10 00:43:26,794 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1117 DEBUG [2012-06-10 00:43:26,795 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1117 DEBUG [2012-06-10 00:43:26,795 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1118 DEBUG [2012-06-10 00:43:26,796 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1119 DEBUG [2012-06-10 00:43:26,797 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1120 DEBUG [2012-06-10 00:43:26,798 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1120 DEBUG [2012-06-10 00:43:26,798 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1121 DEBUG [2012-06-10 00:43:26,799 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1121 DEBUG [2012-06-10 00:43:26,799 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1122 DEBUG [2012-06-10 00:43:26,800 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1122 DEBUG [2012-06-10 00:43:26,800 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1124 DEBUG [2012-06-10 00:43:26,802 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1125 DEBUG [2012-06-10 00:43:26,803 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1126 DEBUG [2012-06-10 00:43:26,804 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1126 DEBUG [2012-06-10 00:43:26,804 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1127 DEBUG [2012-06-10 00:43:26,805 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1127 DEBUG [2012-06-10 00:43:26,805 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1128 DEBUG [2012-06-10 00:43:26,806 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1128 DEBUG [2012-06-10 00:43:26,806 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1129 DEBUG [2012-06-10 00:43:26,807 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1130 DEBUG [2012-06-10 00:43:26,808 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1130 DEBUG [2012-06-10 00:43:26,808 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1131 DEBUG [2012-06-10 00:43:26,809 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1131 DEBUG [2012-06-10 00:43:26,809 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1132 DEBUG [2012-06-10 00:43:26,810 main] jodd.db.DbSession#debug:36 - Closing db session
1132 INFO  [2012-06-10 00:43:26,810 main] c.b.r.install.DbInstaller#info:46 - Database created.
1133 INFO  [2012-06-10 00:43:26,811 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1147 DEBUG [2012-06-10 00:43:26,825 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1149 DEBUG [2012-06-10 00:43:26,827 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1166 DEBUG [2012-06-10 00:43:26,844 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1167 DEBUG [2012-06-10 00:43:26,845 main] jodd.db.DbSession#debug:36 - Creating new db session
1168 DEBUG [2012-06-10 00:43:26,846 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1258 DEBUG [2012-06-10 00:43:26,936 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1261 DEBUG [2012-06-10 00:43:26,939 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1262 DEBUG [2012-06-10 00:43:26,940 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1262 DEBUG [2012-06-10 00:43:26,940 main] jodd.db.DbSession#debug:36 - Closing db session
1263 DEBUG [2012-06-10 00:43:26,941 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1263 DEBUG [2012-06-10 00:43:26,941 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1264 DEBUG [2012-06-10 00:43:26,942 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1265 DEBUG [2012-06-10 00:43:26,943 main] jodd.db.DbSession#debug:36 - Creating new db session
1265 DEBUG [2012-06-10 00:43:26,943 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1332 DEBUG [2012-06-10 00:43:27,010 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1334 DEBUG [2012-06-10 00:43:27,012 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1334 DEBUG [2012-06-10 00:43:27,012 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1335 DEBUG [2012-06-10 00:43:27,013 main] jodd.db.DbSession#debug:36 - Closing db session
1336 DEBUG [2012-06-10 00:43:27,014 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1336 DEBUG [2012-06-10 00:43:27,014 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1337 DEBUG [2012-06-10 00:43:27,015 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1338 DEBUG [2012-06-10 00:43:27,016 main] jodd.db.DbSession#debug:36 - Creating new db session
1338 DEBUG [2012-06-10 00:43:27,016 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1461 DEBUG [2012-06-10 00:43:27,139 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1462 DEBUG [2012-06-10 00:43:27,140 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1462 DEBUG [2012-06-10 00:43:27,140 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1462 DEBUG [2012-06-10 00:43:27,140 main] jodd.db.DbSession#debug:36 - Closing db session
1465 DEBUG [2012-06-10 00:43:27,143 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1466 DEBUG [2012-06-10 00:43:27,144 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1467 DEBUG [2012-06-10 00:43:27,145 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1468 DEBUG [2012-06-10 00:43:27,146 main] jodd.db.DbSession#debug:36 - Creating new db session
1470 DEBUG [2012-06-10 00:43:27,148 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1472 DEBUG [2012-06-10 00:43:27,150 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1473 DEBUG [2012-06-10 00:43:27,151 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1473 DEBUG [2012-06-10 00:43:27,151 main] jodd.db.DbSession#debug:36 - Closing db session
213 INFO  [2012-06-10 00:43:43,497 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
218 INFO  [2012-06-10 00:43:43,502 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
219 INFO  [2012-06-10 00:43:43,503 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
224 INFO  [2012-06-10 00:43:43,508 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
231 DEBUG [2012-06-10 00:43:43,515 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
232 INFO  [2012-06-10 00:43:43,516 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
296 DEBUG [2012-06-10 00:43:43,580 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
307 DEBUG [2012-06-10 00:43:43,591 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
311 DEBUG [2012-06-10 00:43:43,595 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
311 DEBUG [2012-06-10 00:43:43,595 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
403 DEBUG [2012-06-10 00:43:43,687 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
412 DEBUG [2012-06-10 00:43:43,696 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
417 DEBUG [2012-06-10 00:43:43,701 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
420 DEBUG [2012-06-10 00:43:43,704 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
430 DEBUG [2012-06-10 00:43:43,714 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
431 DEBUG [2012-06-10 00:43:43,715 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
433 DEBUG [2012-06-10 00:43:43,717 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
434 DEBUG [2012-06-10 00:43:43,718 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
436 DEBUG [2012-06-10 00:43:43,720 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
437 DEBUG [2012-06-10 00:43:43,721 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
438 INFO  [2012-06-10 00:43:43,722 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 186 ms. Total beans: 7
511 DEBUG [2012-06-10 00:43:43,795 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
518 DEBUG [2012-06-10 00:43:43,802 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
565 INFO  [2012-06-10 00:43:43,849 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
569 DEBUG [2012-06-10 00:43:43,853 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
573 DEBUG [2012-06-10 00:43:43,857 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
579 INFO  [2012-06-10 00:43:43,863 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
950 DEBUG [2012-06-10 00:43:44,234 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
951 DEBUG [2012-06-10 00:43:44,235 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1081 INFO  [2012-06-10 00:43:44,365 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 105 ms. Total entities: 9
1087 DEBUG [2012-06-10 00:43:44,371 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1087 DEBUG [2012-06-10 00:43:44,371 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1088 DEBUG [2012-06-10 00:43:44,372 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1088 DEBUG [2012-06-10 00:43:44,372 main] jodd.db.DbSession#debug:36 - Creating new db session
1092 DEBUG [2012-06-10 00:43:44,376 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1094 DEBUG [2012-06-10 00:43:44,378 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1098 DEBUG [2012-06-10 00:43:44,382 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1099 DEBUG [2012-06-10 00:43:44,383 main] jodd.db.DbSession#debug:36 - Closing db session
1099 INFO  [2012-06-10 00:43:44,383 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1099 DEBUG [2012-06-10 00:43:44,383 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1101 DEBUG [2012-06-10 00:43:44,385 main] jodd.db.DbSession#debug:36 - Creating new db session
1101 DEBUG [2012-06-10 00:43:44,385 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1102 DEBUG [2012-06-10 00:43:44,386 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1102 DEBUG [2012-06-10 00:43:44,386 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1103 DEBUG [2012-06-10 00:43:44,387 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1103 DEBUG [2012-06-10 00:43:44,387 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1103 DEBUG [2012-06-10 00:43:44,387 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1104 DEBUG [2012-06-10 00:43:44,388 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1104 DEBUG [2012-06-10 00:43:44,388 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1105 DEBUG [2012-06-10 00:43:44,389 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1105 DEBUG [2012-06-10 00:43:44,389 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1105 DEBUG [2012-06-10 00:43:44,389 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1106 DEBUG [2012-06-10 00:43:44,390 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1106 DEBUG [2012-06-10 00:43:44,390 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1106 DEBUG [2012-06-10 00:43:44,390 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1107 DEBUG [2012-06-10 00:43:44,391 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1107 DEBUG [2012-06-10 00:43:44,391 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1108 DEBUG [2012-06-10 00:43:44,392 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1108 DEBUG [2012-06-10 00:43:44,392 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1108 DEBUG [2012-06-10 00:43:44,392 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1109 DEBUG [2012-06-10 00:43:44,393 main] jodd.db.DbSession#debug:36 - Closing db session
1109 INFO  [2012-06-10 00:43:44,393 main] c.b.r.install.DbInstaller#info:46 - Database reset
1109 INFO  [2012-06-10 00:43:44,393 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1110 DEBUG [2012-06-10 00:43:44,394 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1111 DEBUG [2012-06-10 00:43:44,395 main] jodd.db.DbSession#debug:36 - Creating new db session
1112 DEBUG [2012-06-10 00:43:44,396 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1112 DEBUG [2012-06-10 00:43:44,396 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1113 DEBUG [2012-06-10 00:43:44,397 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1113 DEBUG [2012-06-10 00:43:44,397 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1114 DEBUG [2012-06-10 00:43:44,398 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1114 DEBUG [2012-06-10 00:43:44,398 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1115 DEBUG [2012-06-10 00:43:44,399 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1115 DEBUG [2012-06-10 00:43:44,399 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1116 DEBUG [2012-06-10 00:43:44,400 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1116 DEBUG [2012-06-10 00:43:44,400 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1117 DEBUG [2012-06-10 00:43:44,401 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1117 DEBUG [2012-06-10 00:43:44,401 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1118 DEBUG [2012-06-10 00:43:44,402 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1118 DEBUG [2012-06-10 00:43:44,402 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1118 DEBUG [2012-06-10 00:43:44,402 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1119 DEBUG [2012-06-10 00:43:44,403 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1119 DEBUG [2012-06-10 00:43:44,403 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1120 DEBUG [2012-06-10 00:43:44,404 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1120 DEBUG [2012-06-10 00:43:44,404 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1121 DEBUG [2012-06-10 00:43:44,405 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1121 DEBUG [2012-06-10 00:43:44,405 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1122 DEBUG [2012-06-10 00:43:44,406 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1122 DEBUG [2012-06-10 00:43:44,406 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1122 DEBUG [2012-06-10 00:43:44,406 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1123 DEBUG [2012-06-10 00:43:44,407 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1123 DEBUG [2012-06-10 00:43:44,407 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1124 DEBUG [2012-06-10 00:43:44,408 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1124 DEBUG [2012-06-10 00:43:44,408 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1125 DEBUG [2012-06-10 00:43:44,409 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1125 DEBUG [2012-06-10 00:43:44,409 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1126 DEBUG [2012-06-10 00:43:44,410 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1127 DEBUG [2012-06-10 00:43:44,411 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1128 DEBUG [2012-06-10 00:43:44,412 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1129 DEBUG [2012-06-10 00:43:44,413 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1130 DEBUG [2012-06-10 00:43:44,414 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1130 DEBUG [2012-06-10 00:43:44,414 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1131 DEBUG [2012-06-10 00:43:44,415 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1131 DEBUG [2012-06-10 00:43:44,415 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1132 DEBUG [2012-06-10 00:43:44,416 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1132 DEBUG [2012-06-10 00:43:44,416 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1137 DEBUG [2012-06-10 00:43:44,421 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1138 DEBUG [2012-06-10 00:43:44,422 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1139 DEBUG [2012-06-10 00:43:44,423 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1139 DEBUG [2012-06-10 00:43:44,423 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1140 DEBUG [2012-06-10 00:43:44,424 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1140 DEBUG [2012-06-10 00:43:44,424 main] jodd.db.DbSession#debug:36 - Closing db session
1141 INFO  [2012-06-10 00:43:44,425 main] c.b.r.install.DbInstaller#info:46 - Database created.
1141 INFO  [2012-06-10 00:43:44,425 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1163 DEBUG [2012-06-10 00:43:44,447 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1166 DEBUG [2012-06-10 00:43:44,450 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1183 DEBUG [2012-06-10 00:43:44,467 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1184 DEBUG [2012-06-10 00:43:44,468 main] jodd.db.DbSession#debug:36 - Creating new db session
1185 DEBUG [2012-06-10 00:43:44,469 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1291 DEBUG [2012-06-10 00:43:44,575 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1301 DEBUG [2012-06-10 00:43:44,585 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1301 DEBUG [2012-06-10 00:43:44,585 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1302 DEBUG [2012-06-10 00:43:44,586 main] jodd.db.DbSession#debug:36 - Closing db session
1303 DEBUG [2012-06-10 00:43:44,587 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1304 DEBUG [2012-06-10 00:43:44,588 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1305 DEBUG [2012-06-10 00:43:44,589 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1306 DEBUG [2012-06-10 00:43:44,590 main] jodd.db.DbSession#debug:36 - Creating new db session
1306 DEBUG [2012-06-10 00:43:44,590 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1369 DEBUG [2012-06-10 00:43:44,653 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1384 DEBUG [2012-06-10 00:43:44,668 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1385 DEBUG [2012-06-10 00:43:44,669 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1387 DEBUG [2012-06-10 00:43:44,671 main] jodd.db.DbSession#debug:36 - Closing db session
1387 DEBUG [2012-06-10 00:43:44,671 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1389 DEBUG [2012-06-10 00:43:44,673 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1391 DEBUG [2012-06-10 00:43:44,675 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1391 DEBUG [2012-06-10 00:43:44,675 main] jodd.db.DbSession#debug:36 - Creating new db session
1392 DEBUG [2012-06-10 00:43:44,676 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1454 DEBUG [2012-06-10 00:43:44,738 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1455 DEBUG [2012-06-10 00:43:44,739 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1455 DEBUG [2012-06-10 00:43:44,739 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1456 DEBUG [2012-06-10 00:43:44,740 main] jodd.db.DbSession#debug:36 - Closing db session
1459 DEBUG [2012-06-10 00:43:44,743 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1459 DEBUG [2012-06-10 00:43:44,743 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1460 DEBUG [2012-06-10 00:43:44,744 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1461 DEBUG [2012-06-10 00:43:44,745 main] jodd.db.DbSession#debug:36 - Creating new db session
1461 DEBUG [2012-06-10 00:43:44,745 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1463 DEBUG [2012-06-10 00:43:44,747 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1464 DEBUG [2012-06-10 00:43:44,748 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1464 DEBUG [2012-06-10 00:43:44,748 main] jodd.db.DbSession#debug:36 - Closing db session
195 INFO  [2012-06-10 00:44:00,679 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
202 INFO  [2012-06-10 00:44:00,686 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
203 INFO  [2012-06-10 00:44:00,687 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
208 INFO  [2012-06-10 00:44:00,692 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
215 DEBUG [2012-06-10 00:44:00,699 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
215 INFO  [2012-06-10 00:44:00,699 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
280 DEBUG [2012-06-10 00:44:00,764 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
291 DEBUG [2012-06-10 00:44:00,775 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
295 DEBUG [2012-06-10 00:44:00,779 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
295 DEBUG [2012-06-10 00:44:00,779 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
405 DEBUG [2012-06-10 00:44:00,889 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
414 DEBUG [2012-06-10 00:44:00,898 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
419 DEBUG [2012-06-10 00:44:00,903 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
421 DEBUG [2012-06-10 00:44:00,905 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
429 DEBUG [2012-06-10 00:44:00,913 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
431 DEBUG [2012-06-10 00:44:00,915 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
433 DEBUG [2012-06-10 00:44:00,917 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
434 DEBUG [2012-06-10 00:44:00,918 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
436 DEBUG [2012-06-10 00:44:00,920 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
437 DEBUG [2012-06-10 00:44:00,921 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
438 INFO  [2012-06-10 00:44:00,922 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 202 ms. Total beans: 7
508 DEBUG [2012-06-10 00:44:00,992 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
509 DEBUG [2012-06-10 00:44:00,993 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
543 INFO  [2012-06-10 00:44:01,027 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
546 DEBUG [2012-06-10 00:44:01,030 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
547 DEBUG [2012-06-10 00:44:01,031 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
552 INFO  [2012-06-10 00:44:01,036 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
887 DEBUG [2012-06-10 00:44:01,371 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
888 DEBUG [2012-06-10 00:44:01,372 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
998 INFO  [2012-06-10 00:44:01,482 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 97 ms. Total entities: 9
1004 DEBUG [2012-06-10 00:44:01,488 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1004 DEBUG [2012-06-10 00:44:01,488 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1004 DEBUG [2012-06-10 00:44:01,488 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1005 DEBUG [2012-06-10 00:44:01,489 main] jodd.db.DbSession#debug:36 - Creating new db session
1008 DEBUG [2012-06-10 00:44:01,492 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1011 DEBUG [2012-06-10 00:44:01,495 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1015 DEBUG [2012-06-10 00:44:01,499 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1015 DEBUG [2012-06-10 00:44:01,499 main] jodd.db.DbSession#debug:36 - Closing db session
1015 INFO  [2012-06-10 00:44:01,499 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1016 DEBUG [2012-06-10 00:44:01,500 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1018 DEBUG [2012-06-10 00:44:01,502 main] jodd.db.DbSession#debug:36 - Creating new db session
1018 DEBUG [2012-06-10 00:44:01,502 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1018 DEBUG [2012-06-10 00:44:01,502 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1019 DEBUG [2012-06-10 00:44:01,503 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1020 DEBUG [2012-06-10 00:44:01,504 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1020 DEBUG [2012-06-10 00:44:01,504 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1020 DEBUG [2012-06-10 00:44:01,504 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1021 DEBUG [2012-06-10 00:44:01,505 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1021 DEBUG [2012-06-10 00:44:01,505 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1022 DEBUG [2012-06-10 00:44:01,506 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1022 DEBUG [2012-06-10 00:44:01,506 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1023 DEBUG [2012-06-10 00:44:01,507 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1023 DEBUG [2012-06-10 00:44:01,507 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1024 DEBUG [2012-06-10 00:44:01,508 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1024 DEBUG [2012-06-10 00:44:01,508 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1024 DEBUG [2012-06-10 00:44:01,508 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1025 DEBUG [2012-06-10 00:44:01,509 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1025 DEBUG [2012-06-10 00:44:01,509 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1026 DEBUG [2012-06-10 00:44:01,510 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1026 DEBUG [2012-06-10 00:44:01,510 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1026 DEBUG [2012-06-10 00:44:01,510 main] jodd.db.DbSession#debug:36 - Closing db session
1027 INFO  [2012-06-10 00:44:01,511 main] c.b.r.install.DbInstaller#info:46 - Database reset
1027 INFO  [2012-06-10 00:44:01,511 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1028 DEBUG [2012-06-10 00:44:01,512 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1029 DEBUG [2012-06-10 00:44:01,513 main] jodd.db.DbSession#debug:36 - Creating new db session
1029 DEBUG [2012-06-10 00:44:01,513 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1030 DEBUG [2012-06-10 00:44:01,514 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1031 DEBUG [2012-06-10 00:44:01,515 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1031 DEBUG [2012-06-10 00:44:01,515 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1032 DEBUG [2012-06-10 00:44:01,516 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1032 DEBUG [2012-06-10 00:44:01,516 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1033 DEBUG [2012-06-10 00:44:01,517 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1034 DEBUG [2012-06-10 00:44:01,518 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1034 DEBUG [2012-06-10 00:44:01,518 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1035 DEBUG [2012-06-10 00:44:01,519 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1035 DEBUG [2012-06-10 00:44:01,519 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1035 DEBUG [2012-06-10 00:44:01,519 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1036 DEBUG [2012-06-10 00:44:01,520 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1036 DEBUG [2012-06-10 00:44:01,520 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1037 DEBUG [2012-06-10 00:44:01,521 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1037 DEBUG [2012-06-10 00:44:01,521 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1038 DEBUG [2012-06-10 00:44:01,522 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1038 DEBUG [2012-06-10 00:44:01,522 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1039 DEBUG [2012-06-10 00:44:01,523 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1040 DEBUG [2012-06-10 00:44:01,524 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1040 DEBUG [2012-06-10 00:44:01,524 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1040 DEBUG [2012-06-10 00:44:01,524 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1041 DEBUG [2012-06-10 00:44:01,525 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1041 DEBUG [2012-06-10 00:44:01,525 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1042 DEBUG [2012-06-10 00:44:01,526 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1042 DEBUG [2012-06-10 00:44:01,526 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1043 DEBUG [2012-06-10 00:44:01,527 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1043 DEBUG [2012-06-10 00:44:01,527 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1044 DEBUG [2012-06-10 00:44:01,528 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1044 DEBUG [2012-06-10 00:44:01,528 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1045 DEBUG [2012-06-10 00:44:01,529 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1045 DEBUG [2012-06-10 00:44:01,529 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1046 DEBUG [2012-06-10 00:44:01,530 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1046 DEBUG [2012-06-10 00:44:01,530 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1047 DEBUG [2012-06-10 00:44:01,531 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1047 DEBUG [2012-06-10 00:44:01,531 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1048 DEBUG [2012-06-10 00:44:01,532 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1048 DEBUG [2012-06-10 00:44:01,532 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1049 DEBUG [2012-06-10 00:44:01,533 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1052 DEBUG [2012-06-10 00:44:01,536 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1054 DEBUG [2012-06-10 00:44:01,538 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1054 DEBUG [2012-06-10 00:44:01,538 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1055 DEBUG [2012-06-10 00:44:01,539 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1055 DEBUG [2012-06-10 00:44:01,539 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1056 DEBUG [2012-06-10 00:44:01,540 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1056 DEBUG [2012-06-10 00:44:01,540 main] jodd.db.DbSession#debug:36 - Closing db session
1056 INFO  [2012-06-10 00:44:01,540 main] c.b.r.install.DbInstaller#info:46 - Database created.
1057 INFO  [2012-06-10 00:44:01,541 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1069 DEBUG [2012-06-10 00:44:01,553 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1071 DEBUG [2012-06-10 00:44:01,555 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1089 DEBUG [2012-06-10 00:44:01,573 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1090 DEBUG [2012-06-10 00:44:01,574 main] jodd.db.DbSession#debug:36 - Creating new db session
1090 DEBUG [2012-06-10 00:44:01,574 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1187 DEBUG [2012-06-10 00:44:01,671 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1190 DEBUG [2012-06-10 00:44:01,674 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1190 DEBUG [2012-06-10 00:44:01,674 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1190 DEBUG [2012-06-10 00:44:01,674 main] jodd.db.DbSession#debug:36 - Closing db session
1191 DEBUG [2012-06-10 00:44:01,675 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1192 DEBUG [2012-06-10 00:44:01,676 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1193 DEBUG [2012-06-10 00:44:01,677 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1193 DEBUG [2012-06-10 00:44:01,677 main] jodd.db.DbSession#debug:36 - Creating new db session
1193 DEBUG [2012-06-10 00:44:01,677 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1257 DEBUG [2012-06-10 00:44:01,741 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1257 DEBUG [2012-06-10 00:44:01,741 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1258 DEBUG [2012-06-10 00:44:01,742 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1258 DEBUG [2012-06-10 00:44:01,742 main] jodd.db.DbSession#debug:36 - Closing db session
1259 DEBUG [2012-06-10 00:44:01,743 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1259 DEBUG [2012-06-10 00:44:01,743 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1260 DEBUG [2012-06-10 00:44:01,744 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1260 DEBUG [2012-06-10 00:44:01,744 main] jodd.db.DbSession#debug:36 - Creating new db session
1261 DEBUG [2012-06-10 00:44:01,745 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1348 DEBUG [2012-06-10 00:44:01,832 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1349 DEBUG [2012-06-10 00:44:01,833 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1349 DEBUG [2012-06-10 00:44:01,833 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1350 DEBUG [2012-06-10 00:44:01,834 main] jodd.db.DbSession#debug:36 - Closing db session
1352 DEBUG [2012-06-10 00:44:01,836 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1353 DEBUG [2012-06-10 00:44:01,837 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1354 DEBUG [2012-06-10 00:44:01,838 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1354 DEBUG [2012-06-10 00:44:01,838 main] jodd.db.DbSession#debug:36 - Creating new db session
1354 DEBUG [2012-06-10 00:44:01,838 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1356 DEBUG [2012-06-10 00:44:01,840 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1357 DEBUG [2012-06-10 00:44:01,841 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1357 DEBUG [2012-06-10 00:44:01,841 main] jodd.db.DbSession#debug:36 - Closing db session
203 INFO  [2012-06-10 00:44:09,704 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
208 INFO  [2012-06-10 00:44:09,709 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
208 INFO  [2012-06-10 00:44:09,709 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
213 INFO  [2012-06-10 00:44:09,714 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
220 DEBUG [2012-06-10 00:44:09,721 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
220 INFO  [2012-06-10 00:44:09,721 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
284 DEBUG [2012-06-10 00:44:09,785 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
295 DEBUG [2012-06-10 00:44:09,796 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
298 DEBUG [2012-06-10 00:44:09,799 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
299 DEBUG [2012-06-10 00:44:09,800 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
393 DEBUG [2012-06-10 00:44:09,894 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
401 DEBUG [2012-06-10 00:44:09,902 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
406 DEBUG [2012-06-10 00:44:09,907 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
409 DEBUG [2012-06-10 00:44:09,910 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
418 DEBUG [2012-06-10 00:44:09,919 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
419 DEBUG [2012-06-10 00:44:09,920 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
421 DEBUG [2012-06-10 00:44:09,922 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
421 DEBUG [2012-06-10 00:44:09,922 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
423 DEBUG [2012-06-10 00:44:09,924 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
424 DEBUG [2012-06-10 00:44:09,925 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
424 INFO  [2012-06-10 00:44:09,925 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 182 ms. Total beans: 7
486 DEBUG [2012-06-10 00:44:09,987 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
487 DEBUG [2012-06-10 00:44:09,988 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
538 INFO  [2012-06-10 00:44:10,039 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
543 DEBUG [2012-06-10 00:44:10,044 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
551 DEBUG [2012-06-10 00:44:10,052 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
557 INFO  [2012-06-10 00:44:10,058 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
948 DEBUG [2012-06-10 00:44:10,449 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
949 DEBUG [2012-06-10 00:44:10,450 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1095 INFO  [2012-06-10 00:44:10,596 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 112 ms. Total entities: 9
1101 DEBUG [2012-06-10 00:44:10,602 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1102 DEBUG [2012-06-10 00:44:10,603 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1102 DEBUG [2012-06-10 00:44:10,603 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1103 DEBUG [2012-06-10 00:44:10,604 main] jodd.db.DbSession#debug:36 - Creating new db session
1106 DEBUG [2012-06-10 00:44:10,607 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1109 DEBUG [2012-06-10 00:44:10,610 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1113 DEBUG [2012-06-10 00:44:10,614 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1114 DEBUG [2012-06-10 00:44:10,615 main] jodd.db.DbSession#debug:36 - Closing db session
1115 INFO  [2012-06-10 00:44:10,616 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1115 DEBUG [2012-06-10 00:44:10,616 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1117 DEBUG [2012-06-10 00:44:10,618 main] jodd.db.DbSession#debug:36 - Creating new db session
1118 DEBUG [2012-06-10 00:44:10,619 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1118 DEBUG [2012-06-10 00:44:10,619 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1119 DEBUG [2012-06-10 00:44:10,620 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1119 DEBUG [2012-06-10 00:44:10,620 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1120 DEBUG [2012-06-10 00:44:10,621 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1120 DEBUG [2012-06-10 00:44:10,621 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1121 DEBUG [2012-06-10 00:44:10,622 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1122 DEBUG [2012-06-10 00:44:10,623 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1122 DEBUG [2012-06-10 00:44:10,623 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1123 DEBUG [2012-06-10 00:44:10,624 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1123 DEBUG [2012-06-10 00:44:10,624 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1124 DEBUG [2012-06-10 00:44:10,625 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1124 DEBUG [2012-06-10 00:44:10,625 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1125 DEBUG [2012-06-10 00:44:10,626 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1125 DEBUG [2012-06-10 00:44:10,626 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1126 DEBUG [2012-06-10 00:44:10,627 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1126 DEBUG [2012-06-10 00:44:10,627 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1127 DEBUG [2012-06-10 00:44:10,628 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1127 DEBUG [2012-06-10 00:44:10,628 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1128 DEBUG [2012-06-10 00:44:10,629 main] jodd.db.DbSession#debug:36 - Closing db session
1128 INFO  [2012-06-10 00:44:10,629 main] c.b.r.install.DbInstaller#info:46 - Database reset
1129 INFO  [2012-06-10 00:44:10,630 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1129 DEBUG [2012-06-10 00:44:10,630 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1133 DEBUG [2012-06-10 00:44:10,634 main] jodd.db.DbSession#debug:36 - Creating new db session
1134 DEBUG [2012-06-10 00:44:10,635 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1135 DEBUG [2012-06-10 00:44:10,636 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1136 DEBUG [2012-06-10 00:44:10,637 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1136 DEBUG [2012-06-10 00:44:10,637 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1137 DEBUG [2012-06-10 00:44:10,638 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1137 DEBUG [2012-06-10 00:44:10,638 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1142 DEBUG [2012-06-10 00:44:10,643 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1143 DEBUG [2012-06-10 00:44:10,644 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1143 DEBUG [2012-06-10 00:44:10,644 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1144 DEBUG [2012-06-10 00:44:10,645 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1144 DEBUG [2012-06-10 00:44:10,645 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1145 DEBUG [2012-06-10 00:44:10,646 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1145 DEBUG [2012-06-10 00:44:10,646 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1146 DEBUG [2012-06-10 00:44:10,647 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1148 DEBUG [2012-06-10 00:44:10,649 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1148 DEBUG [2012-06-10 00:44:10,649 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1149 DEBUG [2012-06-10 00:44:10,650 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1149 DEBUG [2012-06-10 00:44:10,650 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1150 DEBUG [2012-06-10 00:44:10,651 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1151 DEBUG [2012-06-10 00:44:10,652 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1151 DEBUG [2012-06-10 00:44:10,652 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1152 DEBUG [2012-06-10 00:44:10,653 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1152 DEBUG [2012-06-10 00:44:10,653 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1153 DEBUG [2012-06-10 00:44:10,654 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1154 DEBUG [2012-06-10 00:44:10,655 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1154 DEBUG [2012-06-10 00:44:10,655 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1156 DEBUG [2012-06-10 00:44:10,657 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1156 DEBUG [2012-06-10 00:44:10,657 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1157 DEBUG [2012-06-10 00:44:10,658 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1157 DEBUG [2012-06-10 00:44:10,658 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1158 DEBUG [2012-06-10 00:44:10,659 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1159 DEBUG [2012-06-10 00:44:10,660 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1159 DEBUG [2012-06-10 00:44:10,660 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1160 DEBUG [2012-06-10 00:44:10,661 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1160 DEBUG [2012-06-10 00:44:10,661 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1161 DEBUG [2012-06-10 00:44:10,662 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1161 DEBUG [2012-06-10 00:44:10,662 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1162 DEBUG [2012-06-10 00:44:10,663 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1162 DEBUG [2012-06-10 00:44:10,663 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1163 DEBUG [2012-06-10 00:44:10,664 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1164 DEBUG [2012-06-10 00:44:10,665 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1164 DEBUG [2012-06-10 00:44:10,665 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1165 DEBUG [2012-06-10 00:44:10,666 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1165 DEBUG [2012-06-10 00:44:10,666 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1166 DEBUG [2012-06-10 00:44:10,667 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1166 DEBUG [2012-06-10 00:44:10,667 main] jodd.db.DbSession#debug:36 - Closing db session
1167 INFO  [2012-06-10 00:44:10,668 main] c.b.r.install.DbInstaller#info:46 - Database created.
1167 INFO  [2012-06-10 00:44:10,668 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1179 DEBUG [2012-06-10 00:44:10,680 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1183 DEBUG [2012-06-10 00:44:10,684 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1208 DEBUG [2012-06-10 00:44:10,709 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1211 DEBUG [2012-06-10 00:44:10,712 main] jodd.db.DbSession#debug:36 - Creating new db session
1211 DEBUG [2012-06-10 00:44:10,712 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1325 DEBUG [2012-06-10 00:44:10,826 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1337 DEBUG [2012-06-10 00:44:10,838 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1338 DEBUG [2012-06-10 00:44:10,839 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1339 DEBUG [2012-06-10 00:44:10,840 main] jodd.db.DbSession#debug:36 - Closing db session
1340 DEBUG [2012-06-10 00:44:10,841 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1340 DEBUG [2012-06-10 00:44:10,841 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1342 DEBUG [2012-06-10 00:44:10,843 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1342 DEBUG [2012-06-10 00:44:10,843 main] jodd.db.DbSession#debug:36 - Creating new db session
1342 DEBUG [2012-06-10 00:44:10,843 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1440 DEBUG [2012-06-10 00:44:10,941 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1448 DEBUG [2012-06-10 00:44:10,949 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1448 DEBUG [2012-06-10 00:44:10,949 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1449 DEBUG [2012-06-10 00:44:10,950 main] jodd.db.DbSession#debug:36 - Closing db session
1449 DEBUG [2012-06-10 00:44:10,950 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1450 DEBUG [2012-06-10 00:44:10,951 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1451 DEBUG [2012-06-10 00:44:10,952 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1452 DEBUG [2012-06-10 00:44:10,953 main] jodd.db.DbSession#debug:36 - Creating new db session
1452 DEBUG [2012-06-10 00:44:10,953 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1559 DEBUG [2012-06-10 00:44:11,060 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1571 DEBUG [2012-06-10 00:44:11,072 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1572 DEBUG [2012-06-10 00:44:11,073 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1572 DEBUG [2012-06-10 00:44:11,073 main] jodd.db.DbSession#debug:36 - Closing db session
1575 DEBUG [2012-06-10 00:44:11,076 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1576 DEBUG [2012-06-10 00:44:11,077 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1577 DEBUG [2012-06-10 00:44:11,078 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1587 DEBUG [2012-06-10 00:44:11,088 main] jodd.db.DbSession#debug:36 - Creating new db session
1588 DEBUG [2012-06-10 00:44:11,089 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1590 DEBUG [2012-06-10 00:44:11,091 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1591 DEBUG [2012-06-10 00:44:11,092 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1591 DEBUG [2012-06-10 00:44:11,092 main] jodd.db.DbSession#debug:36 - Closing db session
196 INFO  [2012-06-10 00:44:46,034 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
202 INFO  [2012-06-10 00:44:46,040 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
203 INFO  [2012-06-10 00:44:46,041 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
208 INFO  [2012-06-10 00:44:46,046 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
214 DEBUG [2012-06-10 00:44:46,052 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
215 INFO  [2012-06-10 00:44:46,053 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
276 DEBUG [2012-06-10 00:44:46,114 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
287 DEBUG [2012-06-10 00:44:46,125 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
290 DEBUG [2012-06-10 00:44:46,128 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
291 DEBUG [2012-06-10 00:44:46,129 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
391 DEBUG [2012-06-10 00:44:46,229 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
399 DEBUG [2012-06-10 00:44:46,237 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
402 DEBUG [2012-06-10 00:44:46,240 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
405 DEBUG [2012-06-10 00:44:46,243 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
411 DEBUG [2012-06-10 00:44:46,249 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
412 DEBUG [2012-06-10 00:44:46,250 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
415 DEBUG [2012-06-10 00:44:46,253 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
416 DEBUG [2012-06-10 00:44:46,254 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
418 DEBUG [2012-06-10 00:44:46,256 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
419 DEBUG [2012-06-10 00:44:46,257 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
420 INFO  [2012-06-10 00:44:46,258 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 185 ms. Total beans: 7
496 DEBUG [2012-06-10 00:44:46,334 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
506 DEBUG [2012-06-10 00:44:46,344 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
554 INFO  [2012-06-10 00:44:46,392 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
556 DEBUG [2012-06-10 00:44:46,394 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
557 DEBUG [2012-06-10 00:44:46,395 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
562 INFO  [2012-06-10 00:44:46,400 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
900 DEBUG [2012-06-10 00:44:46,738 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
901 DEBUG [2012-06-10 00:44:46,739 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1030 INFO  [2012-06-10 00:44:46,868 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 107 ms. Total entities: 9
1035 DEBUG [2012-06-10 00:44:46,873 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1035 DEBUG [2012-06-10 00:44:46,873 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1035 DEBUG [2012-06-10 00:44:46,873 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1036 DEBUG [2012-06-10 00:44:46,874 main] jodd.db.DbSession#debug:36 - Creating new db session
1039 DEBUG [2012-06-10 00:44:46,877 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1041 DEBUG [2012-06-10 00:44:46,879 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1045 DEBUG [2012-06-10 00:44:46,883 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1045 DEBUG [2012-06-10 00:44:46,883 main] jodd.db.DbSession#debug:36 - Closing db session
1046 INFO  [2012-06-10 00:44:46,884 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1046 DEBUG [2012-06-10 00:44:46,884 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1048 DEBUG [2012-06-10 00:44:46,886 main] jodd.db.DbSession#debug:36 - Creating new db session
1048 DEBUG [2012-06-10 00:44:46,886 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1048 DEBUG [2012-06-10 00:44:46,886 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1049 DEBUG [2012-06-10 00:44:46,887 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1049 DEBUG [2012-06-10 00:44:46,887 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1050 DEBUG [2012-06-10 00:44:46,888 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1050 DEBUG [2012-06-10 00:44:46,888 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1051 DEBUG [2012-06-10 00:44:46,889 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1051 DEBUG [2012-06-10 00:44:46,889 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1051 DEBUG [2012-06-10 00:44:46,889 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1052 DEBUG [2012-06-10 00:44:46,890 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1052 DEBUG [2012-06-10 00:44:46,890 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1052 DEBUG [2012-06-10 00:44:46,890 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1053 DEBUG [2012-06-10 00:44:46,891 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1053 DEBUG [2012-06-10 00:44:46,891 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1054 DEBUG [2012-06-10 00:44:46,892 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1054 DEBUG [2012-06-10 00:44:46,892 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1054 DEBUG [2012-06-10 00:44:46,892 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1055 DEBUG [2012-06-10 00:44:46,893 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1055 DEBUG [2012-06-10 00:44:46,893 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1055 DEBUG [2012-06-10 00:44:46,893 main] jodd.db.DbSession#debug:36 - Closing db session
1056 INFO  [2012-06-10 00:44:46,894 main] c.b.r.install.DbInstaller#info:46 - Database reset
1056 INFO  [2012-06-10 00:44:46,894 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1056 DEBUG [2012-06-10 00:44:46,894 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1057 DEBUG [2012-06-10 00:44:46,895 main] jodd.db.DbSession#debug:36 - Creating new db session
1058 DEBUG [2012-06-10 00:44:46,896 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1058 DEBUG [2012-06-10 00:44:46,896 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1059 DEBUG [2012-06-10 00:44:46,897 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1060 DEBUG [2012-06-10 00:44:46,898 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1060 DEBUG [2012-06-10 00:44:46,898 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1060 DEBUG [2012-06-10 00:44:46,898 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1062 DEBUG [2012-06-10 00:44:46,900 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1062 DEBUG [2012-06-10 00:44:46,900 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1062 DEBUG [2012-06-10 00:44:46,900 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1063 DEBUG [2012-06-10 00:44:46,901 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1063 DEBUG [2012-06-10 00:44:46,901 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1063 DEBUG [2012-06-10 00:44:46,901 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1064 DEBUG [2012-06-10 00:44:46,902 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1064 DEBUG [2012-06-10 00:44:46,902 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1065 DEBUG [2012-06-10 00:44:46,903 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1065 DEBUG [2012-06-10 00:44:46,903 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1066 DEBUG [2012-06-10 00:44:46,904 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1066 DEBUG [2012-06-10 00:44:46,904 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1067 DEBUG [2012-06-10 00:44:46,905 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1067 DEBUG [2012-06-10 00:44:46,905 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1068 DEBUG [2012-06-10 00:44:46,906 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1068 DEBUG [2012-06-10 00:44:46,906 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1068 DEBUG [2012-06-10 00:44:46,906 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1069 DEBUG [2012-06-10 00:44:46,907 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1069 DEBUG [2012-06-10 00:44:46,907 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1070 DEBUG [2012-06-10 00:44:46,908 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1070 DEBUG [2012-06-10 00:44:46,908 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1071 DEBUG [2012-06-10 00:44:46,909 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1071 DEBUG [2012-06-10 00:44:46,909 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1072 DEBUG [2012-06-10 00:44:46,910 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1072 DEBUG [2012-06-10 00:44:46,910 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1073 DEBUG [2012-06-10 00:44:46,911 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1073 DEBUG [2012-06-10 00:44:46,911 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1073 DEBUG [2012-06-10 00:44:46,911 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1074 DEBUG [2012-06-10 00:44:46,912 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1074 DEBUG [2012-06-10 00:44:46,912 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1075 DEBUG [2012-06-10 00:44:46,913 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1075 DEBUG [2012-06-10 00:44:46,913 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1076 DEBUG [2012-06-10 00:44:46,914 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1076 DEBUG [2012-06-10 00:44:46,914 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1077 DEBUG [2012-06-10 00:44:46,915 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1078 DEBUG [2012-06-10 00:44:46,916 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1078 DEBUG [2012-06-10 00:44:46,916 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1078 DEBUG [2012-06-10 00:44:46,916 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1079 DEBUG [2012-06-10 00:44:46,917 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1079 DEBUG [2012-06-10 00:44:46,917 main] jodd.db.DbSession#debug:36 - Closing db session
1080 INFO  [2012-06-10 00:44:46,918 main] c.b.r.install.DbInstaller#info:46 - Database created.
1080 INFO  [2012-06-10 00:44:46,918 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1091 DEBUG [2012-06-10 00:44:46,929 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1093 DEBUG [2012-06-10 00:44:46,931 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1109 DEBUG [2012-06-10 00:44:46,947 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1110 DEBUG [2012-06-10 00:44:46,948 main] jodd.db.DbSession#debug:36 - Creating new db session
1111 DEBUG [2012-06-10 00:44:46,949 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1197 DEBUG [2012-06-10 00:44:47,035 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1199 DEBUG [2012-06-10 00:44:47,037 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1200 DEBUG [2012-06-10 00:44:47,038 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1200 DEBUG [2012-06-10 00:44:47,038 main] jodd.db.DbSession#debug:36 - Closing db session
1201 DEBUG [2012-06-10 00:44:47,039 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1201 DEBUG [2012-06-10 00:44:47,039 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1202 DEBUG [2012-06-10 00:44:47,040 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1202 DEBUG [2012-06-10 00:44:47,040 main] jodd.db.DbSession#debug:36 - Creating new db session
1202 DEBUG [2012-06-10 00:44:47,040 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1261 DEBUG [2012-06-10 00:44:47,099 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1271 DEBUG [2012-06-10 00:44:47,109 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1272 DEBUG [2012-06-10 00:44:47,110 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1272 DEBUG [2012-06-10 00:44:47,110 main] jodd.db.DbSession#debug:36 - Closing db session
1273 DEBUG [2012-06-10 00:44:47,111 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1273 DEBUG [2012-06-10 00:44:47,111 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1274 DEBUG [2012-06-10 00:44:47,112 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1274 DEBUG [2012-06-10 00:44:47,112 main] jodd.db.DbSession#debug:36 - Creating new db session
1275 DEBUG [2012-06-10 00:44:47,113 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1398 DEBUG [2012-06-10 00:44:47,236 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1399 DEBUG [2012-06-10 00:44:47,237 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1399 DEBUG [2012-06-10 00:44:47,237 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1399 DEBUG [2012-06-10 00:44:47,237 main] jodd.db.DbSession#debug:36 - Closing db session
1402 DEBUG [2012-06-10 00:44:47,240 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1403 DEBUG [2012-06-10 00:44:47,241 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1404 DEBUG [2012-06-10 00:44:47,242 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1404 DEBUG [2012-06-10 00:44:47,242 main] jodd.db.DbSession#debug:36 - Creating new db session
1404 DEBUG [2012-06-10 00:44:47,242 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1413 DEBUG [2012-06-10 00:44:47,251 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1414 DEBUG [2012-06-10 00:44:47,252 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1415 DEBUG [2012-06-10 00:44:47,253 main] jodd.db.DbSession#debug:36 - Closing db session
205 INFO  [2012-06-10 00:45:08,050 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
213 INFO  [2012-06-10 00:45:08,058 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
213 INFO  [2012-06-10 00:45:08,058 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
218 INFO  [2012-06-10 00:45:08,063 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
225 DEBUG [2012-06-10 00:45:08,070 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
226 INFO  [2012-06-10 00:45:08,071 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
291 DEBUG [2012-06-10 00:45:08,136 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
302 DEBUG [2012-06-10 00:45:08,147 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
305 DEBUG [2012-06-10 00:45:08,150 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
306 DEBUG [2012-06-10 00:45:08,151 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
405 DEBUG [2012-06-10 00:45:08,250 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
412 DEBUG [2012-06-10 00:45:08,257 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
423 DEBUG [2012-06-10 00:45:08,268 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
426 DEBUG [2012-06-10 00:45:08,271 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
436 DEBUG [2012-06-10 00:45:08,281 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
437 DEBUG [2012-06-10 00:45:08,282 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
440 DEBUG [2012-06-10 00:45:08,285 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
441 DEBUG [2012-06-10 00:45:08,286 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
443 DEBUG [2012-06-10 00:45:08,288 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
444 DEBUG [2012-06-10 00:45:08,289 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
445 INFO  [2012-06-10 00:45:08,290 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 197 ms. Total beans: 7
543 DEBUG [2012-06-10 00:45:08,388 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
545 DEBUG [2012-06-10 00:45:08,390 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
591 INFO  [2012-06-10 00:45:08,436 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
594 DEBUG [2012-06-10 00:45:08,439 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
595 DEBUG [2012-06-10 00:45:08,440 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
601 INFO  [2012-06-10 00:45:08,446 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
959 DEBUG [2012-06-10 00:45:08,804 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
960 DEBUG [2012-06-10 00:45:08,805 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1088 INFO  [2012-06-10 00:45:08,933 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 115 ms. Total entities: 9
1094 DEBUG [2012-06-10 00:45:08,939 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1095 DEBUG [2012-06-10 00:45:08,940 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1095 DEBUG [2012-06-10 00:45:08,940 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1096 DEBUG [2012-06-10 00:45:08,941 main] jodd.db.DbSession#debug:36 - Creating new db session
1100 DEBUG [2012-06-10 00:45:08,945 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1103 DEBUG [2012-06-10 00:45:08,948 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1107 DEBUG [2012-06-10 00:45:08,952 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1108 DEBUG [2012-06-10 00:45:08,953 main] jodd.db.DbSession#debug:36 - Closing db session
1108 INFO  [2012-06-10 00:45:08,953 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1108 DEBUG [2012-06-10 00:45:08,953 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1110 DEBUG [2012-06-10 00:45:08,955 main] jodd.db.DbSession#debug:36 - Creating new db session
1110 DEBUG [2012-06-10 00:45:08,955 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1111 DEBUG [2012-06-10 00:45:08,956 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1111 DEBUG [2012-06-10 00:45:08,956 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1112 DEBUG [2012-06-10 00:45:08,957 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1112 DEBUG [2012-06-10 00:45:08,957 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1113 DEBUG [2012-06-10 00:45:08,958 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1113 DEBUG [2012-06-10 00:45:08,958 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1113 DEBUG [2012-06-10 00:45:08,958 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1114 DEBUG [2012-06-10 00:45:08,959 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1114 DEBUG [2012-06-10 00:45:08,959 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1115 DEBUG [2012-06-10 00:45:08,960 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1115 DEBUG [2012-06-10 00:45:08,960 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1116 DEBUG [2012-06-10 00:45:08,961 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1116 DEBUG [2012-06-10 00:45:08,961 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1116 DEBUG [2012-06-10 00:45:08,961 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1117 DEBUG [2012-06-10 00:45:08,962 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1117 DEBUG [2012-06-10 00:45:08,962 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1118 DEBUG [2012-06-10 00:45:08,963 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1118 DEBUG [2012-06-10 00:45:08,963 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1118 DEBUG [2012-06-10 00:45:08,963 main] jodd.db.DbSession#debug:36 - Closing db session
1119 INFO  [2012-06-10 00:45:08,964 main] c.b.r.install.DbInstaller#info:46 - Database reset
1119 INFO  [2012-06-10 00:45:08,964 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1119 DEBUG [2012-06-10 00:45:08,964 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1121 DEBUG [2012-06-10 00:45:08,966 main] jodd.db.DbSession#debug:36 - Creating new db session
1121 DEBUG [2012-06-10 00:45:08,966 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1121 DEBUG [2012-06-10 00:45:08,966 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1122 DEBUG [2012-06-10 00:45:08,967 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1123 DEBUG [2012-06-10 00:45:08,968 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1123 DEBUG [2012-06-10 00:45:08,968 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1124 DEBUG [2012-06-10 00:45:08,969 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1125 DEBUG [2012-06-10 00:45:08,970 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1125 DEBUG [2012-06-10 00:45:08,970 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1126 DEBUG [2012-06-10 00:45:08,971 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1126 DEBUG [2012-06-10 00:45:08,971 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1126 DEBUG [2012-06-10 00:45:08,971 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1127 DEBUG [2012-06-10 00:45:08,972 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1127 DEBUG [2012-06-10 00:45:08,972 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1128 DEBUG [2012-06-10 00:45:08,973 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1128 DEBUG [2012-06-10 00:45:08,973 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1128 DEBUG [2012-06-10 00:45:08,973 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1129 DEBUG [2012-06-10 00:45:08,974 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1129 DEBUG [2012-06-10 00:45:08,974 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, serverstatus INT ) 
1130 DEBUG [2012-06-10 00:45:08,975 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1131 DEBUG [2012-06-10 00:45:08,976 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1131 DEBUG [2012-06-10 00:45:08,976 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1132 DEBUG [2012-06-10 00:45:08,977 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1132 DEBUG [2012-06-10 00:45:08,977 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1132 DEBUG [2012-06-10 00:45:08,977 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1133 DEBUG [2012-06-10 00:45:08,978 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1134 DEBUG [2012-06-10 00:45:08,979 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1134 DEBUG [2012-06-10 00:45:08,979 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1135 DEBUG [2012-06-10 00:45:08,980 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1135 DEBUG [2012-06-10 00:45:08,980 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1136 DEBUG [2012-06-10 00:45:08,981 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1136 DEBUG [2012-06-10 00:45:08,981 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1137 DEBUG [2012-06-10 00:45:08,982 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1137 DEBUG [2012-06-10 00:45:08,982 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1137 DEBUG [2012-06-10 00:45:08,982 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1138 DEBUG [2012-06-10 00:45:08,983 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1139 DEBUG [2012-06-10 00:45:08,984 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1139 DEBUG [2012-06-10 00:45:08,984 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1139 DEBUG [2012-06-10 00:45:08,984 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1140 DEBUG [2012-06-10 00:45:08,985 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1141 DEBUG [2012-06-10 00:45:08,986 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1143 DEBUG [2012-06-10 00:45:08,988 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1143 DEBUG [2012-06-10 00:45:08,988 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1144 DEBUG [2012-06-10 00:45:08,989 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1144 DEBUG [2012-06-10 00:45:08,989 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1145 DEBUG [2012-06-10 00:45:08,990 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1145 DEBUG [2012-06-10 00:45:08,990 main] jodd.db.DbSession#debug:36 - Closing db session
1146 INFO  [2012-06-10 00:45:08,991 main] c.b.r.install.DbInstaller#info:46 - Database created.
1146 INFO  [2012-06-10 00:45:08,991 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1161 DEBUG [2012-06-10 00:45:09,006 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1162 DEBUG [2012-06-10 00:45:09,007 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1179 DEBUG [2012-06-10 00:45:09,024 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1180 DEBUG [2012-06-10 00:45:09,025 main] jodd.db.DbSession#debug:36 - Creating new db session
1181 DEBUG [2012-06-10 00:45:09,026 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1265 DEBUG [2012-06-10 00:45:09,110 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1268 DEBUG [2012-06-10 00:45:09,113 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1269 DEBUG [2012-06-10 00:45:09,114 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1269 DEBUG [2012-06-10 00:45:09,114 main] jodd.db.DbSession#debug:36 - Closing db session
1270 DEBUG [2012-06-10 00:45:09,115 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1271 DEBUG [2012-06-10 00:45:09,116 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1272 DEBUG [2012-06-10 00:45:09,117 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1273 DEBUG [2012-06-10 00:45:09,118 main] jodd.db.DbSession#debug:36 - Creating new db session
1273 DEBUG [2012-06-10 00:45:09,118 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1351 DEBUG [2012-06-10 00:45:09,196 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1353 DEBUG [2012-06-10 00:45:09,198 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1354 DEBUG [2012-06-10 00:45:09,199 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1354 DEBUG [2012-06-10 00:45:09,199 main] jodd.db.DbSession#debug:36 - Closing db session
1355 DEBUG [2012-06-10 00:45:09,200 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1355 DEBUG [2012-06-10 00:45:09,200 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1356 DEBUG [2012-06-10 00:45:09,201 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1357 DEBUG [2012-06-10 00:45:09,202 main] jodd.db.DbSession#debug:36 - Creating new db session
1357 DEBUG [2012-06-10 00:45:09,202 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1461 DEBUG [2012-06-10 00:45:09,306 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1471 DEBUG [2012-06-10 00:45:09,316 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1471 DEBUG [2012-06-10 00:45:09,316 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1472 DEBUG [2012-06-10 00:45:09,317 main] jodd.db.DbSession#debug:36 - Closing db session
1475 DEBUG [2012-06-10 00:45:09,320 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1483 DEBUG [2012-06-10 00:45:09,328 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1484 DEBUG [2012-06-10 00:45:09,329 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1485 DEBUG [2012-06-10 00:45:09,330 main] jodd.db.DbSession#debug:36 - Creating new db session
1485 DEBUG [2012-06-10 00:45:09,330 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1488 DEBUG [2012-06-10 00:45:09,333 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - rollback tx
1488 DEBUG [2012-06-10 00:45:09,333 main] jodd.jtx.JtxTransaction#debug:36 - Rollback JTX
1489 DEBUG [2012-06-10 00:45:09,334 main] jodd.db.DbSession#debug:36 - Closing db session
206 INFO  [2012-06-10 00:45:28,157 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
214 INFO  [2012-06-10 00:45:28,165 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
214 INFO  [2012-06-10 00:45:28,165 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
220 INFO  [2012-06-10 00:45:28,171 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
227 DEBUG [2012-06-10 00:45:28,178 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
228 INFO  [2012-06-10 00:45:28,179 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
292 DEBUG [2012-06-10 00:45:28,243 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
303 DEBUG [2012-06-10 00:45:28,254 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
307 DEBUG [2012-06-10 00:45:28,258 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
308 DEBUG [2012-06-10 00:45:28,259 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
420 DEBUG [2012-06-10 00:45:28,371 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
427 DEBUG [2012-06-10 00:45:28,378 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
430 DEBUG [2012-06-10 00:45:28,381 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
432 DEBUG [2012-06-10 00:45:28,383 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
435 DEBUG [2012-06-10 00:45:28,386 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
436 DEBUG [2012-06-10 00:45:28,387 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
438 DEBUG [2012-06-10 00:45:28,389 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
439 DEBUG [2012-06-10 00:45:28,390 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
441 DEBUG [2012-06-10 00:45:28,392 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
441 DEBUG [2012-06-10 00:45:28,392 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
442 INFO  [2012-06-10 00:45:28,393 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 192 ms. Total beans: 7
528 DEBUG [2012-06-10 00:45:28,479 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
538 DEBUG [2012-06-10 00:45:28,489 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
589 INFO  [2012-06-10 00:45:28,540 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
592 DEBUG [2012-06-10 00:45:28,543 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
592 DEBUG [2012-06-10 00:45:28,543 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
599 INFO  [2012-06-10 00:45:28,550 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
937 DEBUG [2012-06-10 00:45:28,888 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
938 DEBUG [2012-06-10 00:45:28,889 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1068 INFO  [2012-06-10 00:45:29,019 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 116 ms. Total entities: 9
1074 DEBUG [2012-06-10 00:45:29,025 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1074 DEBUG [2012-06-10 00:45:29,025 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1074 DEBUG [2012-06-10 00:45:29,025 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1075 DEBUG [2012-06-10 00:45:29,026 main] jodd.db.DbSession#debug:36 - Creating new db session
1081 DEBUG [2012-06-10 00:45:29,032 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1083 DEBUG [2012-06-10 00:45:29,034 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1087 DEBUG [2012-06-10 00:45:29,038 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1088 DEBUG [2012-06-10 00:45:29,039 main] jodd.db.DbSession#debug:36 - Closing db session
1088 INFO  [2012-06-10 00:45:29,039 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1088 DEBUG [2012-06-10 00:45:29,039 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1090 DEBUG [2012-06-10 00:45:29,041 main] jodd.db.DbSession#debug:36 - Creating new db session
1091 DEBUG [2012-06-10 00:45:29,042 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1091 DEBUG [2012-06-10 00:45:29,042 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1092 DEBUG [2012-06-10 00:45:29,043 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1092 DEBUG [2012-06-10 00:45:29,043 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1093 DEBUG [2012-06-10 00:45:29,044 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1093 DEBUG [2012-06-10 00:45:29,044 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1093 DEBUG [2012-06-10 00:45:29,044 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1094 DEBUG [2012-06-10 00:45:29,045 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1094 DEBUG [2012-06-10 00:45:29,045 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1094 DEBUG [2012-06-10 00:45:29,045 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1095 DEBUG [2012-06-10 00:45:29,046 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1095 DEBUG [2012-06-10 00:45:29,046 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1096 DEBUG [2012-06-10 00:45:29,047 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1096 DEBUG [2012-06-10 00:45:29,047 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1096 DEBUG [2012-06-10 00:45:29,047 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1097 DEBUG [2012-06-10 00:45:29,048 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1097 DEBUG [2012-06-10 00:45:29,048 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1098 DEBUG [2012-06-10 00:45:29,049 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1098 DEBUG [2012-06-10 00:45:29,049 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1098 DEBUG [2012-06-10 00:45:29,049 main] jodd.db.DbSession#debug:36 - Closing db session
1099 INFO  [2012-06-10 00:45:29,050 main] c.b.r.install.DbInstaller#info:46 - Database reset
1099 INFO  [2012-06-10 00:45:29,050 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1099 DEBUG [2012-06-10 00:45:29,050 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1101 DEBUG [2012-06-10 00:45:29,052 main] jodd.db.DbSession#debug:36 - Creating new db session
1101 DEBUG [2012-06-10 00:45:29,052 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1101 DEBUG [2012-06-10 00:45:29,052 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1102 DEBUG [2012-06-10 00:45:29,053 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1103 DEBUG [2012-06-10 00:45:29,054 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1103 DEBUG [2012-06-10 00:45:29,054 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1104 DEBUG [2012-06-10 00:45:29,055 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1105 DEBUG [2012-06-10 00:45:29,056 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1105 DEBUG [2012-06-10 00:45:29,056 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1106 DEBUG [2012-06-10 00:45:29,057 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1106 DEBUG [2012-06-10 00:45:29,057 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1106 DEBUG [2012-06-10 00:45:29,057 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1107 DEBUG [2012-06-10 00:45:29,058 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1107 DEBUG [2012-06-10 00:45:29,058 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1108 DEBUG [2012-06-10 00:45:29,059 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1108 DEBUG [2012-06-10 00:45:29,059 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1108 DEBUG [2012-06-10 00:45:29,059 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1109 DEBUG [2012-06-10 00:45:29,060 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1109 DEBUG [2012-06-10 00:45:29,060 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, status INT ) 
1110 DEBUG [2012-06-10 00:45:29,061 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1111 DEBUG [2012-06-10 00:45:29,062 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1111 DEBUG [2012-06-10 00:45:29,062 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1111 DEBUG [2012-06-10 00:45:29,062 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1112 DEBUG [2012-06-10 00:45:29,063 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1112 DEBUG [2012-06-10 00:45:29,063 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1113 DEBUG [2012-06-10 00:45:29,064 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1113 DEBUG [2012-06-10 00:45:29,064 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1114 DEBUG [2012-06-10 00:45:29,065 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1114 DEBUG [2012-06-10 00:45:29,065 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1115 DEBUG [2012-06-10 00:45:29,066 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1115 DEBUG [2012-06-10 00:45:29,066 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1116 DEBUG [2012-06-10 00:45:29,067 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1116 DEBUG [2012-06-10 00:45:29,067 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1117 DEBUG [2012-06-10 00:45:29,068 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1117 DEBUG [2012-06-10 00:45:29,068 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1118 DEBUG [2012-06-10 00:45:29,069 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1118 DEBUG [2012-06-10 00:45:29,069 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1119 DEBUG [2012-06-10 00:45:29,070 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1119 DEBUG [2012-06-10 00:45:29,070 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1120 DEBUG [2012-06-10 00:45:29,071 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1120 DEBUG [2012-06-10 00:45:29,071 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1121 DEBUG [2012-06-10 00:45:29,072 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1122 DEBUG [2012-06-10 00:45:29,073 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1122 DEBUG [2012-06-10 00:45:29,073 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1122 DEBUG [2012-06-10 00:45:29,073 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1123 DEBUG [2012-06-10 00:45:29,074 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1123 DEBUG [2012-06-10 00:45:29,074 main] jodd.db.DbSession#debug:36 - Closing db session
1124 INFO  [2012-06-10 00:45:29,075 main] c.b.r.install.DbInstaller#info:46 - Database created.
1124 INFO  [2012-06-10 00:45:29,075 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1135 DEBUG [2012-06-10 00:45:29,086 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1139 DEBUG [2012-06-10 00:45:29,090 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1161 DEBUG [2012-06-10 00:45:29,112 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1162 DEBUG [2012-06-10 00:45:29,113 main] jodd.db.DbSession#debug:36 - Creating new db session
1163 DEBUG [2012-06-10 00:45:29,114 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1291 DEBUG [2012-06-10 00:45:29,242 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1294 DEBUG [2012-06-10 00:45:29,245 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1295 DEBUG [2012-06-10 00:45:29,246 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1295 DEBUG [2012-06-10 00:45:29,246 main] jodd.db.DbSession#debug:36 - Closing db session
1296 DEBUG [2012-06-10 00:45:29,247 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1296 DEBUG [2012-06-10 00:45:29,247 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1297 DEBUG [2012-06-10 00:45:29,248 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1298 DEBUG [2012-06-10 00:45:29,249 main] jodd.db.DbSession#debug:36 - Creating new db session
1298 DEBUG [2012-06-10 00:45:29,249 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1405 DEBUG [2012-06-10 00:45:29,356 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1406 DEBUG [2012-06-10 00:45:29,357 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1406 DEBUG [2012-06-10 00:45:29,357 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1407 DEBUG [2012-06-10 00:45:29,358 main] jodd.db.DbSession#debug:36 - Closing db session
1407 DEBUG [2012-06-10 00:45:29,358 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1408 DEBUG [2012-06-10 00:45:29,359 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1409 DEBUG [2012-06-10 00:45:29,360 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1409 DEBUG [2012-06-10 00:45:29,360 main] jodd.db.DbSession#debug:36 - Creating new db session
1410 DEBUG [2012-06-10 00:45:29,361 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1515 DEBUG [2012-06-10 00:45:29,466 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1517 DEBUG [2012-06-10 00:45:29,468 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1524 DEBUG [2012-06-10 00:45:29,475 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1524 DEBUG [2012-06-10 00:45:29,475 main] jodd.db.DbSession#debug:36 - Closing db session
1527 DEBUG [2012-06-10 00:45:29,478 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1527 DEBUG [2012-06-10 00:45:29,478 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1528 DEBUG [2012-06-10 00:45:29,479 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1529 DEBUG [2012-06-10 00:45:29,480 main] jodd.db.DbSession#debug:36 - Creating new db session
1529 DEBUG [2012-06-10 00:45:29,480 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1530 DEBUG [2012-06-10 00:45:29,481 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select server.ID, server.ADDRESS, server.ENVIRONMENT, server.NAME, server.STATUS, environment.ID, environment.ENVIRONMENT_NAME, environment.ENVIRONMENT_TYPE, environmentType.ID, environmentType.ENVIRONMENT_TYPE_NAME from BZ_SERVER server join BZ_ENVIRONMENT environment on server.ENVIRONMENT=environment.id join BZ_ENVIRONMENT_TYPE environmentType on environment.ENVIRONMENT_TYPE=environmentType.id where server.id = 0
1540 DEBUG [2012-06-10 00:45:29,491 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1543 DEBUG [2012-06-10 00:45:29,494 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1545 DEBUG [2012-06-10 00:45:29,496 main] jodd.db.DbSession#debug:36 - Closing db session
202 INFO  [2012-06-10 00:45:43,311 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
207 INFO  [2012-06-10 00:45:43,316 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazen/workspace/releasemanager-parent/releasemanager-core
207 INFO  [2012-06-10 00:45:43,316 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
212 INFO  [2012-06-10 00:45:43,321 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
219 DEBUG [2012-06-10 00:45:43,328 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
220 INFO  [2012-06-10 00:45:43,329 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
280 DEBUG [2012-06-10 00:45:43,389 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/crypt/PasswordEncoder
290 DEBUG [2012-06-10 00:45:43,399 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: passwordEncoder of type: PasswordEncoder in: SingletonScope using wiring mode: STRICT
294 DEBUG [2012-06-10 00:45:43,403 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/joy/db/AppDao
295 DEBUG [2012-06-10 00:45:43,404 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appDao of type: AppDao in: SingletonScope using wiring mode: STRICT
394 DEBUG [2012-06-10 00:45:43,503 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/ServerService
403 DEBUG [2012-06-10 00:45:43,512 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: serverService of type: ServerService$Proxetta in: SingletonScope using wiring mode: STRICT
407 DEBUG [2012-06-10 00:45:43,516 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/service/EnvironmentService
410 DEBUG [2012-06-10 00:45:43,519 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: environmentService of type: EnvironmentService$Proxetta in: SingletonScope using wiring mode: STRICT
414 DEBUG [2012-06-10 00:45:43,523 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/install/DbInstaller
416 DEBUG [2012-06-10 00:45:43,525 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbInstaller of type: DbInstaller in: SingletonScope using wiring mode: STRICT
418 DEBUG [2012-06-10 00:45:43,527 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/AppData
419 DEBUG [2012-06-10 00:45:43,528 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appData of type: AppData in: SingletonScope using wiring mode: STRICT
421 DEBUG [2012-06-10 00:45:43,530 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppInit
422 DEBUG [2012-06-10 00:45:43,531 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: appInit of type: ReleaseManagerAppInit in: SingletonScope using wiring mode: STRICT
423 INFO  [2012-06-10 00:45:43,532 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 183 ms. Total beans: 7
500 DEBUG [2012-06-10 00:45:43,609 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
501 DEBUG [2012-06-10 00:45:43,610 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
541 INFO  [2012-06-10 00:45:43,650 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
546 DEBUG [2012-06-10 00:45:43,655 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
559 DEBUG [2012-06-10 00:45:43,668 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
564 INFO  [2012-06-10 00:45:43,673 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
970 DEBUG [2012-06-10 00:45:44,079 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/oom/DbOomManager
972 DEBUG [2012-06-10 00:45:44,081 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dboom of type: DbOomManager in: SingletonScope using wiring mode: STRICT
1093 INFO  [2012-06-10 00:45:44,202 main] j.d.o.c.AutomagicDbOomConfigurator#info:46 - DbOomManager configured in 108 ms. Total entities: 9
1099 DEBUG [2012-06-10 00:45:44,208 main] c.b.r.ReleaseManagerAppInit#init:24 - app init
1099 DEBUG [2012-06-10 00:45:44,208 main] c.b.r.ReleaseManagerAppInit#init:25 - brazen doc root: null
1099 DEBUG [2012-06-10 00:45:44,208 main] c.b.r.install.DbInstaller#debug:36 - Check database.
1100 DEBUG [2012-06-10 00:45:44,209 main] jodd.db.DbSession#debug:36 - Creating new db session
1104 DEBUG [2012-06-10 00:45:44,213 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1107 DEBUG [2012-06-10 00:45:44,216 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select count(1) from bz_environment_type
1111 DEBUG [2012-06-10 00:45:44,220 main] c.b.r.install.DbInstaller#debug:36 - Database OK.
1112 DEBUG [2012-06-10 00:45:44,221 main] jodd.db.DbSession#debug:36 - Closing db session
1112 INFO  [2012-06-10 00:45:44,221 main] c.b.r.install.DbInstaller#info:46 - Resetting database...
1112 DEBUG [2012-06-10 00:45:44,221 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb-reset.sql
1114 DEBUG [2012-06-10 00:45:44,223 main] jodd.db.DbSession#debug:36 - Creating new db session
1114 DEBUG [2012-06-10 00:45:44,223 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1114 DEBUG [2012-06-10 00:45:44,223 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_artifact 
1115 DEBUG [2012-06-10 00:45:44,224 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1115 DEBUG [2012-06-10 00:45:44,224 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_build 
1116 DEBUG [2012-06-10 00:45:44,225 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1116 DEBUG [2012-06-10 00:45:44,225 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_product 
1116 DEBUG [2012-06-10 00:45:44,225 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1117 DEBUG [2012-06-10 00:45:44,226 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_server 
1117 DEBUG [2012-06-10 00:45:44,226 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1118 DEBUG [2012-06-10 00:45:44,227 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment_type 
1118 DEBUG [2012-06-10 00:45:44,227 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1118 DEBUG [2012-06-10 00:45:44,227 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_environment 
1119 DEBUG [2012-06-10 00:45:44,228 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1119 DEBUG [2012-06-10 00:45:44,228 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_deployment 
1120 DEBUG [2012-06-10 00:45:44,229 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1120 DEBUG [2012-06-10 00:45:44,229 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_user 
1120 DEBUG [2012-06-10 00:45:44,229 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1121 DEBUG [2012-06-10 00:45:44,230 main] jodd.db.DbQueryBase#debug:36 - Executing update: DROP TABLE bz_serverstatus 
1121 DEBUG [2012-06-10 00:45:44,230 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1121 DEBUG [2012-06-10 00:45:44,230 main] jodd.db.DbSession#debug:36 - Closing db session
1122 INFO  [2012-06-10 00:45:44,231 main] c.b.r.install.DbInstaller#info:46 - Database reset
1122 INFO  [2012-06-10 00:45:44,231 main] c.b.r.install.DbInstaller#info:46 - Creating database...
1122 DEBUG [2012-06-10 00:45:44,231 main] c.b.r.install.DbInstaller#debug:36 - Executing /res/db-hsqldb.sql
1124 DEBUG [2012-06-10 00:45:44,233 main] jodd.db.DbSession#debug:36 - Creating new db session
1124 DEBUG [2012-06-10 00:45:44,233 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1124 DEBUG [2012-06-10 00:45:44,233 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_artifact ( id INT IDENTITY, artifactId VARCHAR(1000) NOT NULL, version VARCHAR(200) NOT NULL ) 
1125 DEBUG [2012-06-10 00:45:44,234 main] c.b.r.install.DbInstaller#debug:36 - executed query #1
1126 DEBUG [2012-06-10 00:45:44,235 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_artifact_artifactId ON bz_artifact (artifactId) 
1126 DEBUG [2012-06-10 00:45:44,235 main] c.b.r.install.DbInstaller#debug:36 - executed query #2
1127 DEBUG [2012-06-10 00:45:44,236 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_build ( id INT IDENTITY, build_id VARCHAR(200) NOT NULL, version VARCHAR(200) NOT NULL, product INT NOT NULL ) 
1128 DEBUG [2012-06-10 00:45:44,237 main] c.b.r.install.DbInstaller#debug:36 - executed query #3
1128 DEBUG [2012-06-10 00:45:44,237 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_buildid ON bz_build (build_id) 
1128 DEBUG [2012-06-10 00:45:44,237 main] c.b.r.install.DbInstaller#debug:36 - executed query #4
1129 DEBUG [2012-06-10 00:45:44,238 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_version ON bz_build (build_id, version) 
1129 DEBUG [2012-06-10 00:45:44,238 main] c.b.r.install.DbInstaller#debug:36 - executed query #5
1130 DEBUG [2012-06-10 00:45:44,239 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_build_product ON bz_build (product) 
1130 DEBUG [2012-06-10 00:45:44,239 main] c.b.r.install.DbInstaller#debug:36 - executed query #6
1130 DEBUG [2012-06-10 00:45:44,239 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_product ( id INT IDENTITY, product_name VARCHAR(200) ) 
1131 DEBUG [2012-06-10 00:45:44,240 main] c.b.r.install.DbInstaller#debug:36 - executed query #7
1131 DEBUG [2012-06-10 00:45:44,240 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_product_productname ON bz_product (product_name) 
1132 DEBUG [2012-06-10 00:45:44,241 main] c.b.r.install.DbInstaller#debug:36 - executed query #8
1132 DEBUG [2012-06-10 00:45:44,241 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_server ( id INT identity, name VARCHAR(200) NOT NULL, address VARCHAR(200) NOT NULL, environment INT, status INT ) 
1133 DEBUG [2012-06-10 00:45:44,242 main] c.b.r.install.DbInstaller#debug:36 - executed query #9
1134 DEBUG [2012-06-10 00:45:44,243 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_name ON bz_server (name) 
1134 DEBUG [2012-06-10 00:45:44,243 main] c.b.r.install.DbInstaller#debug:36 - executed query #10
1134 DEBUG [2012-06-10 00:45:44,243 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_server_address ON bz_server(address) 
1135 DEBUG [2012-06-10 00:45:44,244 main] c.b.r.install.DbInstaller#debug:36 - executed query #11
1135 DEBUG [2012-06-10 00:45:44,244 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment_type ( id INT IDENTITY, environment_type_name VARCHAR(100) NOT NULL ) 
1136 DEBUG [2012-06-10 00:45:44,245 main] c.b.r.install.DbInstaller#debug:36 - executed query #12
1136 DEBUG [2012-06-10 00:45:44,245 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (0, 'STAGING') 
1137 DEBUG [2012-06-10 00:45:44,246 main] c.b.r.install.DbInstaller#debug:36 - executed query #13
1137 DEBUG [2012-06-10 00:45:44,246 main] jodd.db.DbQueryBase#debug:36 - Executing update: INSERT INTO bz_environment_type VALUES (1, 'PRODUCTION') 
1137 DEBUG [2012-06-10 00:45:44,246 main] c.b.r.install.DbInstaller#debug:36 - executed query #14
1138 DEBUG [2012-06-10 00:45:44,247 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_environment ( id INT IDENTITY, environment_name VARCHAR(200) NOT NULL, environment_type INT ) 
1138 DEBUG [2012-06-10 00:45:44,247 main] c.b.r.install.DbInstaller#debug:36 - executed query #15
1139 DEBUG [2012-06-10 00:45:44,248 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_environment_name ON bz_environment (environment_name) 
1139 DEBUG [2012-06-10 00:45:44,248 main] c.b.r.install.DbInstaller#debug:36 - executed query #16
1139 DEBUG [2012-06-10 00:45:44,248 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_deployment ( id INT IDENTITY, deployment_time TIMESTAMP NOT NULL, server INT, build INT ) 
1140 DEBUG [2012-06-10 00:45:44,249 main] c.b.r.install.DbInstaller#debug:36 - executed query #17
1140 DEBUG [2012-06-10 00:45:44,249 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_server ON bz_deployment (server) 
1141 DEBUG [2012-06-10 00:45:44,250 main] c.b.r.install.DbInstaller#debug:36 - executed query #18
1141 DEBUG [2012-06-10 00:45:44,250 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_deployment_build ON bz_deployment (build) 
1141 DEBUG [2012-06-10 00:45:44,250 main] c.b.r.install.DbInstaller#debug:36 - executed query #19
1145 DEBUG [2012-06-10 00:45:44,254 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_user ( id INT IDENTITY, screen_name VARCHAR(20) NOT NULL, name VARCHAR(100) NOT NULL, hashpw VARCHAR(100) NOT NULL ) 
1146 DEBUG [2012-06-10 00:45:44,255 main] c.b.r.install.DbInstaller#debug:36 - executed query #20
1146 DEBUG [2012-06-10 00:45:44,255 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE INDEX idx_user_screenname ON bz_user (screen_name) 
1147 DEBUG [2012-06-10 00:45:44,256 main] c.b.r.install.DbInstaller#debug:36 - executed query #21
1147 DEBUG [2012-06-10 00:45:44,256 main] jodd.db.DbQueryBase#debug:36 - Executing update: CREATE TABLE bz_serverstatus ( id INT IDENTITY, health VARCHAR(10) NOT NULL, warningMessage VARCHAR(1000) ) 
1148 DEBUG [2012-06-10 00:45:44,257 main] c.b.r.install.DbInstaller#debug:36 - executed query #22
1148 DEBUG [2012-06-10 00:45:44,257 main] jodd.db.DbSession#debug:36 - Closing db session
1148 INFO  [2012-06-10 00:45:44,257 main] c.b.r.install.DbInstaller#info:46 - Database created.
1149 INFO  [2012-06-10 00:45:44,258 main] jodd.joy.core.DefaultAppCore#info:46 - app started
1160 DEBUG [2012-06-10 00:45:44,269 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1164 DEBUG [2012-06-10 00:45:44,273 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1187 DEBUG [2012-06-10 00:45:44,296 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1188 DEBUG [2012-06-10 00:45:44,297 main] jodd.db.DbSession#debug:36 - Creating new db session
1188 DEBUG [2012-06-10 00:45:44,297 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1300 DEBUG [2012-06-10 00:45:44,409 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select EnvironmentType.ID, EnvironmentType.ENVIRONMENT_TYPE_NAME from BZ_ENVIRONMENT_TYPE EnvironmentType where EnvironmentType.ENVIRONMENT_TYPE_NAME='STAGING'
1303 DEBUG [2012-06-10 00:45:44,412 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1304 DEBUG [2012-06-10 00:45:44,413 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1304 DEBUG [2012-06-10 00:45:44,413 main] jodd.db.DbSession#debug:36 - Closing db session
1305 DEBUG [2012-06-10 00:45:44,414 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1305 DEBUG [2012-06-10 00:45:44,414 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1306 DEBUG [2012-06-10 00:45:44,415 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1307 DEBUG [2012-06-10 00:45:44,416 main] jodd.db.DbSession#debug:36 - Creating new db session
1307 DEBUG [2012-06-10 00:45:44,416 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1395 DEBUG [2012-06-10 00:45:44,504 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_ENVIRONMENT (ENVIRONMENT_NAME, ENVIRONMENT_TYPE) values ('test', 0)
1396 DEBUG [2012-06-10 00:45:44,505 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1396 DEBUG [2012-06-10 00:45:44,505 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1396 DEBUG [2012-06-10 00:45:44,505 main] jodd.db.DbSession#debug:36 - Closing db session
1397 DEBUG [2012-06-10 00:45:44,506 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readwrite,Default,-1}
1397 DEBUG [2012-06-10 00:45:44,506 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readwrite,Default,-1}}
1399 DEBUG [2012-06-10 00:45:44,508 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1399 DEBUG [2012-06-10 00:45:44,508 main] jodd.db.DbSession#debug:36 - Creating new db session
1399 DEBUG [2012-06-10 00:45:44,508 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1485 DEBUG [2012-06-10 00:45:44,594 main] jodd.db.DbQueryBase#debug:36 - Executing update: insert into BZ_SERVER (ADDRESS, ENVIRONMENT, NAME) values ('127.0.0.1', 0, 'localhost')
1494 DEBUG [2012-06-10 00:45:44,603 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1494 DEBUG [2012-06-10 00:45:44,603 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1495 DEBUG [2012-06-10 00:45:44,604 main] jodd.db.DbSession#debug:36 - Closing db session
1502 DEBUG [2012-06-10 00:45:44,611 main] jodd.jtx.JtxTransactionManager#debug:36 - Requesting TX jtx{Supports,readonly,Default,-1}
1502 DEBUG [2012-06-10 00:45:44,611 main] jodd.jtx.JtxTransaction#debug:36 - New JTX {status:No transaction, mode:jtx{Supports,readonly,Default,-1}}
1503 DEBUG [2012-06-10 00:45:44,612 main] jodd.jtx.db.DbJtxSessionProvider#debug:36 - Requesting db TX manager session
1503 DEBUG [2012-06-10 00:45:44,612 main] jodd.db.DbSession#debug:36 - Creating new db session
1504 DEBUG [2012-06-10 00:45:44,613 main] jodd.db.pool.CoreConnectionPool#debug:36 - returning valid pooled connection
1505 DEBUG [2012-06-10 00:45:44,614 main] jodd.db.DbQueryBase#debug:36 - Executing statement: select server.ID, server.ADDRESS, server.ENVIRONMENT, server.NAME, server.STATUS, environment.ID, environment.ENVIRONMENT_NAME, environment.ENVIRONMENT_TYPE, environmentType.ID, environmentType.ENVIRONMENT_TYPE_NAME from BZ_SERVER server join BZ_ENVIRONMENT environment on server.ENVIRONMENT=environment.id join BZ_ENVIRONMENT_TYPE environmentType on environment.ENVIRONMENT_TYPE=environmentType.id where server.id = 0
1515 DEBUG [2012-06-10 00:45:44,624 main] jodd.jtx.worker.LeanJtxWorker#debug:36 - commit tx
1515 DEBUG [2012-06-10 00:45:44,624 main] jodd.jtx.JtxTransaction#debug:36 - Commit JTX
1516 DEBUG [2012-06-10 00:45:44,625 main] jodd.db.DbSession#debug:36 - Closing db session
915 INFO  [2012-06-10 10:56:40,940 main] jodd.joy.core.DefaultAppCore#info:46 - app dir: /home/mike/dev/brazenrm/brazen-releasemanager/releasemanager-parent/releasemanager-core
922 INFO  [2012-06-10 10:56:40,947 main] jodd.joy.core.DefaultAppCore#info:46 - brazen.dir: /home/mike/dev/brazenrm/brazen-releasemanager/releasemanager-parent/releasemanager-core
922 INFO  [2012-06-10 10:56:40,947 main] jodd.joy.core.DefaultAppCore#info:46 - proxetta initialization
930 INFO  [2012-06-10 10:56:40,955 main] jodd.joy.core.DefaultAppCore#info:46 - petite initialization
952 DEBUG [2012-06-10 10:56:40,977 main] jodd.petite.PetiteContainer#debug:36 - Petite container created.
953 INFO  [2012-06-10 10:56:40,978 main] jodd.joy.core.DefaultAppCore#info:46 - app in web: false
1036 INFO  [2012-06-10 10:56:41,061 main] j.p.c.AutomagicPetiteConfigurator#info:46 - Petite configured in 6 ms. Total beans: 0
1112 DEBUG [2012-06-10 10:56:41,137 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for com/brazen/releasemanager/ReleaseManagerAppCore
1125 DEBUG [2012-06-10 10:56:41,150 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: app of type: ReleaseManagerAppCore in: SingletonScope using wiring mode: STRICT
1136 INFO  [2012-06-10 10:56:41,161 main] jodd.joy.core.DefaultAppCore#info:46 - database initialization
1139 DEBUG [2012-06-10 10:56:41,164 main] j.proxetta.asm.ProxettaCreator#debug:36 - Creating proxy for jodd/db/pool/CoreConnectionPool
1140 DEBUG [2012-06-10 10:56:41,165 main] jodd.petite.PetiteBeans#debug:36 - Registering bean: dbpool of type: CoreConnectionPool in: SingletonScope using wiring mode: STRICT
1148 INFO  [2012-06-10 10:56:41,173 main] jodd.db.pool.CoreConnectionPool#info:46 - core connection pool initialization
1154 ERROR [2012-06-10 10:56:41,179 main] jodd.joy.core.DefaultAppCore#error:76 - java.lang.NullPointerException
java.lang.NullPointerException: null
	at java.lang.Class.forName0(Native Method) ~[na:1.6.0_23]
	at java.lang.Class.forName(Class.java:186) ~[na:1.6.0_23]
	at jodd.db.pool.CoreConnectionPool.init(CoreConnectionPool.java:174) ~[jodd-wot-3.3.3.jar:3.3.3]
	at jodd.joy.core.DefaultAppCore.startDb(DefaultAppCore.java:375) ~[jodd-joy-3.3.3.jar:3.3.3]
	at jodd.joy.core.DefaultAppCore.start(DefaultAppCore.java:186) ~[jodd-joy-3.3.3.jar:3.3.3]
	at com.brazen.releasemanager.service.ServerServiceTest.setUpBeforeClass(ServerServiceTest.java:24) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.6.0_23]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.6.0_23]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.6.0_23]
	at java.lang.reflect.Method.invoke(Method.java:616) ~[na:1.6.0_23]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45) [junit-4.10.jar:na]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15) [junit-4.10.jar:na]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42) [junit-4.10.jar:na]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27) [junit-4.10.jar:na]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300) [junit-4.10.jar:na]
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62) [surefire-junit4-2.4.3.jar:2.4.3]
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140) [surefire-api-2.4.3.jar:2.4.3]
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127) [surefire-api-2.4.3.jar:2.4.3]
	at org.apache.maven.surefire.Surefire.run(Surefire.java:177) [surefire-api-2.4.3.jar:2.4.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.6.0_23]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.6.0_23]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.6.0_23]
	at java.lang.reflect.Method.invoke(Method.java:616) ~[na:1.6.0_23]
	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345) [surefire-booter-2.4.3.jar:2.4.3]
	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009) [surefire-booter-2.4.3.jar:2.4.3]
1159 INFO  [2012-06-10 10:56:41,184 main] jodd.joy.core.DefaultAppCore#info:46 - shutting down...
1160 INFO  [2012-06-10 10:56:41,185 main] jodd.joy.core.DefaultAppCore#info:46 - database shutdown
